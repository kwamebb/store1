(()=>{"use strict";var t={45:(t,e,i)=>{i.d(e,{P9:()=>f,Rh:()=>b,nn:()=>$,oD:()=>R,yS:()=>w});var s=i(571),n=i(957),o=i(986),r=i(657),a=i(357),l=i(651),d=i(297);let c=0;const p=588;let u=p,v=!1,g="",A="",w=null,h=5,m=0,_="";function f(t){window.innerWidth<p&&(u=window.innerWidth);const e=t,i=s.A.lang.separate_review_form,r=s.A.lang.separate_review_form,f=s.A.lang.separate_review_form.discount_setting,b=t.discount_setting,$=function(t,e,i){let s="",n="";const r=1===t.discount_for_reviews_form||2===t.discount_for_reviews_form&&"undefined"!=typeof isEmailWrite;if(r){const{reward_strategy:r,discount_value_video:a,discount_value_photo:l}=t,d=1===r;s=function(t,e,i,s){const{discount_value_photo:n,discount_value_video:r}=i;if(!n&&!r)return`<div class="upload-desc">${e.no_discount}</div>`;let a="",l="";r&&n?(a=t?"video_discount":"photo_discount",l=t?r:n):r?(a="video_discount",l=r):n&&(a="photo_discount",l=n);if(a)return`<div class="upload-desc">${(0,o.parseDiscountValue)(e[a],l,s)}</div>`;return""}(d,e,t,i),l&&a&&(n=function(t,e,i,s){if(i&&!t)return`<div class="upload-desc">${(0,o.parseDiscountValue)(e.video_discount,i,s)}</div>`;return""}(d,e,a,i))}else s=`<div class="upload-desc">${e.no_discount}</div>`;return{photoDiscountTip:s,videoDiscountTip:n}}(b,f,b.currency);g=$.photoDiscountTip,A=$.videoDiscountTip,_=b.currency;const{logo_src:q,logo_alignment:L,logo_size:E}=e;let P="";if(1===t.show_privacy_policy){let e="";const i=r.privacy_policy,s=r.terms,n=r.consent_text.replace("{{privacy_policy}}",`<a target="_blank" href="https://app.trustoo.io/privacy_policy">${i}</a>`).replace("{{terms}}",`<a target="_blank" href="https://app.trustoo.io/terms_service">${s}</a>`);1===t.show_checkbox&&(e='<input type="checkbox"  id="tt-protection-checkbox">'),P=`<div id="tt-protection">\n\t\t\t${e}<label for="tt-protection-checkbox">${n}</label>\n\t\t</div>`}let I=1===t.enabled_add_video?`\n    <div class="slide-separate">\n      <span class="slide-line"></span><span class="slide-or">${i.or}</span><span class="slide-line"></span>\n    </div>\n\t\t\t${A}\n    <div class="upload-file">\n      <span>${i.add_video}</span> \n      <input class="upload-input tt-video-uploader" type="file" accept=".mp4,.mkv,.mov,.avi,.flv,.ts,.ps,.mxf,.lxf,.gxf,.3gp,.webm,.mpg,.quicktime">\n    </div> \n  `:"";s.A.attributeConfig&&(h+=s.A.attributeConfig.attributes.length),m=t.rating_icon_type;const M=`class="stars vstar-star" data-type="${t.rating_icon_type}"`,D=`\n    <div id="trustoo-slide-wrapper">\n    <div id="trustoo-slide" class="trustoo-write-review trustoo-widget">\n    <div class="write-review-container" style="left:0px">\n      <div class="write-review-slide active" data-rating-slide  index="0">\n          <div class="window-close tt-write_review_close"></div>\n        <div class="slide-title">${i.slide_1_title}</div>\n        <div class="slide-options">\n          <div class="slide-option" rating="5"><div ${M}>${k(5)}</div>${i.rating_options[0]}</div>\n          <div class="slide-option" rating="4"><div ${M}>${k(4)}</div>${i.rating_options[1]}</div>\n          <div class="slide-option" rating="3"><div ${M}>${k(3)}</div>${i.rating_options[2]}</div>\n          <div class="slide-option" rating="2"><div ${M}>${k(2)}</div>${i.rating_options[3]}</div>\n          <div class="slide-option" rating="1"><div ${M}>${k(1)}</div>${i.rating_options[4]}</div>\n        </div>\n      </div>\n      <div class="write-review-slide" data-resource-slide index="1">\n        <div class="slide-title">${i.slide_2_title}</div>\n        <div class="slide-desc">${i.slide_2_subtitle}</div>\n        <div class="slide-upload">\n          ${g}\n          <div class="upload-file">\n            <span>${i.add_photo}</span> \n            <input class="upload-input tt-image-uploader" type="file" accept=".gif,.jpeg,.jpg,.png">\n          </div>\n          ${I}\n        </div>\n        <button class="back-slide slide-button">${i.back}</button>\n        <button class="slide-skip next-slide">${i.skip}</button>\n      </div>\n      <div class="write-review-slide" data-content-slide index="2">\n        <div class="upload-file-tip"></div>\n        <div class="slide-title">${i.slide_3_title}</div>\n        <textarea maxLength="${s.A.newRevCharLimit}" class="slide-content" cols="30" rows="10" placeholder="${i.content_from_placeholder}"></textarea>\n        <button class="back-slide slide-button">${i.back}</button>\n        <button class="slide-next next-slide" disabled>${i.next}</button>\n      </div>\n\t\t\t${y(!0)}\n      <div class="write-review-slide" data-reviewer-slide index="${h-2}">\n        <div class="slide-title">${i.slide_4_title}</div>\n        <input type="text" maxLength="50" class="slide-name slide-input" placeholder="${i.your_name}">\n        <input type="text" name="email" class="slide-email slide-input" placeholder="${i.email}">\n        ${P}\n        <button class="back-slide slide-button">${i.back}</button>\n        <button class="slide-done next-slide" disabled>${i.done}</button>\n      </div>\n      <div class="write-review-slide" data-last-slide index="${h-1}">\n\t\t\t\t\t<div class="slide-title">${i.slide_5_title}</div>\n\t\t\t\t\t<div class="slide-desc">${i.slide_5_subtitle}</div>\n\t\t\t\t\t<div class="slide-discount" style="display:none">\n\t\t\t\t\t\t<span class="discount-code"></span>\n\t\t\t\t\t\t<span class="discount-copy">${i.discount_setting.copy}</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<button class="slide-finish next-slide">${i.continue}</button>\n      </div>\n    </div>\n  </div>\n  </div>\n  `;(0,o.$dqs)("#trustoo-mask").insertAdjacentHTML("beforeend",D);const B="undefined"!=typeof Review&&["ar","he"].includes(Review.lang)?"#trustoo-slide .slide-content,#trustoo-slide .slide-input {\n\t\tdirection: rtl;\n\t}":"";if(q&&document.querySelectorAll(".write-review-slide").forEach(t=>t.insertAdjacentHTML("afterbegin",`<div id="tt-write-logo"  style="width: 100%;padding-bottom: 20px;text-align: ${L};"><img style="width: ${E}px;" src="${q}" /></div>`)),s.A.globalStyle.textContent+=`\n\t.trustoo-write-review,#tt-product-selector{\n\t\t--button-bg-color: ${t.review_button_background_color};\n\t\t--button-text-color: ${t.review_button_text_color};\n\t\t--button-radius: ${t.button_radius}px;\n\t\t--text-color: ${t.text_color};\n\t\t--light-text-color: ${(0,o.hexToRgba)(t.text_color,.4)};\n\t\t--discount-code-color:${t.discount_text_color};\n\t\t--discount-copy-color:${t.discount_copy_color};\n\t}\n\t.trustoo-write-review .slide-content{\n\t\tbackground:${(0,o.hexToRgba)(t.text_color,.05)}\n\t}\n\t.trustoo-write-review .vstar-star{\n\t\t--star-color: ${t.review_button_background_color};\n\t\t--nostar-color: ${t.review_button_text_color};\n\t}\n\t.trustoo-write-review,#tt-product-selector{\n\t\t--write-bg:${t.popup_bg_color};\n\t\tbackground: ${t.popup_bg_color};\n\t\tborder-radius: ${t.popup_radius}px;\n\t\tcolor:${t.text_color}\n\t}\n\t.trustoo-write-review .slide-upload {\n\t\tbackground: ${t.popup_bg_color};\n\t}\n\t.trustoo-widget .window-discount,.trustoo-widget .slide-discount{\n\t\tbackground:${t.discount_bg_color};\n\t\tborder-radius: ${t.discount_card_radius}px;\n\t}\n\t${B}\n\t`,function(t){const e=(0,o.$dqs)("#trustoo-slide");s.A.slide=e,(0,o.$dqs)(".window-close",e).onclick=function(){R()},(0,o.$dqsa)(".slide-option",e).forEach(t=>{t.onclick=function(){s.A.ratingVal=t.getAttribute("rating"),S()},t.onmouseover=function(){t.classList.add("active")},t.onmouseout=function(){t.classList.remove("active")}}),(0,o.$dqs)(".upload-input.tt-image-uploader",e).onchange=async function(){const e=this.files[0];if(!(0,o.validateFileType)(e,"image"))return(0,o.setToast)(s.A.lang.all_in_one_from.upload_photo_tip),this.value="",!1;if(s.A.uploadType=1,(0,o.$dqs)(".upload-file-tip").style.display="block",(0,o.$dqs)(".upload-file-tip").innerHTML=a.A.loading(t)+"Uploading",S(),!Object.keys(s.A.uploadImgInfo).length){const t=await n.zG.getPolicyToken();s.A.uploadImgInfo=t[1]}const i=this;(0,o.compressImage)(e).then(e=>{n.zG.uploadImg(e).then(e=>{null===e[0]&&((0,o.$dqs)(".upload-file-tip").innerHTML=a.A.over(t),s.A.mediaUrl[0]={url:"https://img.trustoo.io/"+e[1].key,resource_type:1},i.value="")})})};const i=(0,o.$dqs)(".tt-video-uploader",e);i&&(i.onchange=async function(){const e=this.files[0];if(!(0,o.validateFileType)(e,"video"))return(0,o.setToast)(s.A.lang.all_in_one_from.upload_video_tip),i.value="",!1;const l=parseInt(e.size/1048576);if(l>=600)return(0,o.setToast)("The file cannot exceed 600MB"),i.value="",!1;(0,o.$dqs)(".upload-file-tip").style.display="block",(0,o.$dqs)(".upload-file-tip").innerHTML=a.A.loading(t)+"Uploading",S(),s.A.uploadType=2,v=!0;const c=(0,o.$dqs)(".slide-done");c.setAttribute("disabled",!0),l>=200?(0,d.i_)(e,0,(t,e)=>{r(c,"success",{domain:t,video_service_uid:e})},()=>{r(c,"fail")}):n.zG.getUploadVideoUrl().then(t=>{const{upload_url:i}=t[1];n.zG.uploadVideo(i,e).then(()=>{r(c,"success",t[1])}).catch(()=>{r(c,"fail")})}).catch(()=>{r(c,"fail")})});function r(e,n,r=null){if((0,o.$dqs)(".upload-file-tip").innerHTML="",v=!1,w(),3===c&&(e.textContent=s.A.lang.separate_review_form.done),"fail"===n&&(0,o.setToast)(s.A.lang.error_tip),r){const{video_service_uid:e,domain:i}=r,n=i+"/"+e;s.A.mediaUrl[0]={url:n+"/iframe",resource_type:2},(0,o.$dqs)(".upload-file-tip").innerHTML=a.A.over(t)}i.value=""}const p=(0,o.$dqs)(".slide-content",e),g=(0,o.$dqs)(".slide-next",e);p.oninput=function(){""!==this.value?g.removeAttribute("disabled"):g.setAttribute("disabled",!0)},p.onblur=function(){""===this.value&&g.setAttribute("disabled",!0)};const A=/^[a-zA-Z0-9_-]+(\.[A-Za-z0-9_-]+)*@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/,h=(0,o.$dqsa)("input.slide-input",e),m=(0,o.$dqs)(".slide-done",e);w=(0,o.debounce)(function(){if(""!==h[1].value){const t=(0,o.$dqs)(".input-tip",e);A.test(h[1].value)?t&&(0,o.$dqs)(".input-tip",e).remove():t||h[1].insertAdjacentHTML("afterend",`<div class="input-tip">\n            <span class="tt-error_tip"></span><span>${s.A.lang.email_error}</span>\n          </div>`)}x()},300),h.forEach(t=>{t.oninput=w,t.onblur=function(){x()}});const f=(0,o.$dqs)("#tt-protection-checkbox",e);f&&(f.onchange=function(){x()});(0,o.$dqs)(".discount-copy",e).onclick=function(){(0,o.copyToClipboard)((0,o.$dqs)(".discount-code",e).textContent,()=>{(0,o.setToast)(s.A.copyText||s.A.lang.copy_succ)})},e.addEventListener("click",t=>{const i=t.target,r=i.classList;if(r.contains("next-slide"))r.contains("slide-next")&&v&&(m.textContent=s.A.lang.separate_review_form.uploading_video_tip),r.contains("slide-finish")?(R(),c=0,(0,o.$dqsa)(".slide-discount",e).forEach(t=>t.style.display="none"),(0,o.$dqs)(".write-review-slide.active").classList.remove("active"),(0,o.$dqs)('.write-review-slide[index="0"]').classList.add("active"),(0,o.$dqs)(".write-review-container").style.left=0):r.contains("slide-done")?(i.innerHTML="",(0,o.setLoading)(i),function(){const t={},e=s.A.slide,i="shop"===e.dataset.reviewType;s.A.ip&&(t.ip=s.A.ip,t.author_country=s.A.loc);const r=(0,o.$dqs)(".slide-name",e),a=(0,o.$dqs)(".slide-email",e),d=(0,o.$dqs)(".slide-content",e);t.author=r.value,t.author_email=a.value,t.content=d.value,s.A.isLinkReqRev&&("undefined"==typeof isEmailWrite&&(t.source="store_link"),void 0!==s.A.writeLinkParams.dondy&&(t.source="store_link_dondy"));const c=(0,o.$dqs)("#tt-protection-checkbox",e);c&&c.checked&&(t.agree_privacy=1);const p=(0,l.uq)();p.length&&(t.attributes_info={attributes:p,attribute_collection_id:s.A.attributeConfig.attribute_collection_id});n.zG.uploadReview(t,s.A.mediaUrl,i).then(t=>{if(t[0]){let e="";e=-2===t[0].code?t[0].error:s.A.lang.error_tip,(0,o.setToast)(e)}else!function(t,e,i,n,r){const a=s.A.slide,l=s.A.lang.separate_review_form,d=t[1],c=(0,o.$dqs)(".write-review-slide[data-last-slide] .slide-title",a);if(d&&d.discount_code&&d.discount_value){const t=d.discount_value,e=l.discount_setting,i=(0,o.$dqs)(".write-review-slide[data-last-slide] .slide-desc",a);c.textContent=(0,o.parseDiscountValue)(e.title,t,_),c.style.marginTop="69px",i.textContent=(0,o.parseDiscountValue)(e.subtitle,t,_),(0,o.$dqs)(".slide-discount",a).style.display="flex",(0,o.$dqs)(".discount-code",a).textContent=d.discount_code}else c.style.marginTop="108px";S(),(0,o.$dqsa)("[data-content-slide] .slide-next,.slide-done",a).forEach(t=>t.setAttribute("disabled",!0)),(0,o.$dqs)(".upload-file-tip",a).innerHTML="",e.value=i.value=n.value="",r&&(r.checked=!1);if(s.A.mediaUrl=[],s.A.isLinkReqRev){const t=new URLSearchParams(window.location.search);t.delete("req"),t.delete("dondy");const e=t.toString(),i=window.location.pathname+(e?"?"+e:"");window.history.replaceState({},"",i),s.A.isLinkReqRev=!1}}(t,r,a,d,c);(0,o.$dqs)(".slide-done",e).innerHTML=s.A.lang.separate_review_form.done})}()):S();else if(r.contains("back-slide")){const t=(0,o.$dqs)(`.write-review-slide[index="${c}"]`);T(t,t.previousElementSibling),c--,(0,o.$dqs)(".write-review-container").style.left=(parseInt(t.getAttribute("index"))-1)*-u+"px"}})}(t.text_color),C(),s.A.isLinkReqRev){document.body.classList.add("trustoo-open"),(0,o.$dqs)("#trustoo-mask").style.display="flex";const t=(0,o.$dqs)(".trustoo-write-review");t.style.display="block",t.parentNode.style.display="block"}}function y(t=!1){const e=s.A.lang.separate_review_form;let i="";if(s.A.attributeConfig){const n=s.A.attributeConfig.attributes,o=t?"data-normal-product":"data-select-product";n.forEach((t,s)=>{let n="";"multiple_choice"===t.type&&(n=`<button class="slide-next next-slide">${e.next}</button>`),i+=`<div class="write-review-slide" index="${3+s}" ${o} data-attribute data-type="${t.type}">\n\t\t\t${n}\n\t\t\t  <button class="back-slide slide-button">${e.back}</button>\n        <button class="slide-skip next-slide">${e.next}</button>\n      </div>`})}return i}function b(){n.zG.getAttribute().then(t=>{t[1]&&(s.A.attributeConfig=t[1],(0,o.$dqs)("[data-reviewer-slide]",s.A.slide).insertAdjacentHTML("beforebegin",y()),C(),$())})}function $(){let t=0;"normal"!==s.A.slide.dataset.reviewType&&(0,o.$dqsa)(".write-review-slide",s.A.slide).forEach(e=>{"normalProduct"in e.dataset?e.setAttribute("index",-1):(e.setAttribute("index",t),t++)})}function C(){const t="product"===s.A.slide.dataset.reviewType?"data-select-product":"data-normal-product";(0,o.$dqsa)(`.write-review-slide[${t}][data-attribute]`,s.A.slide).forEach((t,e)=>{(0,l.M6)(t,s.A.attributeConfig.attributes[e],(t,e)=>{e||S()})})}function x(){const t=s.A.slide,e=(0,o.$dqsa)("input.slide-input",t),i=(0,o.$dqs)(".slide-done",t),n=(0,o.$dqs)("#tt-protection-checkbox",t),r=(0,o.$dqs)(".input-tip",t);let a=!0;n&&(a=n.checked),""===e[0].value||""===e[1].value||!a||v||r?i.setAttribute("disabled",!0):i.removeAttribute("disabled")}function R(){(0,o.$dqs)("#trustoo-mask").style.display="none";const t=s.A.slide;t.style.display="none",t.parentNode.style.display="none",s.A.writeTo.productId="";const e=(0,o.$dqs)("#trustoo-mask>.trustoo-power");if(e&&(e.style.display="none"),document.body.classList.remove("trustoo-open"),window.removeEventListener("hashchange",r.FP),-1!==window.location.hash.indexOf("tt-write-reviews-open")&&window.history.replaceState({},document.title,window.location.href.replace("#tt-write-reviews-open","")),(0,l.ps)(),"normal"!==t.dataset.reviewType){let e=0;(0,o.$dqsa)(".write-review-slide",t).forEach(t=>{t.setAttribute("index",e),"selectProduct"in t.dataset?t.remove():e++})}delete t.dataset.reviewType}function S(){const t=(0,o.$dqs)(`.write-review-slide[index="${c}"]`);T(t,(0,o.$dqs)(`.write-review-slide[index="${c+1}"]`)),c++,(0,o.$dqs)(".write-review-container").style.left=(parseInt(t.getAttribute("index"))+1)*-u+"px"}function T(t,e){t.classList.remove("active"),e.classList.add("active")}function k(t){return 6===m?`<div style="margin-right: -6px" class="star-item">${a.A.heartStroke}</div>`.repeat(t)+`<div style="margin-right: -6px" class="star-item nostar">${a.A.heartStroke}</div>`.repeat(5-t):(0,o.getTotalStarString)(t,!1)}},72:t=>{var e=[];function i(t){for(var i=-1,s=0;s<e.length;s++)if(e[s].identifier===t){i=s;break}return i}function s(t,s){for(var o={},r=[],a=0;a<t.length;a++){var l=t[a],d=s.base?l[0]+s.base:l[0],c=o[d]||0,p="".concat(d," ").concat(c);o[d]=c+1;var u=i(p),v={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==u)e[u].references++,e[u].updater(v);else{var g=n(v,s);s.byIndex=a,e.splice(a,0,{identifier:p,updater:g,references:1})}r.push(p)}return r}function n(t,e){var i=e.domAPI(e);i.update(t);return function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;i.update(t=e)}else i.remove()}}t.exports=function(t,n){var o=s(t=t||[],n=n||{});return function(t){t=t||[];for(var r=0;r<o.length;r++){var a=i(o[r]);e[a].references--}for(var l=s(t,n),d=0;d<o.length;d++){var c=i(o[d]);0===e[c].references&&(e[c].updater(),e.splice(c,1))}o=l}}},88:(t,e,i)=>{i.d(e,{B:()=>A,m:()=>g});var s=i(957),n=i(357),o=i(986),r=i(571),a=i(405),l=i(607),d=i(500);let c=!1,p=!1,u=0,v=0;async function g(){let t=null;if("undefined"==typeof vstar_qa_settings||r.A.isSettingUpdate){const e=await s.nj.getSetting();null===e[0]&&(t=e[1])}else t=vstar_qa_settings;if(t){if(1!==t.is_active)return;(0,a.aQ)(3,1),u=t.page_size,p=t.is_show_helpful;let e=[];const i=t.color.split(",");["title-color","title-line-color","line-color","question-color","answer-color","reply-bg-color"].forEach((t,s)=>{e.push(`--${t}:${i[s]};`)}),r.A.globalStyle.textContent+=`\n\t\t.tt-tabs-list{\n\t\t\t${e.slice(0,2).join("")}\n\t\t}\n\t\t.tt-qa-list{\n\t\t\t${e.slice(2).join("")}\n\t\t\t\t--author-font-size:${t.author_font_size}px;\n\t\t\t\t--content-font-size:${t.content_font_size}px;\n\t\t}\n\t\t`,v=t.review_date_format,r.A.pageInfo.QA={curPage:1},A()}}async function A(){c||(0,o.$dqs)("#vstar-reviews #reviews-body,#vstar-noreviews").insertAdjacentHTML("beforeend",'<div class="tt-qa-list"></div>');const t=(0,o.$dqs)(".tt-qa-list",r.A.reviewsDom),e=r.A.reviewsDom,i=r.A.userSetting.review_pagination_type,a=1===i;a&&(0,l.ne)(t,r.A.reviewsDom,!0);const g=await s.nj.getList({limit:u});if(g[1]){if(!c){c=!0,(0,o.$dqs)(".tt-qa-list",r.A.reviewsDom).addEventListener("click",function(t){let e=t.target;"path"===e.tagName&&(e=e.closest("svg"));let i=e.classList;(i.contains("tt-helpful")||i.contains("tt-unhelpful"))&&(0,l.nG)(e,i)});const t=g[1].page.total_page;r.A.pageInfo.QA.total=t,a&&(0,d.IV)(),e.setAttribute("qa-page-count",t)}(0,d.RR)(i,r.A.reviewsDom)}const A=g[1].list;let h="";a?(0,l.ne)(t,r.A.reviewsDom,!1):2===i&&(h=t.innerHTML),A.length?A.forEach(t=>{let e="";if(t.qa_reply_data){let i="";if(1===p){const e="tt_qa_"+r.A.shop_id;let s=(0,o.gsLocal)("get",e),a="",l="";if(s){s=JSON.parse(s);const e=s.find(e=>e.id==t.id);e&&(1===e.likeType?a="active":2===e.likeType&&(l="active"))}i=`<div class="review-helpful"><span>${r.A.lang.question_and_answer.helpful}</span>\n\t\t\t\t\t${n.A.helpful(a)}<span class="tt-helpful-count">${t.qa_reply_data.likes_qa}</span>\n\t\t\t\t\t${n.A.unhelpful(l)}<span class="tt-unhelpful-count">${t.qa_reply_data.dislike_qa}</span></div>`}e=`<div class="tt-reviews-answer" >\n\t\t\t\t<div class="first-row">\n\t\t\t\t\t<span class="tt-answerer" >${r.A.lang.shop_name.replace("{{shop_name}}",r.A.userSetting.store_name)} </span>\n\t\t\t\t\t<span class="tt-answer-date">${w(v,t.qa_reply_data.create_time)}</span>\n\t\t\t\t</div>\n\t\t\t\t<div class="second-row" > ${t.qa_reply_data.answer} </div>\n\t\t\t\t<div class="tt-qa-helpful" style="text-align: right;">\n\t\t\t\t\t${i}\n\t\t\t\t</div>\n\t\t\t</div>`}h+=`\n\t\t\t\t<div class="tt-qa" qa-id="${t.id}">\n\t\t\t\t\t<div class="tt-review-question" >\n\t\t\t\t\t\t<div class="first-row">\n\t\t\t\t\t\t\t<span class="tt-questioner" >${t.questioner}</span>\n\t\t\t\t\t\t\t<span class="tt-question-date">${w(v,t.create_time)}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t<div class="second-row" > ${t.question} </div>\n\t\t\t\t\t</div>\n\t\t\t\t\t${e}\n\t\t\t\t</div>\n\t\t\t\t`}):h=`<div style="text-align:center">${n.A.qa(r.A.userSetting.font_color)}</div><div style="margin-top:4px;text-align:center;font-size:20px">${r.A.lang.no_questions}</div>`,t.innerHTML=h}function w(t,e){return 5===t?(0,l.PK)(e):(0,l.i$)(e,t)}},113:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},134:(t,e,i)=>{i.d(e,{A:()=>a});var s=i(957),n=i(986),o=i(571);const r=function(){const t={};switch(o.A.shop_id){case 55363502159:o.A.isHomePage&&(t.customCollTarSel=".h1.product__title,.card__heading.h5>.full-unstyled-link");break;case 64402030811:o.A.isHomePage&&(t.customCollTarSel='.glide-wrapper.glider-slide [data-product-type="title"]');break;case 59471560866:t.homeStarDelay=2e3,o.A.isHomePage&&(t.customCollTarSel=".prod-thumb-title-color>a")}return t},a={get_move_review_info:{},custom_carousel_info:{},custom_style_info:{},star_insert_adaptation_info:{},user_needs_solutions_info:{},fixedLayout:0,bigRatingDigits:2,isOpenRecStars:!0,isShowRevVerified:!0,isPopupProdReviews:!1,customRatingText:"",customHeadRatingText:"",showRelatedPros:!1,reviewConstructor:null,setLinkMedia:!1,isAssociatedProdFullName:!1,isPageReview:!1,setUserNeed(){const t=this,{shop_id:e}=Review,i=(0,n.$dqs)("[data-trustoo-observable]");if(i){const s=i.dataset.trustooObservable;"product"===s?t.isProPageObserve=!0:"collection"===s&&(o.A.isSetObserver=!0)}switch(e){case 55420682445:o.A.isProPage&&document.body.addEventListener("click",function(t){t.target.classList.contains("reviews-text")&&"P"===t.target.tagName&&(0,n.$dqs)(".breadcrumb_pr_wrap").scrollIntoView({behavior:"smooth",block:"start"})});break;case 26046955594:case 17400017:{location.href.includes("/pages/puffy-mattress-reviews")&&window.shopifyObj&&(t.isPageReview=!0,o.A.isProPage=!1,o.A.productId=void 0,window.shopifyObj.productId=null),t.isOpenRecStars=!1,o.A.copyText="Coupon copied successfully";const a=document.createElement("script");a.src="https://cdn.vstar.app/static/module/user_need/extension-script/expand-submission.js?"+o.A.constructTime,document.head.append(a);let l=localStorage.getItem("trustoo_uv");if(l||(l=o.A.shop_id+"_"+(new Date).getTime()),o.A.isProPage){let c=null,p=null;const u=document.createElement("script");u.src="https://embed.cloudflarestream.com/embed/sdk.latest.js",u.async=!0,u.onload=()=>{p&&(c=Stream(p))},document.head.appendChild(u),document.addEventListener("onTTDetailEmbed",()=>{if(TTRevDetail.revDetail.addEventListener("click",t=>{const e=t.target;(e.closest(".tt-video-player")||(e.tagName=e.nextElementSibling))&&d("CLICK_MEDIA",void 0,{review_id:TTRevDetail.reviewId,interaction_type:"expand"})}),p=document.querySelector("#trustoo-review-detail .tt-detail-frame"),"undefined"!=typeof Stream&&(c=Stream(p)),p){const t=TTRevDetail.closeTTDetail;TTRevDetail.closeTTDetail=e=>{"block"===p.style.display&&c&&(d("CLICK_MEDIA",void 0,{review_id:TTRevDetail.reviewId,view_duration:c.currentTime,interaction_type:"close_popup",tt_client_id:l}),c=Stream(p)),t(e)}}})}function d(t,e,i,s){try{fetch("https://api.trustoo.io/api/v1/reviews/collect_event",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:s,shop_id:o.A.shop_id,event_type:t,event_source:"STOREFRONT",expand_content:e,media_interaction:i})})}catch(t){}}window.TrustooColl=d;break}}Object.assign(t,r())},setPageReview(t){let e=window.location.href,i=e.indexOf("pages/")+6,s=e.substring(i);const r=(0,n.$dqs)(".pagefly-review-widget-sealapp,.custom-vstar-review-widget,#vstar-all-reviews");if(r&&"vstar-all-reviews"===r.id&&(o.A.isRevPage=!0),o.A.allRev=r,[49048256661,62366974136,23928713].includes(t)||r||"reviews"===s){(["clienti-soddisfatti","shop-reviews","review-page","producto-mini","avis-menviking","customer-reviews"].includes(s)||"reviews"===s||r&&"vstar-all-reviews"===r.id||r&&("custom-vstar-review-widget"===r.className||"pagefly-review-widget-sealapp"===r.className)&&!o.A.isProPage)&&(this.isPageReview=!0)}},async getUserNeedData(){const{pageType:t,themeId:e}=o.A,i=this;if(o.A.isHomePage||o.A.isProPage||o.A.otherPageColl||o.A.isCollPage||i.isPageReview){let n,o;if("undefined"!=typeof vstar_custom_info?(n=vstar_custom_info,o=null):[o,n]=await s.zG.getUserNeed(),null===o)for(let s in n){const o=n[s].list,r=o.length;if("star_insert_adaptation_info"===s){const t=o.filter(t=>(!t.theme_id||t.theme_id===e)&&t.product_detail_star),s=o.filter(t=>(!t.theme_id||t.theme_id===e)&&t.product_list_star);if(t.length){const e=t.at(-1);i.customProTarSel=e.product_detail_star,i.detailRatingPosition=e.detail_position}if(s.length){const t=s.at(-1);i.customCollTarSel=t.product_list_star,i.listRatingPosition=t.list_position}}else if(0!==r)for(let n=0;n<o.length;n++){const r=o[n],a=r.page||r.target_page,l=r.theme_id;a&&-1===a.indexOf(t)&&"all"!==a||(l&&e!=l||"custom_style_info"===s&&["carousel","rating"].includes(r.type)||(0!==Object.keys(i[s]).length?"custom_style_info"===s?i[s].css_style_code+=r.css_style_code:i[s]=r:0===Object.keys(i[s]).length&&(i[s]={...r})))}}}}}},154:(t,e,i)=>{i.d(e,{Cf:()=>E,Do:()=>P,_x:()=>_,yE:()=>m});var s=i(571),n=i(957),o=i(986),r=i(657),a=i(357),l=i(743),d=i(651),c=i(297);let p=null,u=null,v=null,g="",A="",w=0;const h=5;async function m(t){let e="",i="";const n=t,{lang:l,productImageUrl:d,productName:c,isNoUploadImg:w}=s.A,m=s.A.lang.all_in_one_from,_=l.question_and_answer;let $="";"undefined"!=typeof Review&&["ar","he"].includes(Review.lang)&&($=" trustoo-rtl"),s.A.isMobile&&(s.A.globalStyle.textContent+="#trustoo-allinone>.tt-write-content {\n\t\t\tpadding-bottom: 100px !important;\n\t}"),s.A.globalStyle.textContent+=`\n\t#trustoo-allinone,#success-window,#tt-product-selector{\n\t\t--button-bg-color: ${t.review_button_background_color};\n\t\t--button-text-color: ${t.review_button_text_color};\n\t\t--button-radius: ${t.button_radius}px;\n\t\t--text-color: ${t.text_color};\n\t\t--light-text-color: ${(0,o.hexToRgba)(t.text_color,.4)};\n\t\t--text-color-alpha-70: ${(0,o.hexToRgba)(t.text_color,.7)};\n\t\t--discount-code-color:${t.discount_text_color};\n\t\t--discount-copy-color:${t.discount_copy_color};\n\t}\n    #trustoo-allinone .form-submit[disabled]{background-color:${(0,o.hexToRgba)(t.review_button_background_color,.4)} !important}\n\t\t.trustoo-write-review,#success-window,#tt-product-selector{\n\t\t\t--write-bg:${t.popup_bg_color};\n\t\t\tbackground: ${t.popup_bg_color};\n\t\t\tborder-radius: ${t.popup_radius}px;\n\t\t\tcolor:${t.text_color}\n\t\t}\n\t\t#trustoo-allinone.trustoo-write-review .vstar-star{\n\t\t\t--star-color: ${t.star_color};\n\t\t}\n\t\t.trustoo-widget .window-discount,.trustoo-widget .slide-discount{\n\t\t\tbackground:${t.discount_bg_color};\n\t\t\tborder-radius: ${t.discount_card_radius}px;\n\t\t}\n  `;const C=function(t,e){let i,s,n=`\n    <div class="name-area inline">\n\t\t<div class="tt-input-title">${e.name}</div>\n      <input type="text" maxLength="50"  input-type="author" class="small-input user-input require" ">\n\t\t\t<div class="error-tip name-tip"></div>\n    </div>\n    `;return i=1===t.require_email?"require":"",s=1===t.show_email?"":"hidden",n+=`<div class="email-area inline" ${s}>\n\t<div class="tt-input-title">${e.email}</div>\n    <input type="text" name="email" input-type="author_email" class="small-input user-input ${i}">\n\t\t<div class="error-tip email-tip" ${s}></div>\n    </div>`,i=1===t.require_phone?"require":"",s=1===t.show_phone?"":"hidden",n+=`<div class="phone-area inline" ${s}>\n\t<div class="tt-input-title">${e.phone}</div>\n    <input type="text" input-type="author_phone" class="small-input user-input ${i}">\n\t\t<div class="error-tip phone-tip" ${s}></div>\n    </div>`,n}(t,l);e='<div class="window-close tt-write_review_close">\n        </div>';const T=t.discount_setting;A=T.currency,i=function(t,e){let i="";if(1===t.discount_for_reviews_form||2===t.discount_for_reviews_form&&"undefined"!=typeof isEmailWrite&&isEmailWrite){const{discount_value_star:s,discount_value_text:n,discount_value_photo:r,discount_value_video:a}=t,l=e;let d="tip_3";const c=a||r||n||s;if(a?d="video_discount":r&&(d="photo_discount"),c){i=`<div class="discount-tip">${(0,o.parseDiscountValue)(l[d],c,A)}</div>`}}return i}(T,s.A.lang.all_in_one_from.discount_setting),g=n.logo_src;let k="";k=6===t.rating_icon_type?`<div style="margin-right: 0" class="star-item nostar">${a.A.heartStroke}</div>`.repeat(5):(0,o.getTotalStarString)(0);let E="";g&&(E=`<div id="tt-write-logo" style="text-align: ${n.logo_alignment};">\n\t\t<img src="${g}" alt="logo" style="width: ${n.logo_size}px;">\n\t\t</div>`);const I=`\n  <div class="window-head">\n    <div class="window-close tt-write_review_close">\n        </div>\n    <span class="head-title">${l.all_in_one_from.write_reviews}</span>\n  </div>`;let B="";B=`<div class="product-image" style="background-image:url('${d}')"></div>`;let O="",H="";const N="image/*,.gif,.jpeg,.jpg,.png",j=",video/*,.mp4,.mkv,.mov,.avi,.flv,.ts,.ps,.mxf,.lxf,.gxf,.3gp,.webm,.mpg,.quicktime";1===t.write_review_form&&(H=1===t.enabled_add_video?` \n    <div class="upload-or">${l.all_in_one_from.or}</div>\n      <div class="tt-uploader tt-video-uploader" style="display : ${w?"none":"flex"}">\n          <input type="file" multiple class="upload-input" tabindex="-1"\n          accept="${N}${j}">\n          <span style="font-size: 30px; line-height: 30px;">+</span>\n          <span class="upload-image-text">${l.all_in_one_from.add_video}</span>\n          <span class="images-num">0/1</span>\n    </div>\n  `:"",O=` <div class="upload-area">\n\t\t\t\t<div class="tt-uploader tt-image-uploader" style="display : ${w?"none":"flex"}">\n\t\t\t\t\t\t<input type="file" multiple class="upload-input"\n\t\t\t\t\t\ttabindex="-1" accept="${N}${1===t.enabled_add_video?j:""}">\n\t\t\t\t\t\t<span style="font-size: 30px; line-height: 30px;">+</span>\n\t\t\t\t\t\t<span class="upload-image-text">${l.add_photo}</span>\n\t\t\t\t\t\t<span class="images-num">0/5</span>\n\t\t\t\t</div>\n\t\t\t\t${H}\n\t\t\t</div>`);const W=1===t.show_title?`<div class="title-area inline">\n\t<div class="tt-input-title">${l.all_in_one_from.title}</div>\n    <input type="text" maxLength="300"  input-type="title" class="small-input user-input${1===t.require_title?" require":""}">\n\t\t<div class="error-tip title-tip"></div>\n    </div>`:"",F=1===t.require_feedback?"require":"",z=1===t.show_feedback?"":"hidden",U=`<div class="feedback-area inline" ${z}>\n\t<div class="tt-input-title">${l.all_in_one_from.review}</div>\n\t<div class="feedback-count"><span>0/${s.A.newRevCharLimit}</span></div>\n\t<textarea input-type="content" maxLength="${s.A.newRevCharLimit}"  class="big-input user-input ${F}" placeholder="${l.feedback}" ></textarea>\n\t<div class="error-tip feedback-tip" ${z}></div>\n\t</div>`;let V="";if(1===t.show_privacy_policy){let e="";const i=m.privacy_policy,s=m.terms,n=m.consent_text.replace("{{privacy_policy}}",`<a target="_blank" href="https://app.trustoo.io/privacy_policy">${i}</a>`).replace("{{terms}}",`<a target="_blank" href="https://app.trustoo.io/terms_service">${s}</a>`);1===t.show_checkbox&&(e='<input type="checkbox"  id="tt-protection-checkbox">'),V=`<div><div id="tt-protection">\n\t\t\t${e}<label for="tt-protection-checkbox">${n}</label>\n\t\t</div><div class="error-tip checkbox-tip"></div></div>`}let G=`<div id="trustoo-allinone" class="trustoo-widget ${$} trustoo-write-review" >\n  <div class="tt-write-content"> ${E+I+`<form action="" class="review-message">\n\t${`<div class="window-product">${B}<div class="product-right"></div></div>`+`<div class="tt-write-rating">\n\t<div class="tt-rating-title">${s.A.lang.you_rating}</div>\n\t<div class="vstar-star" data-type="${t.rating_icon_type}">\n\t${k} \n\t</div></div>`}\n\t\t${W}\n\t\t${U}\n\t\t${O}\n\t\t${C}\n\t\t${s.A.attributeConfig?'<div id="tt-attr-wrapper" data-normal-product></div>':""}\n  </form>`+(i+V+`<div id="tt-qa-private"><span>${_.publish_title}</span> <span><label>${_.public_options_yes}<input type="radio" name="public" value="1" checked></label></span><span><label>${_.public_options_no}<input id="tt-qa-unpublish" type="radio" name="public" value="3"></label></span></div>`+`<button disabled class="form-submit" type="button">${l.submit}</button>`)}</div></div>`;if((0,o.$dqs)("#trustoo-mask").insertAdjacentHTML("beforeEnd",G),v=(0,o.$dqs)("#trustoo-allinone"),1===s.A.writeForm&&S(v),p=(0,o.$dqs)(".tt-image-uploader",v),1===t.show_feedback&&((0,o.$dqs)("textarea",v).style.fontFamily=window.getComputedStyle((0,o.$dqs)("input",v)).fontFamily),c){let t=(0,o.$dqs)(".product-right");c.length>100?t.innerHTML=c.substring(0,100)+"...":t.innerHTML=c}if(function(t){t.addEventListener("touchmove",t=>{t.stopPropagation()},!1),(0,o.$dqs)(".window-close",t).onclick=function(){s.A.isMobile&&window.history.replaceState({},document.title,window.location.href.replace("#tt-write-reviews-open","")),P()};const e=(0,o.$dqs)("#tt-protection-checkbox",t);e&&(e.onchange=function(){this.checked&&M()});s.A.productImageUrl&&(0,o.imgLoad)(s.A.productImageUrl).then(e=>{const i=e.width,s=e.height,n=(0,o.$dqs)(".product-image",t);n.style.backgroundSize=i>=s?"auto 100%":"100% auto"});let i=(0,o.$dqsa)(".star-item",t);q(s.A.ratingVal);for(let t=1;t<=i.length;t++)i[t-1].index=t,s.A.isMobile?i[t-1].onclick=function(){s.A.ratingVal=this.index,q(this.index),L()}:(i[t-1].onmouseover=function(){q(this.index)},i[t-1].onclick=function(){s.A.ratingVal=this.index,L()});s.A.isMobile||((0,o.$dqs)(".tt-write-rating .vstar-star",t).onmouseleave=function(){q(0)});let n=(0,o.$dqsa)(".user-input",t);const r=s.A.lang;if(s.A.isMobile){let e=(0,o.getMobileSystem)();"ios"===e&&(t.style.paddingBottom="70px");let i=window.getComputedStyle(t).getPropertyValue("height"),s=function(){"android"==e&&((0,o.$dqs)("#trustoo-allinone").style.overflow="hidden");let s=setInterval(()=>{window.getComputedStyle(t).getPropertyValue("height")!=i&&("android"==e&&((0,o.$dqs)("#trustoo-allinone").style.overflow="scroll",(0,o.$dqs)("#trustoo-allinone").scrollTop=230),clearInterval(s))},200)};(0,o.$dqsa)("#trustoo-allinone .user-input").forEach(t=>t.addEventListener("click",s)),(0,o.$dqsa)("#trustoo-allinone .user-input").forEach(t=>t.addEventListener("focus",s))}const a=(0,o.$dqs)(".upload-area",t);a&&(a.onclick=e=>{if(["tt-delete_image","hover-image","image-delete tt-mobile_delete_image"].includes(e.target.className)){const i=e.target.closest(".uploaded-item");let n=i.dataset.name,r=s.A.mediaUrl.findIndex(t=>t.name==n);s.A.mediaUrl.splice(r,1),i.remove(),"image"===i.dataset.type?(s.A.imgUploadedCount===h&&x(1),s.A.imgUploadedCount--):"video"===i.dataset.type&&x(3),(0,o.$dqs)(".images-num",t).innerHTML=`${s.A.imgUploadedCount}/5`}});async function l(e,i){const n=function(t){const e=[],i=[],n=5,r=(0,o.$dqsa)(".uploaded-item[data-type=image]").length,a=(0,o.$dqsa)(".uploaded-item[data-type=video]").length,l=[];for(let e=0;e<t.length;e++){const n=t[e],r=(0,o.validateFileType)(n,"image"),a=(0,o.validateFileType)(n,"video");if(!r&&!a)return(0,o.setToast)(s.A.lang.all_in_one_from.error_file_tip),null;r?l.push(n):a&&i.push(n)}let d=0;if(l.length>=n)e.push(...l.slice(0,n)),d=r;else{const t=r+l.length;t<=n?(e.push(...l),d=0):(e.push(...l),d=t-n)}return{images:e,allVideoFiles:i,shouldReplaceVideo:a>0&&i.length>0,imagesToReplace:d}}(e);if(!n)return void(i.value="");let r=null,a=0,l=!1;if(n.allVideoFiles&&n.allVideoFiles.length>0){for(let t=0;t<n.allVideoFiles.length;t++){const e=n.allVideoFiles[t],i=parseInt(e.size/1048576);if(!(i>=600)){r=e,a=i,l=!0;break}}r||(0,o.setToast)("The file cannot exceed 600MB")}if(n.shouldReplaceVideo&&l&&r&&f(),n.imagesToReplace>0){const e=(0,o.$dqsa)(".uploaded-item[data-type=image]",t).length;n.imagesToReplace>=e?y():y(n.imagesToReplace)}const d=[];n.images.length>0&&d.push(b(n.images,"image")),l&&r&&(x(4),d.push(b([r],"video",a))),d.length>0&&await Promise.all(d),i.value=""}n.forEach(e=>{e.addEventListener("input",function(){const e=this.nextElementSibling;e.innerHTML="",e.classList.remove("display"),this.classList.remove("error-border");let i=this.classList.contains("require");if(t.getAttribute("write-qa")&&!["author_phone","title"].includes(this.getAttribute("input-type"))&&(i=!0),i&&""===this.value.trim())e.innerHTML=`<div class="input-tip"><span class="tt-error_tip"></span><span>${r.required}</span></div>`,e.classList.add("display"),this.classList.add("error-border");else if(this.parentNode.classList.contains("email-area")){const t=/^[a-zA-Z0-9_-]+(\.[A-Za-z0-9_-]+)*@[a-zA-Z0-9_-]+(\.[A-Za-z0-9_-]+)+$/;this.value.trim()&&!t.test(this.value.trim())&&(e.innerHTML=`<div class="input-tip"><span class="tt-error_tip"></span><span>${r.email_error}</span></div>`,e.classList.add("display"),this.classList.add("error-border"))}else this.classList.contains("big-input")&&function(){let t=(0,o.$dqs)(".big-input").value.length;(0,o.$dqs)("#trustoo-allinone .feedback-count>span").textContent=t+"/"+s.A.newRevCharLimit}()}),e.onblur=function(){setTimeout(()=>{const t=this.nextElementSibling;""===this.value.trim()&&this.classList.contains("require")&&(t.innerHTML=`<div class="input-tip"><span class="tt-error_tip"></span><span>${r.required}</span></div>`,t.classList.add("display"),this.classList.add("error-border"))},100)}}),p&&((0,o.$dqs)("input",p).onchange=async function(){await l(this.files,this)});u=(0,o.$dqs)(".tt-video-uploader .upload-input",t),u&&(u.onchange=async function(){await l(this.files,this)});(0,o.$dqs)(".form-submit",t).onclick=function(){if(!D())return void this.removeAttribute("disabled");this.setAttribute("disabled",!0),this.innerHTML=`${r.submitting}`;let t=12;s.A.isMobile&&(t=20),(0,o.setLoading)(this,t),this.setAttribute("disabled",!0),R()}}(v),s.A.isLinkReqRev){if("function"==typeof r.nZ){if((0,r.nZ)())return}document.body.classList.add("trustoo-open"),(0,o.$dqs)("#trustoo-mask").style.display="flex",(0,o.$dqs)(".trustoo-write-review").style.display="block"}}function _(t){k();const e=l.A.write,{allInOne:i,image:r,content:a,prodName:d,title:c,contentLabel:p,submit:u}=e,v=i.dataset.reviewType,g=s.A.lang;let A=g.all_in_one_from.write_reviews,w=s.A.productImageUrl,h=s.A.productName;"reviews"===t?(p.textContent=g.all_in_one_from.review,u.textContent=g.submit,"product"===v&&s.A.writeTo.productId?(w=s.A.writeTo.prodImageUrl,h=s.A.writeTo.productName,n.zG.getAttribute(s.A.writeTo.productId).then(t=>{t[1]&&t[1].attributes.length>0&&(s.A.attributeConfig=t[1],(0,o.$dqs)(".error-tip.phone-tip",i).insertAdjacentHTML("afterend",'<div id="tt-attr-wrapper" data-select-product></div>'),S(i))})):"shop"===v&&(A=s.A.lang.store_review.write_btn_text)):"QA"===t&&(A=g.question_and_answer.ask_a_question,a.placeholder=g.question_and_answer.desc_placeholder,p.textContent=g.question_and_answer.question,u.textContent=g.question_and_answer.submit_question,i.setAttribute("write-qa",!0),L()),h&&h.length>100&&(h=h.substring(0,100)+"..."),d.textContent=h,r.style.backgroundImage=`url(${w})`,c.textContent=A,document.body.classList.add("trustoo-open"),i.style.display="flex",l.A.mask.style.display="flex"}function f(){const t=(0,o.$dqs)(".uploaded-item[data-type=video]",v);if(t){const e=s.A.mediaUrl.find(t=>2===t.resource_type);if(e){const t=s.A.mediaUrl.indexOf(e);s.A.mediaUrl.splice(t,1)}t.remove(),x(3)}}function y(t=null){const e=(0,o.$dqsa)(".uploaded-item[data-type=image]",v);if(0===e.length)return;(null==t?Array.from(e):Array.from(e).slice(-t)).forEach(t=>{const e=t.dataset.name;if(e){const t=s.A.mediaUrl.findIndex(t=>t.name==e);-1!==t&&s.A.mediaUrl.splice(t,1)}t.remove(),s.A.imgUploadedCount--}),(0,o.$dqs)(".images-num",v).innerHTML=`${s.A.imgUploadedCount}/5`,s.A.imgUploadedCount<h&&x(1)}async function b(t,e,i=0){const{mediaUrl:r}=s.A;let a=!1,l=(0,o.$dqsa)(".uploaded-item[data-type=image]").length,d=(0,o.$dqs)(".tt-uploader"),p=t.length,u="";if("image"===e&&!Object.keys(s.A.uploadImgInfo).length){const t=await n.zG.getPolicyToken();s.A.uploadImgInfo=t[1]}t.length+l>=5&&"image"===e&&(p=5-l,x(2));for(let l=0;l<p;l++){let p="",v=t[l];"image"===e?(s.A.imgUploadedCount++,p=(0,o.getObjectURL)(v),u=v.name,(0,o.compressImage)(v).then(t=>{n.zG.uploadImg(t).then(t=>{let e=t[1].name;null===t[0]?((0,o.$dqs)(`.uploaded-item[data-name="${e}"]>.loader`).remove(),0===(0,o.$dqsa)(".uploaded-item>.loader").length&&L(),r.push({name:e,url:"https://img.trustoo.io/"+t[1].key,resource_type:1})):(s.A.imgUploadedCount===h&&x(1),s.A.imgUploadedCount--,(0,o.$dqs)(`.uploaded-item[data-name="${e}"]`).remove(),(0,o.$dqs)(".images-num").innerHTML=`${s.A.imgUploadedCount}/5`,(0,o.setToast)("Failed to upload image"))})}),w=1):"video"===e&&(w=2,i>=200?(0,c.i_)(v,0,(t,e)=>{$(t,e)},()=>{C()}):n.zG.getUploadVideoUrl().then(t=>{const{upload_url:e,domain:i}=t[1],s=t[1].video_service_uid;n.zG.uploadVideo(e,v).then(()=>{$(i,s)}).catch(()=>{C()})}).catch(()=>{C()}));let g=document.createElement("div");if(g.className="uploaded-item",g.setAttribute("data-type",e),"image"===e?(u&&g.setAttribute("data-name",u),(0,o.$dqs)(".tt-image-uploader .images-num").innerHTML=`${s.A.imgUploadedCount}/5`,I(g,p)):"video"===e&&g.classList.add("uploading"),g.innerHTML='<div class="hover-image">\n                      <div class="tt-delete_image"></div>\n                    </div>\n                    ',d.before(g),(0,o.setLoading)(g,24),a||(a=!0,L()),s.A.isMobile){let t=document.createElement("div");t.className="image-delete tt-mobile_delete_image",g.appendChild(t)}}}function $(t,e){const i=t+"/"+e,n=i+"/thumbnails/thumbnail.jpg";s.A.mediaUrl.push({url:i+"/iframe",resource_type:2});const r=(0,o.$dqs)(".uploaded-item[data-type=video]",v),l=new Image;l.onload=()=>{r.insertAdjacentHTML("afterbegin",a.A.video);const t=r.nextElementSibling;t.classList.contains("tt-progress")&&(t.textContent="100%",setTimeout(()=>{t.remove()},800))},l.src=n,r.style.backgroundImage=`url(${n})`,I(r,n,()=>{r.classList.remove("uploading"),(0,o.$dqs)(".loader",r).remove(),L()})}function C(){(0,o.$dqs)(".uploaded-item[data-type=video]",v).remove(),x(3),(0,o.setToast)(s.A.lang.error_tip),u&&(u.value="")}function x(t){switch(t){case 1:p.style.display="flex";break;case 2:p.style.display="none";break;case 3:(0,o.$dqsa)(".tt-video-uploader,.upload-or",v).forEach(t=>t.style.display="flex");break;case 4:(0,o.$dqsa)(".tt-video-uploader,.upload-or",v).forEach(t=>t.style.display="none")}}function R(){if(s.A.isSendLock)return void(0,o.setToast)("Please comment again after 15 seconds");let t=0,e="";const i="shop"===v.dataset.reviewType;t=v.getAttribute("write-qa")?2:1,1===t?e=".inline:not([hidden]) .user-input":2===t&&(e='.user-input:not([input-type="author_phone"],[input-type="title"])');let r=null;const a={};var l=Array.from((0,o.$dqsa)(e));if(1===t){r=n.zG.uploadReview;const t=(0,o.$dqs)("#tt-protection-checkbox",v);t&&t.checked&&(a.agree_privacy=1),l.forEach(t=>{const e=t.getAttribute("input-type");t.value&&(a[e]=t.value)}),s.A.isLinkReqRev&&("undefined"==typeof isEmailWrite&&(a.source="store_link"),void 0!==s.A.writeLinkParams.dondy&&(a.source="store_link_dondy")),s.A.ip&&(a.ip=s.A.ip,a.author_country=s.A.loc);const e=(0,d.uq)();e.length&&(a.attributes_info={attributes:e,attribute_collection_id:s.A.attributeConfig.attribute_collection_id})}else if(2===t){r=n.nj.addQA;const t=["question","questioner","questioner_email"];l.forEach((e,i)=>{a[t[i]]=e.value}),a.questioner_country=s.A.loc,(0,o.$dqs)("#tt-qa-unpublish").checked&&(a.is_publish=3)}r(a,s.A.mediaUrl,i).then(e=>{if(null===e[0]){const i=e[1],n=s.A.lang;T(),k(),document.body.classList.add("trustoo-open"),(0,o.$dqs)("#trustoo-allinone").style.display="none";const r=(0,o.$dqs)("#success-window");r.style.display="block";const a=(0,o.$dqs)(".window-title",r),l=(0,o.$dqs)(".window-content",r);if(1===t?(a.textContent=n.success_message,l.textContent=n.submitted_successfully):2===t&&(a.textContent=n.question_and_answer.thanks,l.textContent=n.question_and_answer.submitted),i&&i.discount_code&&i.discount_value&&1===t){r.dataset.showDiscount="1";const t=s.A.lang.all_in_one_from.discount_setting;(0,o.$dqs)(".window-discount",r).style.display="flex",a.textContent=(0,o.parseDiscountValue)(t.title,i.discount_value,A),r.style.paddingBottom="40px",(0,o.$dqs)(".window-content",r).textContent=(0,o.parseDiscountValue)(t.subtitle,i.discount_value,A),(0,o.$dqs)(".discount-code",r).textContent=i.discount_code}else r.dataset.showDiscount="0",r.style.paddingBottom="55px";if(s.A.isLinkReqRev){const t=new URLSearchParams(window.location.search);t.delete("req"),t.delete("dondy");const e=t.toString(),i=window.location.pathname+(e?"?"+e:"");window.history.replaceState({},"",i),s.A.isLinkReqRev=!1}s.A.isSendLock=!0,setTimeout(()=>s.A.isSendLock=!1,1500)}else{T();let t="";t=-2===e[0].code?e[0].error:s.A.lang.error_tip,(0,o.setToast)(t,"1%")}}).catch(()=>{T(),(0,o.setToast)(`${s.A.lang.error_tip}`,"1%")})}function S(t){if(s.A.attributeConfig){const e=s.A.attributeConfig.attributes,i=(0,o.$dqs)("#tt-attr-wrapper",t);"product"===t.dataset.reviewType?l.A.write.selectedProdAttr=i:l.A.write.normalProdAttr=i,e.forEach(t=>{(0,d.M6)(i,t)})}}function T(){const{lang:t}=s.A;let e=(0,o.$dqs)(".form-submit");e.innerHTML=`${t.submit}`,e.removeAttribute("disabled")}function k(){Object.assign(s.A,{imgUploadedCount:0,uploadedIndex:0,mediaUrl:[]}),v.removeAttribute("write-review"),v.removeAttribute("write-qa"),(0,o.$dqsa)(".user-input",v).forEach(t=>t.value=""),(0,o.$dqsa)(".error-tip",v).forEach(t=>{t.innerHTML="",t.classList.remove("display")});let t=(0,o.$dqsa)(".error-border",v);t.length&&t.forEach(t=>t.classList.remove("error-border")),1===s.A.writeForm&&((0,o.$dqsa)(".uploaded-item",v).forEach(t=>t.remove()),(0,o.$dqs)(".tt-image-uploader .images-num",v).innerText="0/5",2===w&&u&&((0,o.$dqs)(".tt-video-uploader .images-num",v).innerText="0/1"),(0,o.$dqsa)(".tt-uploader,.upload-or",v).forEach(t=>t.style.display="flex"));const e=(0,o.$dqs)(".feedback-count>span",v);e&&(e.textContent="0/"+s.A.newRevCharLimit);(0,o.$dqs)(".form-submit",v).setAttribute("disabled",!0),s.A.ratingVal=0,q(0),L();const i=(0,o.$dqs)("#tt-protection-checkbox",v);i&&(i.checked=!1)}function q(t){let e=(0,o.$dqsa)("#trustoo-allinone .star-item"),i=t||s.A.ratingVal;for(let t=0;t<e.length;t++)t<i?e[t].classList.remove("nostar"):e[t].classList.add("nostar");0!==s.A.ratingVal&&L()}function L(){const t=v;let e=0;e=v.getAttribute("write-qa")?2:1;let i=(0,o.$dqs)(".form-submit",t);1===e?s.A.ratingVal>0?i.removeAttribute("disabled"):i.setAttribute("disabled",!0):2===e&&i.removeAttribute("disabled")}function E(){const{lang:t}=s.A,{logo_src:e,logo_alignment:i,logo_size:n}=s.A.writeReviewSettings,r=e?`<div id="tt-write-logo" style="text-align: ${i};font-size: 0;"><img src="${e}" alt="logo" style="width: ${n}px;"></div>`:"",a=`\n    <div class="window-title">\n        ${t.success_message}\n    </div>`;(0,o.imgLoad)("https://cdn.vstar.app/static/images/Vector.png");let l="";const d=`<div class="window-content">${t.submitted_successfully}</div>`,c=`<div class="window-button"><button >${t.continue_shopping}</button></div>`;l=`<div class="window-discount" style="display:none">\n          <span class="discount-code"></span>\n          <span class="discount-copy">${s.A.lang.all_in_one_from.discount_setting.copy}</span>\n        </div>`;const p=`<div id="success-window" class="trustoo-widget">${r+'<div class="window-close tt-write_review_close"></div>'+a+d+l+c}</div>`;(0,o.$dqs)("#trustoo-mask").insertAdjacentHTML("beforeend",p);const u=(0,o.$dqs)("#success-window");(0,o.$dqs)("#success-window .window-close").onclick=P,(0,o.$dqs)(".window-button button",u).onclick=P,(0,o.$dqs)(".discount-copy",u).onclick=function(){(0,o.copyToClipboard)((0,o.$dqs)(".discount-code",u).textContent,()=>{(0,o.setToast)(s.A.copyText||s.A.lang.copy_succ)})}}function P(){const t=(0,o.$dqs)("#success-window");(0,o.$dqsa)(".window-discount",t).forEach(t=>t.style.display="none"),(0,o.$dqs)(".window-title",t).style.cssText="",(0,o.$dqs)("#trustoo-mask").style.display="none";const e=(0,o.$dqs)("#trustoo-allinone");e.style.display="none",delete e.dataset.reviewType,t.style.display="none",document.body.classList.remove("trustoo-open"),(0,d.ps)(),s.A.writeTo.productId="",window.removeEventListener("hashchange",r.FP),l.A.write.selectedProdAttr&&l.A.write.selectedProdAttr.remove()}function I(t,e,i){(0,o.imgLoad)(e).then(s=>{i&&i(),s.width>=s.height?t.style.backgroundSize="100% auto":t.style.backgroundSize="auto 100%",t.style.backgroundImage=`url(${e})`}).catch(()=>{i&&(i(),t.style.backgroundImage="url(../../images/video_default.png)")})}function M(){const t=(0,o.$dqs)("#tt-protection-checkbox",v);if(t){const e=t.parentNode.nextElementSibling;e&&e.classList.contains("display")&&(e.innerHTML="",e.classList.remove("display"))}}function D(){const t=s.A.lang;let e=!0,i=v.getAttribute("write-qa")?2:1,n=1===i?".inline:not([hidden]) .user-input.require":'.user-input:not([input-type="author_phone"],[input-type="title"])';(0,o.$dqsa)(n,v).forEach(i=>{if(""===i.value.trim()&&"none"!==i.parentNode.style.display){e=!1;const s=i.nextElementSibling;s&&!s.classList.contains("display")&&(s.innerHTML=`<div class="input-tip"><span class="tt-error_tip"></span><span>${t.required}</span></div>`,s.classList.add("display"),i.classList.add("error-border"))}});const r=(0,o.$dqs)('[input-type="author_email"]',v);if(r&&"none"!==r.parentNode.style.display){const i=/^[a-zA-Z0-9_-]+(\.[A-Za-z0-9_-]+)*@[a-zA-Z0-9_-]+(\.[A-Za-z0-9_-]+)+$/,s=r.nextElementSibling;""===r.value.trim()&&r.classList.contains("require")?(e=!1,s&&!s.classList.contains("display")&&(s.innerHTML=`<div class="input-tip"><span class="tt-error_tip"></span><span>${t.required}</span></div>`,s.classList.add("display"),r.classList.add("error-border"))):r.value.trim()&&!i.test(r.value.trim())&&(e=!1,s&&!s.classList.contains("display")&&(s.innerHTML=`<div class="input-tip"><span class="tt-error_tip"></span><span>${t.email_error}</span></div>`,s.classList.add("display"),r.classList.add("error-border")))}if(1===i){const i=(0,o.$dqs)("#tt-protection-checkbox",v);if(i&&!i.checked){e=!1;const s=i.parentNode,n=s?s.nextElementSibling:null;n&&n.classList.contains("checkbox-tip")&&!n.classList.contains("display")&&(n.innerHTML=`<div class="input-tip"><span class="tt-error_tip"></span><span>${t.required}</span></div>`,n.classList.add("display"))}}return 0===(0,o.$dqsa)(".uploaded-item>.loader",v).length||(e=!1,(0,o.setToast)(s.A.lang.all_in_one_from.upload_tip)),e}},163:(t,e,i)=>{i.d(e,{FS:()=>c,dn:()=>u,xc:()=>p});var s=i(743),n=i(986),o=i(571);let r,a=0,l=0;r=o.A.isMobile?18:16;let d=!1;function c(t,e){const{isWdoRevOpen:i}=o.A;let a=i?o.A.wdoRev:o.A.reviews;const l="shopReviews"===o.A.showType?a.shopReviewsHighs:a.columnHighs,d=s.A[o.A.reviewsKey].curBody,c=(0,n.$dqs)(`[no="${e}"]`,d);var p=parseInt(c.style.top),u=c.offsetHeight+p+r;const v=t+"column's hight updates,hight is "+u;Review.checkGridHighMsg.push(v),u>l[t-1]&&(l[t-1]=u);let g=(0,n.$dqsa)(`.column${t}`,d);g.forEach((i,s)=>{parseInt(i.getAttribute("no"))>e&&(i.style.top=u+"px",u=u+i.offsetHeight+r),s===g.length-1&&(l[t-1]=u)});let A=30;o.A.isMobile&&(A=0);var w=Math.max.apply(null,l);d.style.height=w+A+"px"}function p(t=[],e,i=!1){const{isWdoRevOpen:a}=o.A,p=o.A.isWdoRevOpen?o.A.wdoRev:o.A.reviews,w="shopReviews"===o.A.showType?p.shopReviewsHighs:p.columnHighs,h=a?o.A.wdoRevBody:o.A.reviewsBody,m=s.A[o.A.reviewsKey].curBody;if(!a&&"none"===h.offsetParent)return;if(l=e,i)for(let t=0;t<w.length;t++)w[t]=0;0===w.length?v(m,t):A(t,p.cardWid);const _=p.cardWid;t.forEach(t=>{const e=(0,n.$dqs)(".resource-item",t);if(null!==e){const t=e.getAttribute("proportion");e.style.width=_+"px",(0,n.$dqs)("img",e).width=_,e.style.height=_/t+"px"}}),g(m,t),d=t.length<=w.length&&o.A.isFirstPageRender,function(t,e=!1){const i={highMsg:[]};let s=o.A.isWdoRevOpen?o.A.wdoRev:o.A.reviews;const a="shopReviews"===o.A.showType?s.preShopReviewsHighs:s.preColHighs,p=a.length;if(i.loadedStyleCheck=e,0===p){if(e)return;u()}else for(let e=0;e<p;e++){const s=(0,n.$dqsa)(".grid-review.column"+(e+1),t);if(d&&s[0]){let n=30;if(o.A.isMobile&&(n=0),parseInt(t.style.height)-n<s[0].offsetHeight){const t={errColumn:e+1,cardNo:1,highDiff:"One row with the wrong height"},n=s[0].getAttribute("no");i.highMsg.push(t),c(e+1,n)}}else{let t=a[e],n=0;const o=[];if(s.forEach(t=>{t.getAttribute("no")>l&&o.push(t)}),0===o.length)continue;n=t+o[0].offsetHeight+r;for(let t=1;t<o.length;t++){const s={},a=o[t];if(parseInt(a.style.top)!==n){const r=o[t-1].getAttribute("no");s.errColumn=e+1,s.cardNo=r,s.highDiff=`nowHigh:${parseInt(a.style.top)},Ideal height:${n} `,i.highMsg.push(s),c(e+1,r)}n=n+a.offsetHeight+r}}}Review.checkGridMsg.push(i)}(m)}function u(){const{isWdoRevOpen:t}=o.A,e=t?o.A.wdoRevBody:o.A.reviewsBody;if(!t&&"none"===e.offsetParent)return;const i=s.A[o.A.reviewsKey].curBody,r=Array.from((0,n.$dqsa)(".grid-review",i));v(i,r),g(i,r),i.dataset.hasMissingImgSize&&(i.removeAttribute("data-has-missing-img-size"),i.style.opacity=1,(0,n.$dqs)("#tt-reviews-loading",e)?.remove())}function v(t,e){const{isWdoRevOpen:i}=o.A,s=i?o.A.wdoRev:o.A.reviews,r=window.getComputedStyle(t);let a=parseInt(r.width);Review.reviewsWidth=a;const l=function(t,e){const i=o.A.isWdoRevOpen?o.A.wdoRev:o.A.reviews;let s=0,r=0;t>=280&&t<501?s=2:t>=501&&t<920?s=3:t>=920&&t<1150?s=4:t>=1150&&t<1420?s=5:t>=1420&&(s=6);o.A.isMobile||(2===s||3===s?((0,n.$dqsa)(".reviews-date",e).forEach(t=>t.style.cssText="position: static;"),(0,n.$dqsa)(".grid-mobile",e).forEach(t=>t.style.cssText="margin-top: 10px;")):s>0&&((0,n.$dqsa)(".reviews-date",e).forEach(t=>t.style.cssText=""),(0,n.$dqsa)(".grid-mobile",e).forEach(t=>t.style.cssText="")));return i.cardWid=(t-(12*(s-1)+r))/s,s}(a,t),d="shopReviews"===o.A.showType?s.shopReviewsHighs:s.columnHighs;d.length=0;for(let t=0;t<l;t++)d.push(0);A(e,s.cardWid)}function g(t,e){const{isWdoRevOpen:i}=o.A;let s=i?o.A.wdoRev:o.A.reviews;const n="shopReviews"===o.A.showType?s.shopReviewsHighs:s.columnHighs,l=n.map(t=>t);"shopReviews"===o.A.showType?s.preShopReviewsHighs=l:s.preColHighs=l;for(var d=0;d<e.length;d++){const t=e[d];var c;let i=Math.min.apply(null,n);c=n.findIndex(t=>t===i),n[c]=n[c]+t.offsetHeight+r,t.className=`grid-review column${c+1}`,t.dataset.column=c+1,t.style.left=c*(s.cardWid+12)+a+"px",t.style.top=i+"px",o.A.minHeight=i}var p=Math.max.apply(null,n);let u="";u=o.A.isMobile?`${p}px`:`${p+30}px`,t.style.height=u}function A(t,e){t.forEach(t=>{t.style.width=e+"px";const i=(0,n.$dqs)("img",t);i&&(i.width=e,i.style.display="block")})}o.A.arrangeGrid=u},220:(t,e,i)=>{i.d(e,{my:()=>c,qM:()=>d});var s=i(357),n=i(986),o=i(571),r=i(638),a=i(657);let l=null;function d(){if(o.A.isActWdoRev){const t="",e=o.A.userSetting.sidetab_setting,i=`#vstar-tab{ background-color:${e.sidetab_background_color}; color:${e.sidetab_font_color} } `;o.A.globalStyle.insertAdjacentHTML("beforeend",i);let s=`<div id="vstar-tab" ${t} >${o.A.tabText||e.sidetab_button_text}</div>`;!(0,n.$dqs)("#vstar-tab")&&document.body.insertAdjacentHTML("beforeend",s),(0,n.$dqs)("#vstar-tab").onclick=p}}function c(){(0,n.$dqs)(".window-close",o.A.wdoRev.node).onclick=function(){u()}}async function p(){if(l)o.A.showType=o.A.wdoRevDom.getAttribute("show-type");else{const t=`<div class="mask window-review-mask" style="display:none">\n\t\t<div id="vstar-window-review"><div class="window-close">\n\t\t${s.A.close(o.A.userSetting.font_color)}</div></div></div>`;document.body.insertAdjacentHTML("beforeend",t),l=(0,n.$dqs)(".window-review-mask"),l.onclick=function(t){(0,n.$dqs)("#vstar-window-review").contains(t.target)||u()},"store"===o.A.keySettings.all_reviews_display_type?o.A.showType="shopReviews":o.A.showType="reviews",(0,n.setWriteReview)()}o.A.isWdoRevOpen=!0,o.A.reviewsKey="popup",document.body.classList.add("trustoo-open"),l.style.display="block",o.A.isProPage&&(0,n.processRecordedData)("reviews_click"),o.A.isWdoRevExist||(o.A.wdoRev.node=(0,n.$dqs)("#vstar-window-review"),-1===o.A.allRatingData.total_reviews&&await(0,r.requestAllRating)(),o.A.allRatingData.total_reviews>0?(0,a.Gs)():(0,a.WC)(),(0,r.insertReviewDetail)())}function u(){o.A.isWdoRevOpen=!1,l=(0,n.$dqs)(".window-review-mask"),l.style.display="none",document.body.classList.remove("trustoo-open"),o.A.reviewsKey="normal",o.A.reviewsDom&&(o.A.showType=o.A.reviewsDom.getAttribute("show-type"))}document.addEventListener("onTTshowReviewsClick",p)},297:(t,e,i)=>{i.d(e,{i_:()=>n});var s=i(571);async function n(t,e=0,i,n){try{"undefined"==typeof tus&&await async function(){return new Promise((t,e)=>{if("undefined"!=typeof tus)return void t();const i=document.createElement("script");i.src="https://cdn.jsdelivr.net/npm/tus-js-client@latest/dist/tus.min.js",i.onload=()=>t(),i.onerror=()=>e(new Error("Failed to load TUS library")),document.head.appendChild(i)})}();const o=new URL("https://"+s.A.apiDomain+"/api/v1/product/tus_upload_video");o.searchParams.set("shop_id",s.A.shop_id);const r=o.toString(),a=new AbortController;try{const t=await fetch(r,{method:"OPTIONS",headers:{Origin:window.location.origin,"Access-Control-Request-Method":"POST","Access-Control-Request-Headers":"Content-Type, Tus-Resumable, Upload-Length"},signal:a.signal});if(!t.ok)throw new Error(`Endpoint connectivity test failed: ${t.status}`)}catch(t){if("AbortError"===t.name)return;throw new Error(`Endpoint connectivity test failed: ${t.message}`)}const l=new tus.Upload(t,{endpoint:r,retryDelays:[0,1e3,3e3,5e3],chunkSize:52428800,metadata:{filename:t.name,filetype:t.type||"video/mp4",fileIndex:e.toString()},request:t=>fetch(t.url,{...t,signal:a.signal}),onError:t=>{n&&n(t),"AbortError"!==t.name&&t.message.includes("aborted")},onProgress:(t,e)=>{const i=document.querySelector(".trustoo-write-review .uploaded-item[data-type=video]");if(l&&i){const s=Math.round(t/e*100);let n=i.parentNode.querySelector(".tt-progress");n||(i.insertAdjacentHTML("afterend",'<div class="tt-progress" style="height: 95px;display: flex;align-items: end;font-size: 14px;"></div>'),n=document.querySelector(".tt-progress")),n.textContent=s-1+"%"}},onSuccess:()=>{if(l){!async function(t,e="completed",i,n){try{const o=new AbortController,r=await fetch("https://"+s.A.apiDomain+"/api/v1/product/tus_upload_complete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({video_id:t,shop_id:s.A.shop_id,status:e}),signal:o.signal});if(!r.ok)throw n&&n(),new Error(`HTTP error: ${r.status}`);{const t=await r.json();if(0!==t.code||!t.data)throw new Error(`API: ${t.message||""}`);{const{domain:e,video_service_uid:s}=t.data;i&&i(e,s)}}}catch(t){if("AbortError"===t.name)return}}(function(t){try{const e=t.split("/");let i=e[e.length-1];return i.includes("?")&&(i=i.split("?")[0]),i}catch(t){return"unknown"}}(l.url),"completed",i,n)}}});await l.start()}catch(t){if(n&&n(t),"AbortError"===t.name)return}}},314:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var i="",s=void 0!==e[5];return e[4]&&(i+="@supports (".concat(e[4],") {")),e[2]&&(i+="@media ".concat(e[2]," {")),s&&(i+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),i+=t(e),s&&(i+="}"),e[2]&&(i+="}"),e[4]&&(i+="}"),i}).join("")},e.i=function(t,i,s,n,o){"string"==typeof t&&(t=[[null,t,void 0]]);var r={};if(s)for(var a=0;a<this.length;a++){var l=this[a][0];null!=l&&(r[l]=!0)}for(var d=0;d<t.length;d++){var c=[].concat(t[d]);s&&r[c[0]]||(void 0!==o&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=o),i&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=i):c[2]=i),n&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=n):c[4]="".concat(n)),e.push(c))}},e}},354:t=>{t.exports=function(t){var e=t[1],i=t[3];if(!i)return e;if("function"==typeof btoa){var s=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),n="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),o="/*# ".concat(n," */");return[e].concat([o]).join("\n")}return[e].join("\n")}},357:(t,e,i)=>{i.d(e,{A:()=>s});const s={verified:'<svg class="trustoo-badge-icon" xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 16 16" fill="none">\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M8 16C12.4183 16 16 12.4183 16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8C0 12.4183 3.58172 16 8 16ZM6.21017 11.4497C6.36872 11.6094 6.57573 11.6896 6.78357 11.6896C6.99058 11.6896 7.19842 11.6094 7.35697 11.4497L12.5 6.5C12.8163 6.17988 12.8163 5.66125 12.5 5.34113C12.1829 5.02019 11.6695 5.02019 11.3532 5.34113L6.78357 9.71017L4.11293 7.01029C3.79665 6.69018 3.28323 6.69018 2.96613 7.01029C2.64986 7.33041 2.64986 7.84987 2.96613 8.16998L6.21017 11.4497Z" fill="#333333"/>\n</svg>',close:t=>`<svg style="width:20px;height:20px" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M6.99968 5.95621L1.25984 0.216371C1.12066 0.0819462 0.934254 0.00756417 0.740764 0.00924555C0.547273 0.0109269 0.362184 0.0885372 0.225361 0.225361C0.0885372 0.362184 0.010927 0.547273 0.00924558 0.740764C0.0075642 0.934254 0.0819463 1.12066 0.216371 1.25984L5.95547 6.99968L0.216371 12.7395C0.147807 12.808 0.0934101 12.8894 0.056285 12.9789C0.01916 13.0685 3.431e-05 13.1644 4.612e-08 13.2614C-3.42178e-05 13.3583 0.0190236 13.4543 0.0560853 13.5439C0.0931471 13.6334 0.147487 13.7148 0.216002 13.7834C0.284518 13.8519 0.365867 13.9063 0.455405 13.9435C0.544944 13.9806 0.640917 13.9997 0.737847 13.9997C0.834777 13.9998 0.930764 13.9807 1.02033 13.9437C1.10989 13.9066 1.19128 13.8523 1.25984 13.7837L6.99968 8.04316L12.7395 13.7837C12.8081 13.8523 12.8895 13.9067 12.9791 13.9438C13.0687 13.9809 13.1647 14 13.2616 14C13.3586 14 13.4546 13.9809 13.5442 13.9438C13.6338 13.9067 13.7152 13.8523 13.7837 13.7837C13.8523 13.7152 13.9067 13.6338 13.9438 13.5442C13.9809 13.4546 14 13.3586 14 13.2616C14 13.1647 13.9809 13.0687 13.9438 12.9791C13.9067 12.8895 13.8523 12.8081 13.7837 12.7395L8.04316 6.99968L13.7837 1.25984C13.9221 1.12137 13.9998 0.933605 13.9997 0.737847C13.9997 0.542089 13.9218 0.354375 13.7834 0.216002C13.6449 0.0776292 13.4571 -6.91476e-05 13.2614 4.61754e-08C13.0656 6.92399e-05 12.8779 0.0779003 12.7395 0.216371L6.99968 5.95547V5.95621Z" fill="\n    ${t}"/>\n    </svg> \n    `,heartStroke:'<svg class="trustoo-rating-icon" width="18" height="19" viewBox="0 0 18 19" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t<path d="M9.19812 5.88018C9.52882 5.47456 9.87956 5.10851 10.2503 4.78203C10.571 4.51491 10.9343 4.27253 11.3402 4.05488C11.746 3.83723 12.1694 3.74324 12.6103 3.77292C13.2317 3.82239 13.7503 3.96831 14.1661 4.2107C14.582 4.45308 14.9127 4.75977 15.1582 5.13077C15.4038 5.50176 15.5716 5.92222 15.6618 6.39215C15.752 6.86208 15.7821 7.34438 15.752 7.83904C15.7219 8.3337 15.6342 8.8061 15.4889 9.25624C15.3436 9.70639 15.1632 10.1268 14.9478 10.5176C14.7323 10.9084 14.4943 11.2695 14.2338 11.6009C13.9732 11.9324 13.7127 12.2316 13.4521 12.4988C13.0513 12.9044 12.6329 13.2828 12.197 13.634C11.761 13.9852 11.3452 14.287 10.9493 14.5392C10.5535 14.7915 10.1927 14.9918 9.86703 15.1402C9.54134 15.2886 9.28831 15.3628 9.10793 15.3628C8.9075 15.3727 8.65196 15.3035 8.3413 15.1551C8.03065 15.0067 7.68992 14.8063 7.31914 14.5541C6.94835 14.3018 6.55753 14.0025 6.14666 13.6563C5.73579 13.31 5.32993 12.9439 4.92908 12.5581C4.66853 12.3108 4.38793 12.0239 4.0873 11.6974C3.78666 11.3709 3.50356 11.0123 3.238 10.6215C2.97244 10.2307 2.74445 9.80779 2.55405 9.3527C2.36365 8.89761 2.25843 8.41285 2.23838 7.8984C2.21834 7.38395 2.27346 6.90166 2.40373 6.45151C2.53401 6.00137 2.72942 5.59822 2.98997 5.24207C3.25053 4.88591 3.57121 4.58664 3.95201 4.34425C4.33282 4.10187 4.76373 3.93121 5.24475 3.83228C5.48526 3.78281 5.72577 3.77539 5.96628 3.81002C6.20678 3.84465 6.44228 3.90401 6.67277 3.9881C6.90326 4.07219 7.12373 4.17854 7.33417 4.30716C7.54462 4.43577 7.74504 4.56933 7.93544 4.70783C8.37638 5.03431 8.79727 5.42509 9.19812 5.88018Z"/>\n\t</svg>\n\t',star:'<svg class="trustoo-rating-icon" viewBox="0 0 20 19" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M10 0L12.8214 6.11672L19.5106 6.90983L14.5651 11.4833L15.8779 18.0902L10 14.8L4.12215 18.0902L5.43493 11.4833L0.489435 6.90983L7.17863 6.11672L10 0Z"/>\n    </svg>\n    ',store:(t="#666666")=>`<svg width="14" height="14" viewBox="0 0 10 9" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M8.48243 8.25H1.56692V6H0.798534V9H9.25082V6H8.48243V8.25ZM9.94237 2.85C9.86553 2.625 9.78869 2.475 9.71185 2.25C9.25082 1.5 8.86663 0.75 8.48243 0H1.56692L1.49008 0.15C1.41325 0.3 1.33641 0.375 1.33641 0.525C1.10589 0.975 0.875373 1.35 0.644856 1.8L0.414339 2.25C0.260661 2.55 0.106983 2.85 0.0301443 3.15C-0.0466947 3.525 0.0301443 3.9 0.183822 4.2C0.491178 4.8 1.10589 5.175 1.7206 5.25C2.33531 5.325 3.1037 5.025 3.4879 4.5C3.87209 4.95 4.40997 5.25 5.02468 5.25C5.63939 5.25 6.17726 4.95 6.56146 4.5C7.02249 5.1 7.86772 5.4 8.55927 5.175C9.32766 5.025 9.86553 4.35 9.94237 3.6C10.0192 3.375 10.0192 3.075 9.94237 2.85ZM8.71295 4.35C8.32875 4.575 7.71404 4.5 7.40669 4.275C7.02249 3.975 6.86881 3.45 6.94565 3H6.17726C6.33094 3.525 6.02358 4.125 5.56255 4.35C5.02468 4.65 4.33313 4.425 4.02577 3.975C3.87209 3.675 3.87209 3.3 3.87209 3H3.1037C3.1037 3.375 3.1037 3.675 2.87319 3.975C2.64267 4.425 1.95112 4.65 1.49008 4.425C1.02905 4.2 0.721695 3.6 0.798534 3.075C0.875373 2.85 0.952212 2.625 1.10589 2.4C1.33641 1.95 1.56692 1.575 1.87428 1.125C1.95112 1.05 2.02796 0.9 2.02796 0.825L2.1048 0.75H7.94456C8.25191 1.35 8.63611 1.875 8.94347 2.475C9.09714 2.7 9.17398 2.925 9.25082 3.15V3.375C9.25082 3.75 9.0203 4.125 8.71295 4.35Z" fill="${t}"/>\n    </svg>\n    `,hook:()=>'<svg width="14" height="10" viewBox="0 0 14 10" fill="none"\n    xmlns="http://www.w3.org/2000/svg">\n    <path d="M4.95902 6.78757L11.8702 0.242483C12.0341 0.0871857 12.256 0 12.4874 0C12.7187 0 12.9406 0.0871857 13.1046 0.242483L13.7423 0.84642C13.824 0.92377 13.8888 1.01571 13.933 1.11696C13.9772 1.21821 14 1.32677 14 1.43642C14 1.54606 13.9772 1.65462 13.933 1.75587C13.8888 1.85712 13.824 1.94906 13.7423 2.02641L5.59196 9.74524C5.55018 9.78491 5.50431 9.82047 5.45505 9.85138C5.28683 9.9625 5.08298 10.0139 4.879 9.99675C4.67502 9.97957 4.48384 9.89483 4.33876 9.75731L0.257673 5.89228C0.176006 5.81493 0.111202 5.72299 0.0669826 5.62174C0.0227634 5.52049 0 5.41193 0 5.30228C0 5.19264 0.0227634 5.08408 0.0669826 4.98283C0.111202 4.88158 0.176006 4.78964 0.257673 4.71229L0.895425 4.10835C1.05937 3.95305 1.28129 3.86587 1.51262 3.86587C1.74395 3.86587 1.96587 3.95305 2.12981 4.10835L4.95902 6.78757Z"\n    fill="#2A2A37" />\n    </svg>',prePage:t=>`<svg style="width:13px;height:13px" viewBox="0 0 7 12" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6.84 2.066V1.031c0-.09-.104-.14-.173-.084L.629 5.662a.427.427 0 0 0 0 .674l6.038 4.716a.107.107 0 0 0 .173-.085V9.932a.217.217 0 0 0-.082-.169L1.936 6l4.822-3.765a.217.217 0 0 0 .082-.169z" fill="${t}"/></svg>`,nextPage:t=>`<svg style="width:13px;height:13px" viewBox="0 0 7 12" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6.398 5.663L.36.947a.107.107 0 0 0-.172.085v1.035c0 .065.03.128.081.169L5.091 6 .269 9.765a.213.213 0 0 0-.081.169v1.035c0 .09.103.14.172.084l6.038-4.715a.428.428 0 0 0 0-.675z" fill="${t}" fill-opacity=".85"/></svg>`,helpful:t=>`\n\t\t<svg width="14" height="14" viewBox="0 0 110 110" fill="none" xmlns="http://www.w3.org/2000/svg" class="tt-helpful ${t}">\n\t\t\t<g id="Frame">\n\t\t\t<path id="Vector" d="M66.7821 43.8307C68.5673 35.8557 69.814 30.0876 70.5244 26.5149C72.3119 17.5201 67.6701 9.16699 58.4702 9.16699C50.1744 9.16699 46.0082 13.2897 43.5515 21.5305L43.4885 21.7712C42.0138 28.4376 39.7588 33.6053 36.7739 37.3029C35.2207 39.2318 33.2649 40.7981 31.0433 41.8922C28.8216 42.9863 26.3877 43.5818 23.9119 43.6371L21.5584 43.6875C15.9461 43.8078 11.459 48.4278 11.459 54.0871V88.2295C11.459 95.1904 17.0564 100.834 23.9623 100.834H68.2763C77.3788 100.834 85.5039 95.0793 88.5919 86.4477L97.7975 60.7112C100.14 54.1627 96.7731 46.9394 90.2774 44.5778C88.9178 44.0835 87.4822 43.8307 86.0355 43.8307H66.7821Z" />\n\t\t\t</g>\n\t\t</svg>\n\t\t`,unhelpful:t=>`\n\t\t<svg width="14" height="14" viewBox="0 0 110 110" fill="none" xmlns="http://www.w3.org/2000/svg" class="tt-unhelpful ${t}">\n\t\t\t<g id="Frame">\n\t\t\t<path id="Vector" d="M66.7821 66.1693C68.5673 74.1443 69.814 79.9124 70.5244 83.4851C72.3119 92.4799 67.6701 100.833 58.4702 100.833C50.1744 100.833 46.0082 96.7103 43.5515 88.4695L43.4885 88.2288C42.0138 81.5624 39.7588 76.3947 36.7739 72.6971C35.2207 70.7682 33.2649 69.2019 31.0433 68.1078C28.8216 67.0137 26.3877 66.4182 23.9119 66.3629L21.5584 66.3125C15.9461 66.1922 11.459 61.5722 11.459 55.9129L11.459 21.7705C11.459 14.8096 17.0564 9.16634 23.9623 9.16633L68.2763 9.16633C77.3788 9.16633 85.5039 14.9207 88.5919 23.5523L97.7975 49.2888C100.14 55.8373 96.7731 63.0606 90.2774 65.4222C88.9178 65.9165 87.4822 66.1693 86.0355 66.1693L66.7821 66.1693Z" />\n\t\t\t</g>\n\t\t\t</svg>\n\t\t`,sort:(t="#202123")=>`<svg data-tt-sort xmlns="http://www.w3.org/2000/svg" width="10" height="6" viewBox="0 0 10 6" fill="none">\n\t\t<path d="M10 1.00024C10.0001 1.07086 9.98523 1.1407 9.95626 1.2051C9.92729 1.2695 9.88493 1.32699 9.83199 1.37374L5.33187 5.3737C5.24042 5.45506 5.12227 5.5 4.99986 5.5C4.87746 5.5 4.75931 5.45506 4.66785 5.3737L0.167731 1.37374C0.118681 1.33014 0.0786984 1.27731 0.0500671 1.21826C0.0214358 1.15921 0.00471592 1.0951 0.00086218 1.02959C-0.00299156 0.964078 0.00609628 0.898449 0.0276068 0.83645C0.0491174 0.774451 0.0826294 0.717296 0.126229 0.668248C0.169829 0.6192 0.222664 0.579219 0.281716 0.550589C0.340767 0.521958 0.40488 0.505239 0.470394 0.501386C0.535907 0.497532 0.601538 0.506619 0.66354 0.528129C0.725541 0.549639 0.782699 0.583149 0.831749 0.626748L4.99986 4.33171L9.16798 0.626748C9.23994 0.562557 9.32895 0.520568 9.42425 0.505852C9.51956 0.491135 9.61708 0.504318 9.70506 0.543811C9.79303 0.583304 9.8677 0.647416 9.92004 0.728409C9.97237 0.809403 10.0001 0.903813 10 1.00024Z" fill="${t}"/>\n\t</svg>`,multiPhoto:()=>'\n\t\t<svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t<g id="Frame" clip-path="url(#clip0_19222_33518)">\n\t\t\t<g id="Vector" filter="url(#filter0_d_19222_33518)">\n\t\t\t<path d="M15.9499 13.6124V5.04154C15.9499 3.71237 14.8957 2.6582 13.5665 2.6582H5.04154C3.71237 2.6582 2.6582 3.71237 2.6582 5.04154V13.6124C2.6582 14.9415 3.71237 15.9957 5.04154 15.9957H13.6124C14.8957 15.9499 15.9499 14.8957 15.9499 13.6124ZM17.9665 6.87487V14.254C17.9665 16.3165 16.2707 18.0124 14.2082 18.0124H6.82904C6.55404 18.0124 6.41654 18.3332 6.59987 18.5165C7.0582 19.0207 7.69987 19.3415 8.47904 19.3415H14.6207C17.2332 19.3415 19.3415 17.2332 19.3415 14.6207V8.47904C19.3415 7.7457 19.0207 7.0582 18.5165 6.59987C18.2874 6.41654 17.9665 6.59987 17.9665 6.87487Z" fill="white"/>\n\t\t\t</g>\n\t\t\t</g>\n\t\t\t<defs>\n\t\t\t<filter id="filter0_d_19222_33518" x="-1.3418" y="-1.3418" width="24.6836" height="24.6836" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n\t\t\t<feFlood flood-opacity="0" result="BackgroundImageFix"/>\n\t\t\t<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n\t\t\t<feOffset/>\n\t\t\t<feGaussianBlur stdDeviation="2"/>\n\t\t\t<feComposite in2="hardAlpha" operator="out"/>\n\t\t\t<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>\n\t\t\t<feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_19222_33518"/>\n\t\t\t<feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_19222_33518" result="shape"/>\n\t\t\t</filter>\n\t\t\t<clipPath id="clip0_19222_33518">\n\t\t\t<rect width="22" height="22" fill="white"/>\n\t\t\t</clipPath>\n\t\t\t</defs>\n\t\t</svg>\n\t\t',qa:(t="#000")=>`<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">\n<path d="M10 2.48437C13.4531 2.48437 16.25 5.28125 16.25 8.73438C16.25 11.6562 14.1719 14.2188 11.3281 14.8438L10.7812 14.9531L10.5 15.4375L10.0156 16.2656L9.54688 15.4375L9.26562 14.9531L8.71875 14.8438C5.84375 14.25 3.75 11.6719 3.75 8.73438C3.75 5.28125 6.54688 2.48437 10 2.48437ZM10 1.23438C5.85938 1.23438 2.5 4.59375 2.5 8.73438C2.5 12.3438 5.0625 15.375 8.46875 16.0781L10.0312 18.7812L11.5938 16.0781C14.9688 15.3281 17.5 12.3281 17.5 8.73438C17.5 4.59375 14.1406 1.23438 10 1.23438ZM10 3.73438C8.60938 3.73438 7.48438 4.875 7.48438 6.25H8.75C8.75 5.5625 9.3125 4.98438 10 4.98438C10.6875 4.98438 11.25 5.54688 11.25 6.23438C11.25 6.57812 11.1094 6.89062 10.8906 7.10938L10.125 7.89062C9.67188 8.34375 9.39062 9 9.39062 9.6875V11.25H10.6406V10C10.6406 9.07812 10.9219 8.6875 11.375 8.21875L11.9375 7.64062C12.2969 7.28125 12.5156 6.78125 12.5156 6.23438C12.5 4.85938 11.375 3.73438 10 3.73438ZM9.375 13.75H10.625V12.5H9.375V13.75Z" fill="${t}" />\n</svg>`,loading:(t="#000")=>`<svg class="tt-loading-icon" style="width:16px;height:16px" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">\n\t\t<path d="M7.99895 3.99998H7.9925C7.84207 3.99838 7.69834 3.93753 7.5925 3.83062C7.48666 3.72372 7.42725 3.57939 7.42715 3.42895V3.4225C7.42715 3.4225 7.42922 3.21317 7.42922 2.28574V0.571444C7.42922 0.496401 7.444 0.422092 7.47272 0.352762C7.50143 0.283431 7.54353 0.220435 7.59659 0.167372C7.64965 0.114309 7.71265 0.0722162 7.78198 0.0434985C7.85131 0.0147808 7.92562 0 8.00066 0C8.0757 0 8.15001 0.0147808 8.21934 0.0434985C8.28867 0.0722162 8.35167 0.114309 8.40473 0.167372C8.4578 0.220435 8.49989 0.283431 8.52861 0.352762C8.55732 0.422092 8.57211 0.496401 8.57211 0.571444V2.28574C8.57211 3.22478 8.5701 3.4265 8.56998 3.43463C8.56836 3.58505 8.5075 3.72877 8.4006 3.83461C8.2937 3.94045 8.14938 3.99987 7.99895 3.99998ZM8.00102 16C7.84947 16 7.70413 15.9398 7.59697 15.8326C7.48981 15.7255 7.4296 15.5801 7.4296 15.4286V13.7075C7.4296 12.7859 7.4276 12.5794 7.42754 12.5774C7.42748 12.5754 7.42754 12.5731 7.42754 12.571C7.4268 12.4194 7.48628 12.2738 7.59292 12.1661C7.69955 12.0584 7.8446 11.9975 7.99615 11.9967C8.14769 11.996 8.29333 12.0555 8.40102 12.1621C8.5087 12.2687 8.56962 12.4138 8.57036 12.5653C8.57036 12.5735 8.57249 12.7745 8.57249 13.7088V15.4286C8.57249 15.5036 8.55771 15.5779 8.52899 15.6473C8.50027 15.7166 8.45817 15.7796 8.40511 15.8327C8.35204 15.8857 8.28904 15.9278 8.21971 15.9565C8.15037 15.9852 8.07606 16 8.00102 16ZM4.7671 5.33968C4.69103 5.33978 4.6157 5.32465 4.54557 5.29517C4.47544 5.26568 4.41192 5.22245 4.35877 5.16802C4.35877 5.16802 4.21221 5.01856 3.55642 4.36277L2.34386 3.15054C2.2367 3.04337 2.17651 2.89802 2.17651 2.74647C2.17652 2.59491 2.23673 2.44957 2.3439 2.34241C2.45106 2.23525 2.59641 2.17505 2.74796 2.17506C2.89952 2.17507 3.04486 2.23528 3.15202 2.34244L4.36419 3.55461C5.02817 4.21859 5.16938 4.3627 5.17512 4.36851C5.2538 4.44888 5.30702 4.55068 5.3281 4.66117C5.34919 4.77165 5.33719 4.8859 5.29363 4.98959C5.25006 5.09329 5.17686 5.18182 5.0832 5.2441C4.98954 5.30637 4.87958 5.33962 4.7671 5.33968ZM13.2535 13.8235C13.1785 13.8236 13.1041 13.8089 13.0348 13.7801C12.9654 13.7514 12.9024 13.7093 12.8494 13.6561L11.6372 12.4439C10.9814 11.7881 10.8333 11.6429 10.8319 11.6415C10.7783 11.589 10.7355 11.5264 10.7061 11.4574C10.6766 11.3884 10.6611 11.3142 10.6603 11.2392C10.6595 11.1641 10.6735 11.0897 10.7015 11.02C10.7294 10.9504 10.7709 10.887 10.8234 10.8334C10.8759 10.7797 10.9384 10.737 11.0074 10.7075C11.0765 10.6781 11.1506 10.6625 11.2256 10.6617C11.3007 10.661 11.3751 10.675 11.4448 10.7029C11.5144 10.7309 11.5778 10.7724 11.6315 10.8249C11.6373 10.8305 11.7814 10.9718 12.4454 11.6358L13.6575 12.8479C13.7375 12.9279 13.7919 13.0297 13.814 13.1405C13.8361 13.2514 13.8247 13.3663 13.7815 13.4707C13.7382 13.5752 13.665 13.6644 13.571 13.7272C13.477 13.79 13.3665 13.8235 13.2535 13.8235ZM2.85819 13.8235C2.93325 13.8236 3.00758 13.8089 3.07693 13.7801C3.14628 13.7514 3.20926 13.7093 3.26226 13.6561L4.47443 12.4439C5.13022 11.7881 5.27839 11.6429 5.27975 11.6415C5.33337 11.589 5.37612 11.5264 5.40557 11.4574C5.43501 11.3884 5.45058 11.3142 5.45137 11.2392C5.45216 11.1641 5.43816 11.0897 5.41018 11.02C5.38219 10.9504 5.34076 10.887 5.28826 10.8334C5.23576 10.7797 5.17321 10.737 5.10419 10.7075C5.03517 10.6781 4.96102 10.6625 4.88598 10.6617C4.81094 10.661 4.73648 10.675 4.66686 10.7029C4.59723 10.7309 4.53379 10.7724 4.48017 10.8249C4.47437 10.8305 4.33026 10.9718 3.66628 11.6358L2.45411 12.848C2.37418 12.9279 2.31975 13.0297 2.2977 13.1406C2.27565 13.2514 2.28696 13.3664 2.33022 13.4708C2.37347 13.5752 2.44672 13.6644 2.5407 13.7272C2.63467 13.79 2.74516 13.8235 2.85819 13.8235ZM3.42869 8.57249H3.42224C3.42224 8.57249 3.21291 8.57043 2.28548 8.57043H0.571444C0.496401 8.57043 0.422092 8.55565 0.352762 8.52693C0.283431 8.49821 0.220435 8.45612 0.167372 8.40306C0.114308 8.34999 0.0722163 8.287 0.0434986 8.21767C0.0147809 8.14833 0 8.07403 0 7.99898C0 7.92394 0.0147809 7.84963 0.0434986 7.7803C0.0722163 7.71097 0.114308 7.64798 0.167372 7.59491C0.220435 7.54185 0.283431 7.49976 0.352762 7.47104C0.422092 7.44232 0.496401 7.42754 0.571444 7.42754H2.28568C3.22472 7.42754 3.42644 7.42954 3.43456 7.42967C3.58499 7.43127 3.72872 7.49212 3.83456 7.59902C3.9404 7.70593 3.99982 7.85026 3.99991 8.00069V8.00714C3.9983 8.1576 3.93741 8.30135 3.83047 8.40719C3.72353 8.51304 3.57916 8.57243 3.42869 8.57249ZM12.5714 8.57249C12.4209 8.57247 12.2765 8.51307 12.1695 8.40719C12.0625 8.30132 12.0016 8.15752 12.0001 8.00702V8.00056C12.0002 7.85015 12.0596 7.70585 12.1655 7.59898C12.2713 7.4921 12.415 7.43127 12.5654 7.42967C12.5735 7.42967 12.7753 7.42754 13.7144 7.42754H15.4287C15.5802 7.42754 15.7256 7.48775 15.8327 7.59491C15.9399 7.70208 16.0001 7.84743 16.0001 7.99898C16.0001 8.15054 15.9399 8.29589 15.8327 8.40306C15.7256 8.51022 15.5802 8.57043 15.4287 8.57043H13.7144C12.7869 8.57043 12.5795 8.57243 12.5775 8.57249H12.5714ZM11.2332 5.33961C11.1207 5.33959 11.0107 5.30638 10.917 5.24412C10.8233 5.18187 10.7501 5.09335 10.7065 4.98966C10.6629 4.88596 10.6509 4.77171 10.672 4.66122C10.693 4.55072 10.7462 4.4489 10.8249 4.36851C10.8306 4.3627 10.9719 4.21859 11.6358 3.55461L12.848 2.34238C12.9552 2.23519 13.1005 2.17497 13.2521 2.17496C13.4037 2.17495 13.549 2.23515 13.6562 2.34232C13.7634 2.44948 13.8236 2.59484 13.8237 2.74641C13.8237 2.89798 13.7635 3.04335 13.6563 3.15054L12.4439 4.3627C11.89 4.9167 11.7003 5.10842 11.6539 5.15544L11.6415 5.16834C11.5883 5.22269 11.5248 5.26584 11.4546 5.29525C11.3845 5.32467 11.3092 5.33975 11.2332 5.33961Z" fill="${t}" fill-opacity="0.4"/>\n\t</svg>`,over:(t="#000")=>`<svg style="width:16px;height:12px" xmlns="http://www.w3.org/2000/svg" width="16" height="12" viewBox="0 0 16 12" fill="none">\n<path d="M15.6663 1.95327L5.98383 11.665C5.53854 12.1117 4.81569 12.1117 4.37041 11.665L3.56273 10.8549L14.0509 0.334971C14.4962 -0.111657 15.2191 -0.111657 15.6644 0.334971C16.1116 0.7816 16.1116 1.50665 15.6663 1.95327ZM4.36848 11.665L0.333961 7.6183C-0.11132 7.17168 -0.11132 6.44663 0.333961 6C0.779242 5.55337 1.5021 5.55337 1.94738 6L6.78957 10.8568L5.98383 11.665C5.53662 12.1117 4.81569 12.1117 4.36848 11.665Z" fill="${t}" fill-opacity="0.4"/>\n</svg>`,cw:'<svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg" class="tt-cw">\n\t<rect x="1.53711" y="1.39551" width="8.99951" height="8.99951" fill="white"/>\n\t<path fill-rule="evenodd" clip-rule="evenodd" d="M3.32765 2.73501e-06C2.8905 -0.000558075 2.45754 0.0851314 2.05355 0.252163C1.64957 0.419194 1.28251 0.664286 0.973399 0.973399C0.664286 1.28251 0.419194 1.64957 0.252163 2.05355C0.0851314 2.45754 -0.000558075 2.8905 2.73501e-06 3.32765V8.67235C2.73501e-06 9.5549 0.350594 10.4013 0.97465 11.0254C1.59871 11.6494 2.44511 12 3.32765 12H8.67235C9.55409 11.9998 10.3997 11.6497 11.0236 11.0266C11.6475 10.4035 11.9986 9.55835 12 8.67661V3.32765C11.9989 2.44658 11.6484 1.60192 11.0254 0.978908C10.4023 0.355895 9.55768 0.00539091 8.67661 0.00426349L3.32765 2.73501e-06ZM6 10C6.79698 9.99949 7.57568 9.76122 8.23648 9.31568C8.89728 8.87014 9.41013 8.23758 9.70942 7.49894H7.8202C7.4845 7.90174 7.03062 8.18877 6.5228 8.31938C6.01498 8.45 5.47894 8.4176 4.99055 8.22676C4.50216 8.03592 4.08616 7.69631 3.80143 7.256C3.51669 6.81569 3.37766 6.29698 3.40399 5.77329C3.43032 5.2496 3.62069 4.74746 3.94816 4.33793C4.27562 3.92841 4.72359 3.63224 5.22866 3.49136C5.73373 3.35047 6.27032 3.372 6.76248 3.55291C7.25464 3.73381 7.67743 4.06491 7.97103 4.49936H9.70942C9.43743 3.82626 8.98741 3.23985 8.4076 2.80297C7.82778 2.36609 7.14002 2.0952 6.41801 2.01935C5.696 1.94349 4.96696 2.06552 4.30901 2.37235C3.65106 2.67919 3.08899 3.15927 2.68305 3.76115C2.2771 4.36303 2.04257 5.06402 2.0046 5.78901C1.96662 6.514 2.12662 7.23565 2.46746 7.87665C2.8083 8.51765 3.31713 9.05383 3.93942 9.42773C4.56172 9.80163 5.27402 9.99916 6 9.99915V10Z" fill="#444444"/>\n\t</svg>\n\t',video:'<svg class="tt-video-icon" xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36" fill="none">\n  <g filter="url(#filter0_d_5903_67423)">\n    <path d="M18 4C10.2806 4 4 10.2806 4 18C4 25.7194 10.2806 32 18 32C25.7194 32 32 25.7194 32 18C32 10.2806 25.7194 4 18 4ZM18 29.8462C11.4685 29.8462 6.15385 24.5315 6.15385 18C6.15385 11.4685 11.4685 6.15385 18 6.15385C24.5315 6.15385 29.8462 11.4685 29.8462 18C29.8462 24.5315 24.5315 29.8462 18 29.8462ZM16.4794 11.7054C16.3187 11.5886 16.1289 11.5185 15.9308 11.5029C15.7328 11.4873 15.5343 11.5267 15.3573 11.6169C15.1803 11.7071 15.0317 11.8444 14.9279 12.0138C14.8241 12.1832 14.7692 12.378 14.7692 12.5766V24.0114C14.7694 24.2099 14.8245 24.4046 14.9283 24.5738C15.0322 24.743 15.1808 24.8802 15.3578 24.9703C15.5347 25.0603 15.7332 25.0997 15.9311 25.084C16.129 25.0684 16.3188 24.9983 16.4794 24.8815L24.3409 19.1642C24.4784 19.0643 24.5903 18.9332 24.6674 18.7818C24.7446 18.6304 24.7848 18.4629 24.7848 18.2929C24.7848 18.123 24.7446 17.9554 24.6674 17.804C24.5903 17.6526 24.4784 17.5216 24.3409 17.4217L16.4794 11.7054Z" fill="white"/>\n  </g>\n  <defs>\n    <filter id="filter0_d_5903_67423" x="0" y="0" width="36" height="36" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n      <feFlood flood-opacity="0" result="BackgroundImageFix"/>\n      <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n      <feOffset/>\n      <feGaussianBlur stdDeviation="2"/>\n      <feComposite in2="hardAlpha" operator="out"/>\n      <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>\n      <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_5903_67423"/>\n      <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_5903_67423" result="shape"/>\n    </filter>\n  </defs>\n</svg>'}},381:(t,e,i)=>{i.d(e,{D:()=>_});var s=i(957),n=i(357),o=i(986),r=i(571),a=i(638),l=i(134);const d=1,c='<div class="tt-bs-button"><svg xmlns="http://www.w3.org/2000/svg" width="6" height="10.8" viewBox="0 0 6 12" fill="none">\n<path d="M5.3573 11.4016C5.19273 11.4016 5.02813 11.3385 4.90256 11.2119L0.188369 6.46006C-0.0627898 6.20734 -0.0627898 5.7969 0.188369 5.54373L4.90256 0.791437C5.15372 0.538271 5.56047 0.538271 5.81163 0.791437C6.06279 1.04416 6.06279 1.4546 5.81163 1.70777L1.55218 6.00166L5.81163 10.2951C6.06279 10.5483 6.06279 10.9583 5.81163 11.2115C5.68648 11.3385 5.52188 11.4016 5.3573 11.4016Z" fill="black"/>\n</svg></div>\n';function p(t){const e=l.A.bsTextCarouselCount||6,i=[s.zG.getReviews({sortType:"commented-at-descending",ratingFilter:5,page:d,limit:e,isBuyersShow:r.A.buyersShowType,noEmpty:!0,productId:l.A.reviewsSnippetProdId,NotStoreReview:!0}),new Promise(t=>{const e=(0,o.$dqs)('script[src*="swiper@11/swiper-bundle.min.js"]');if(e)"undefined"!=typeof Swiper?t():e.addEventListener("load",()=>{t()});else{const e=document.createElement("link");e.rel="stylesheet",e.href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css",document.head.appendChild(e);const i=document.createElement("script");i.setAttribute("defer",!0),i.src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js",document.head.appendChild(i),i.onload=()=>t()}})];Promise.all(i).then(e=>{const i=e[0];if(i[0])throw 11;t.insertAdjacentHTML("beforeend",'<div id="tt-bs-carousel"></div>');const s=(0,o.$dqs)("#tt-bs-carousel",t),n=i[1].list;if(0===n.length)return;const r=n.length>1,a=r?c:"",d=n.reduce((t,e)=>t+`\n    <div class="swiper-slide tt-bs-card">\n      <div class="tt-bs-first-row">\n        <div class="tt-bs-author">\n        ${e.author}\n        </div>\n        <div class="vstar-star">\n          ${(0,o.getTotalStarString)(e.star)}\n        </div>\n      </div> \n      <div class="tt-bs-text">\n      ${e.content}\n      </div>\n    </div>\n    `,"");s.insertAdjacentHTML("afterbegin",`${a}<div class="tt-swiper-container">\n\t\t\t<div class="swiper-wrapper" id="tt-bs-text-container" navigation="false">\n        ${d}</div></div>${a}`),function(t,e){const i={delay:l.A.bsCarouselSpeed||3e3,pauseOnMouseEnter:!0};new Swiper(t,{loop:!0,speed:300,spaceBetween:200,slidesPerView:1,autoplay:i});const s=t.swiper;e&&(t.previousElementSibling.onclick=()=>{s.slidePrev()},t.nextElementSibling.onclick=()=>{s.slideNext()})}((0,o.$dqs)(".tt-swiper-container",s),r)})}let u=0,v=0,g=null;const A=1,w=1,h=2,m=3;async function _(t=null){let e=null,i=null,d="afterend";t||(0,o.$dqsa)("#trustoo-buyers-show-widget").forEach(t=>{t.offsetParent||t.remove()});const c=(0,o.$dqs)("#trustoo-buyers-show-widget");if(!t)if("undefined"==typeof vstar_buyers_show_settings||r.A.isSettingUpdate){e=(await s.zG.getBuyerShowsSettings())[1]}else e=vstar_buyers_show_settings;if(!(e&&1===e.is_activated||c||t))return;if(i=e,!t)if(r.A.bsInsertSelector)g=(0,o.$dqs)(r.A.bsInsertSelector);else if(c)g=c,d="afterbegin";else if(null!==(0,o.$dqs)("product-form.product-form")||[1499,1567,1356,1363,1368,1434,887,1500,1431,1841,1891].includes(r.A.theme_store_id))g=(0,o.$dqs)("product-form.product-form").parentNode;else{let t="";switch(r.A.theme_store_id){case 829:t=".product__form-wrapper";break;case 775:case 796:case 578:t="form.product-form";break;case 730:t="form.product-single__form";break;case 679:t="form.addToCartForm";break;case 380:t="form.product-form--wide";break;default:t="warehouse"===Review.theme.name?"form.product-form":"Tema-plano-ouro-ldo"===Review.theme.name?".product-form__payment-container":".product-details .shopify-product-form,form[id^=AddToCartForm],form.product-form,product-form.product-form,form[id^=product_form]"}g=t&&(0,o.$dqs)(t)?(0,o.$dqs)(t):(0,o.$dqs)(".product-form")}if(!g&&!t)return void(Review.buyersShowTip="");const _=document.createElement("style");document.head.appendChild(_),r.A.is=_,t||(v=e.columns_count*e.rows_count,r.A.insHoverColor=e.hover_text_color,r.A.buyersShowType=2===e.reviews_type?1:2);const f=t?r.A.albumSortType:"image-descending";let y="trustoo_show_reviews";t&&(y=r.A.isWdoRevOpen?"trustoo_album_reviews":"trustoo_album_all_reviews");let b="";if((t||[h,w].includes(e.style))&&(b=await async function(t,e){let i=r.A.buyersShowType;"trustoo_album_reviews"===e||"trustoo_album_all_reviews"===e?(u=r.A.albumCount,i=2):"trustoo_show_reviews"===e&&(u=v);const a=await s.zG.getReviews({sortType:t,page:A,limit:u,isBuyersShow:i,hasResource:!0,productId:l.A.reviewsSnippetProdId,NotStoreReview:"trustoo_show_reviews"===e}),d=a[1];r.A.lastPageSize||(r.A.lastPageSize=d.count%u,r.A.total_page=d.total_page);const c=d.list,p=JSON.parse((0,o.gsSession)("get","tt_detail_reviews"));p[e]?p[e].push(c):p[e]=[c];(0,o.gsSession)("set","tt_detail_reviews",JSON.stringify(p)),1===A&&(r.A.insPageCount=d.total_page);let g="";return c.forEach((t,e)=>{const i=t.resources[0];if(0===t.resources.length||!i.src&&!i.thumb_src)return;const s=2===i.resource_type?i.thumb_src:i.src,o=A-1+"-"+e,r=2===i.resource_type?`<div class="tt-video-player">${n.A.video}</div>`:"";g+=`<div class="tt-wrapper">\n      <div class="review-item" index="${o}">\n\t\t\t<img src="${i.thumb_src||s}" alt="buyer show image" />\n\t\t\t${r}\n      </div>\n    </div>`}),g}(f,y),""===b)){if(t)return;if(e&&e.style===h)return}let $=null;if(t)$=t;else{const t=(0,o.$dqs)("#tt-bs-area");getComputedStyle(g).width,t&&t.remove();const i=`<div id="tt-bs-area" style="display:none;width:${g.offsetWidth}px" class="trustoo-widget"> ${b&&`<div class="tt-bs-title"">${r.A.lang.buyers_shows}</div>`}</div>`;g.insertAdjacentHTML(d,i),$=(0,o.$dqs)("#tt-bs-area"),[m,w].includes(e.style)&&p($)}if(b?($.insertAdjacentHTML("beforeend",`<div id="tt-bs-list">${b}</div>`),r.A.isInsertBS=!0,(0,a.insertReviewDetail)(),(0,o.$dqs)("#tt-bs-list",$).onclick=e=>{const i=e.target.closest(".review-item");if(i){const[e,s]=i.getAttribute("index").split("-"),n=JSON.parse((0,o.gsSession)("get","tt_detail_reviews"))[y];(0,o.processRecordedData)("reviews_click"),TTRevDetail.showTTReviewDetail(r.A,"",n[e][s],t?"trustoo_album_reviews":"trustoo_buyers_show")}},(0,o.$dqsa)(".tt-wrapper>.review-item>img",$).forEach(t=>{t.onerror=()=>{t.closest(".tt-wrapper").remove()}}),t&&!r.A.isMobile&&(t.previousElementSibling.style.opacity="1")):r.A.isNoPost=!0,t)_.textContent+=`\n    #vstar-reviews .tt-reviews-album .review-item>img{border-radius:${r.A.userSetting.album_radius}px;}\n    `;else{const{card_bg:t,text_color:i,star_color:s,button_bg:n,arrow_color:r}=e,a=1/e.columns_count*100+"%";_.textContent+=`\n  \t#tt-bs-area .tt-bs-title{color:${e.title_text_color};font-size:${e.title_font_size}px;text-align:${e.title_align}}\n    #tt-bs-area .tt-wrapper{flex-basis:${a};padding:${e.item_padding}px;}\n    #tt-bs-area .review-item>img{border-radius:${e.border_radius}px;}\n    #tt-bs-area #tt-bs-carousel .tt-bs-card{border-radius:${e.card_radius}px;}\n    #tt-bs-area .tt-bs-card{background:${t};color:${i};}#tt-bs-area .tt-bs-text,#tt-bs-area .tt-bs-author{color:${i};}\n    #tt-bs-area .vstar-star{--star-color:${s};}#tt-bs-area .tt-bs-button{background:${n};}\n    #tt-bs-area .tt-bs-button path{fill:${r};}\n    `,(0,o.$dqs)("#tt-bs-area").style.display="block"}}},405:(t,e,i)=>{i.d(e,{aQ:()=>l,is:()=>a,nf:()=>d});var s=i(88),n=i(357),o=i(571),r=i(607);function a(t,e="beforeend",i=5,a,d,c=""){this.pageCount=a,this.callback=()=>{"QA"===o.A.showType?(0,s.B)():(0,r.bC)()};const p=this.callback;this.activeIndex=0,this.pagerCount=i,this.middleIndex=parseInt(i/2);const{userSetting:u,isWdoRevOpen:v}=o.A,g=v?o.A.wdoRevDom:o.A.reviewsDom,A=n.A.prePage(u.font_color),w=n.A.nextPage(u.font_color),h=t.parentNode.classList.contains("trustoo-rtl");for(var m=`<ul class="page-control" type="${c}">\n            <li style="display:none" class="page-control-button pre-page">\n              ${h?w:A}\n            </li>`,_=1;_<=i;_++)m+=`<li class="page-control-item ${1===_?"active":""} " data-index="${_-1}" data-number="${_}" >${_}</li>`;if(m+=`<li class="page-control-button next-page">\n              ${h?A:w}\n            </li>\n            </ul>`,t.insertAdjacentHTML(e,m),this.el=g.querySelector(".page-control"),this.pageNumList=this.el.querySelectorAll(".page-control-item"),a<5&&1!==a)for(_=a;_<5;_++)this.pageNumList[_].style.display="none";setTimeout(()=>{1===a&&this.togglePageButton(2)},0),this.el.onclick=t=>{if(t.target.classList.contains("page-control-item")){this.activeIndex=t.target.dataset.index;let e=parseInt(t.target.textContent);this.pageClick(p,e)}},this.pageClick=function(t,e){let i=this.el.querySelector(".page-control-item.active").textContent;const s=this.pageCount;l(3,e),t?t():this.activeIndex=0,1==i&&1!=e?this.togglePageButton(1,"block"):1!=i&&1==e&&this.togglePageButton(1,"none"),i!=s&&e==s?this.togglePageButton(2,"none"):i==s&&e!=s&&this.togglePageButton(2,"block"),this.setPageNum()};var f=this.el.querySelector(".pre-page"),y=this.el.querySelector(".next-page");this.prePageButton=f,this.nextPageButton=y,this.togglePageButton=function(t,e){1==t?f.style.display=e:2==t&&(y.style.display=e)},this.setPageNum=function(){let t=l();const e=this.pageCount,i=this.pagerCount;this.activeIndex>this.middleIndex&&this.pageNumList[i-1].innerHTML<=e||this.activeIndex<this.middleIndex&&this.pageNumList[0].innerHTML>1?(t+this.middleIndex>e||t-this.middleIndex<=0?this.el.querySelector(".page-control-item.active").classList.remove("active"):this.activeIndex!=this.middleIndex&&(this.el.querySelector(".page-control-item.active").classList.remove("active"),this.activeIndex=this.middleIndex,this.pageNumList[this.middleIndex].classList.add("active")),this.changePageNum()):(this.el.querySelector(".page-control-item.active").classList.remove("active"),this.pageNumList[this.activeIndex].classList.add("active"))},this.getNextPageReviews=function(){l(1);const t=this.pageCount;let e=l();this.activeIndex++,2==e&&this.togglePageButton(1,"block"),e==t&&this.togglePageButton(2,"none"),p&&p(),this.setPageNum(2)},this.getPrePageReviews=function(){const t=this.pageCount;this.activeIndex--,l(2);let e=l();1==e&&this.togglePageButton(1,"none"),e==t-1&&this.togglePageButton(2,"block"),p&&p(),this.setPageNum(1)},y.onclick=()=>this.getNextPageReviews(),f.onclick=()=>this.getPrePageReviews(),this.changePageNum=function(){const t=this.pageCount,e=this.pagerCount;let i=l();var s=!1,n=i-this.middleIndex,o=i+this.middleIndex;i+this.middleIndex>t?(s=!0,n=t-2*this.middleIndex,e%2==0&&n++,o=t):e%2==0&&o--,n<=0&&(s=!0,o=(n=1)+2*this.middleIndex);for(var r=0,a=n;a<=o;a++)a===i&&s&&(this.pageNumList[r].classList.add("active"),this.activeIndex=r),this.pageNumList[r].innerHTML=a,r++},this.clearPageItems=()=>{o.A.pager.el.querySelectorAll(".page-control-item").forEach(t=>t.remove())}}function l(t,e){let i=o.A.isWdoRevOpen?o.A.wdoRevDom:o.A.reviewsDom;const s="reviews"===o.A.showType?"reviews-page-no":"qa-page-no",n=(o.A.isWdoRevOpen?o.A.popupPageInfo:o.A.pageInfo)[o.A.showType];let r=n.curPage;return 1===arguments.length?(1===t?r++:2===t&&r--,n.curPage=r,i.setAttribute(s,r)):3===t&&2===arguments.length&&(i.setAttribute(s,e),n.curPage=e),r}function d(){if(1!==o.A.userSetting.review_pagination_type||!o.A.pager)return;const t=o.A.pager.el,e=o.A.pageInfo[o.A.showType];if(!e)return;const{total:i,curPage:s}=e;if(o.A.pager.pageCount=i,i<=1)return void(t.style.display="none");t.style.display="flex",t.setAttribute("type",o.A.showType),function(t){t.querySelectorAll(".page-control-item").forEach(t=>t.remove())}(t),e.pageNumbers&&e.pageNumbers.length>0?function(t,e){const i=t.querySelector(".next-page");e.forEach((e,s)=>{const n=document.createElement("li");n.className="page-control-item",n.dataset.index=s,n.dataset.number=e,n.textContent=e,t.insertBefore(n,i)})}(t,e.pageNumbers):function(t,e){const i=Math.min(e,5),s=t.querySelector(".next-page");for(let e=1;e<=i;e++){const i=document.createElement("li");i.className="page-control-item",i.dataset.index=e-1,i.dataset.number=e,i.textContent=e,t.insertBefore(i,s)}}(t,i);const n=e.activeIndex||0,r=t.querySelector(`.page-control-item[data-index="${n}"]`);r&&(r.classList.add("active"),e.activeIndex=n),o.A.pager.activeIndex=n,o.A.pager.pageNumList=t.querySelectorAll(".page-control-item"),o.A.pager.pagerCount=o.A.pager.pageNumList.length,o.A.pager.middleIndex=parseInt(o.A.pager.pagerCount/2),o.A.pager.prePageButton.style.display=1===s?"none":"flex",o.A.pager.nextPageButton.style.display=s===i?"none":"flex"}},429:(t,e,i)=>{i.d(e,{DF:()=>g,M0:()=>w,WF:()=>A,nq:()=>u});var s=i(957),n=i(571),o=i(134);const{$dqs:r,debounce:a,setObserve:l,$dqsa:d}=i(986),{setInsertTarget:c,starEmbeddedAdaptation:p}=i(638);function u(){const t=n.A.curCollArr;let e=[],i='a[href*="/products/"]';if(-1===t.findIndex(t=>"A"!==t.tagName))return t;if(-1===t.findIndex(t=>null===r(i,t)))return t.map(t=>r(i,t));let s=5;d(".product-card .group-block-content div[class*=product_title],.product-card .group-block-content div.text-block.h5").length&&(s=6);let o,a=t[0],l=[];for(let n=0;n<t.length;n++){let d=t[n];a=t[n],o=null;for(let t=0;t<s;t++){if(a=a.parentNode,"A"===a.tagName&&a.href&&-1!==a.href.indexOf("/products/")){o=a;break}let t=r(i,a);if(t){o=t;break}}o&&(e.push(o),l.push(d))}return n.A.curCollArr=l,e}const v=a(()=>{n.A.observer.disconnect(),g();let{collTarget:t}=Review;const e=Array.from(t).map(t=>t.textContent.replace(/\n/g,"").trim()).join();w(),t=Review.collTarget;const i=Array.from(t).map(t=>t.textContent.replace(/\n/g,"").trim()).join(),s=d(".collection-icon-list").length;(0!==s&&s===t.length||0===s&&2===n.A.userSetting.is_show_stars_without_review)&&e===i?g():(Review.observeCount++,c(2),Review.collectionTarget=t)},400);function g(){const t=document.body;l(t,{childList:!0,subtree:!0},function(){v()},n.A)}function A(t){let e="";if(t.length){let i="A",s=[];for(let e=0;e<t.length;e++)if(t[e]&&t[e].tagName===i&&t[e].getAttribute("href")){let i=t[e].getAttribute("href"),n=i.lastIndexOf("/products/")+10,o=i.indexOf("?"),r="";r=-1!=o?i.substring(n,o):i.substring(n),-1===r.indexOf(".jpg")&&s.push(r)}else s.push("undefined");e=s.join(",")}return e=e.replace(/[#]/g,""),e}async function w(){let t=[],{theme_store_id:e,isProPage:i,isOtherTheme:a}=n.A,l=!0;const c=Review.proTarget;if((n.A.hasPyRating||n.A.hasEcomRt)&&(t=Array.from(d(".pagefly-star-rating-sealapp,.custom-vstar-rating-widget,.ecom-star-rating-sealapp")),n.A.isProPage&&c&&(t=t.filter(t=>t!==c&&!c.contains(t)))),o.A.customCollTarSel&&(t=Array.from(d(o.A.customCollTarSel))),!t.length)switch(e){case 679:t=d("a.product-grid-item>p");break;case 730:t=d(".grid-product__title");break;case 775:t=d(".product-card__name");break;case 766:t=d(".product-item__title");break;case 887:case 1356:case 1363:case 1368:case 1567:t=d(".h5>.full-unstyled-link"),0===t.length&&(t=d(".card-information__text")),l=!1;break;case 829:t=d(".card__name,.spf-product-card__title");break;case 578:t=d(".product__title a");break;case 796:t=d(".product-card__title");break;case 380:var u=d(".grid-link__container .grid__item");t=[],u.forEach(e=>{t.push(e.querySelector(".grid-link__title"))});break;case 885:if(a=!0,t=d(".product-card__title-wrapper"),i){let t=r(".shopify-section .product");t&&(wrapWid=t.offsetWidth)}break;default:if(Review.theme&&"warehouse"===Review.theme.name){const t=r(".product-item__price-list.price-list");t&&"-15px"===getComputedStyle(t).marginTop&&(n.A.globalStyle.textContent+="div.collection-icon-list.vstar-star {\n            margin-bottom: 20px;\n            }")}a=!0,t=h()}if(a||0===t.length&&l&&(t=h()),n.A.isCollPage&&0===t.length&&r('a[href*="/products"]')&&await s.zG.sendErrorMsg(2,`${window.location.href}`).then(e=>{if(e[1]){const i=p(4,e[1].selector);i&&(t=d(i))}}),0!==t.length&&(t=Array.from(t),i)){const e=Review.proTarget;e&&(t=t.filter(t=>t!==e&&!e.contains(t)))}Review.collTarget=t}function h(){let t=[];const{isCollPage:e,isProPage:i,isHomePage:s,hasPyRating:r}=n.A;if(e||i||s||o.A.otherPageColl||r||n.A.isSearchResultsPage){let e;return o.A.customCollTarSel&&(e=o.A.customCollTarSel,t=d(o.A.customCollTarSel)),0===t.length&&(e=".product-card div[class*=product_title],.product-card div.text-block.h5",t=d(e),Review.collType="new shopify theme"),0===t.length&&(e=".product-details>span.title,.apb_product_list_product_item_title,.grid_title,.collection__grid-item__details,\n      .popup_cart_title>a,h3.product-title,body[class*=kalles] h1.product_title>a,a.ga-product_title,h4.title-product,.grid-item .inner-top>.product-bottom>a.product-title,\n      .product__grid__title,.pt-title.prod-thumb-title-color,.product-item-meta__title,.product-grid-item__title,.product-item-title",t=d(e),Review.collType="type1"),0===t.length&&(e=".product-bottom>.product-title,.product-details>.product-title,.product-item__details a,.info .title,.product-name>a,\n  .collectionBlock__title>a,.product-grid-item>p,.innerer>.title,.grid__product-content>a,.ht-product-title>a,.h5>.full-unstyled-link,\n  .product .card-title,.list_prod .title-product,.product.slick-slide .card-title,.product-title-price,.prd-title,.product-info>h3.title14,\n  .list-view-item__title-column>a,.gt_product-name>h2,.tt-description>h2.tt-title,.desc>h5,.product-item__title",t=d(e),Review.collType="type2"),0===t.length&&(e=".ftr,.product-grid-desc>h3,.gt_product-name,p.list-product__title,.product--details-container,.product--item-title,.h4.grid-view-item__title,\n  .product-grid-item__product-name,h3.card__name.h4,.grid-crop-title,.title-wrap,h3>span.overflowed,.product-grid--title>a,a.gf_product-title,.bls__product-details a,\n  a>.indiv-product-title-text,h2.product_name,.sf__pcard-content .max-w-full,h2.product-card__title,.proName>a,a.item__name.pg__sync-url,.spf-product-card__title",t=d(e),Review.collType="type3"),0===t.length&&(e=".grid-product__title,.product-block__title,\n  .grid-view-item__title,.product-card__name,.ProductItem__Title,.product-info>a>h2,\n  .card-information__text,span.indiv-product-title-text,.card__title:not(.heading),h4.product_name,\n  .productitem--title,.grid-link__title,.boost-pfs-filter-product-item-title,.product-collection__title,\n  .col_product_text_color,.js-product-details-link,.t4s-product-title,.ws-card__title,.product-thumbnail__info>.product-thumbnail__header",t=d(e),Review.collType="type4"),0===t.length&&(e='.card__heading[id^="title-template"],.lh-product-title',t=d(e),Review.collType="type5"),Review.coll_dqsa="$dqsa(`"+e+"`)",t}}},472:(t,e,i)=>{i.d(e,{A:()=>a});var s=i(354),n=i.n(s),o=i(314),r=i.n(o)()(n());r.push([t.id,'@font-face {\n  font-family: "iconfont";\n  /* Project id 4017216 */\n  src: url("//cdn.vstar.app/static/css/fonts/iconfont.woff2?t=169") format("woff2"), url("//cdn.vstar.app/static/css/fonts/iconfont.woff?t=1681525258204") format("woff"), url("//cdn.vstar.app/static/css/fonts/iconfont.ttf?t=1681525258204") format("truetype");\n}\n.vstar-star.tt-right {\n  text-align: right;\n}\n.vstar-star.tt-center {\n  text-align: center;\n}\n.vstar-star > * {\n  display: inline-block;\n  vertical-align: middle;\n}\n.vstar-star .star-item {\n  height: auto;\n  margin-right: 2px;\n  font-size: 0;\n  line-height: normal;\n}\n.vstar-star .star-item.nostar .trustoo-rating-icon path {\n  fill: var(--nostar-color);\n}\n.vstar-star .star-item.half-star > .item-nostar .trustoo-rating-icon path {\n  fill: var(--nostar-color);\n}\n.vstar-star .star-item .trustoo-rating-icon path {\n  fill: var(--star-color);\n}\n.vstar-star .star-item.half-star {\n  position: relative;\n}\n.vstar-star .item-star {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n  font-size: 0;\n}\n.vstar-star .item-nostar {\n  font-size: 0;\n}\n.vstar-star i.trustoo-icon-star,\n.vstar-star i.trustoo-icon-nostar {\n  display: inline;\n}\n#vstar-reviews #reviews-body .trustoo-badge-icon {\n  width: 14px;\n  height: 14px;\n}\n#vstar-reviews .user-verified .trustoo-badge-icon {\n  margin-right: 4px;\n}\n.product-icon-list.vstar-star .star-item,\n.product-icon-list.vstar-star .trustoo-rating-icon {\n  width: 20px;\n  height: 20px;\n}\n.collection-icon-list .star-item,\n.collection-icon-list .trustoo-rating-icon {\n  width: 16px;\n  height: 16px;\n}\n#vstar-reviews > #reviews-head .star-item,\n#vstar-reviews > #reviews-head .trustoo-rating-icon {\n  width: 20px;\n  height: 20px;\n}\n.trustoo-widget #reviews-body .star-item,\n.trustoo-widget #reviews-body .trustoo-rating-icon {\n  width: 14px;\n  height: 14px;\n}\n.noreviews-nostar .star-item,\n.noreviews-nostar .trustoo-rating-icon {\n  width: 20px;\n  height: 20px;\n}\n.collection-icon-list {\n  margin: 5px 0;\n}\n.collection-icon-list .collection-reviews-num {\n  margin: 1px 6px 0 3px;\n  font-size: 16px;\n  line-height: normal;\n}\n.collection-icon-list .tt-rating-text {\n  font-size: 16px;\n  line-height: normal;\n}\n#vstar-reviews #reviews-head {\n  display: flex;\n}\n#vstar-reviews .head-sort {\n  width: 40px;\n  height: 40px;\n  box-sizing: border-box;\n}\n#vstar-reviews .head-sort .sort-content {\n  position: relative;\n  width: 100%;\n  height: 100%;\n}\n#vstar-reviews #reviews-body {\n  position: relative;\n}\n#vstar-reviews .list-review .img-item,\n#vstar-reviews .list-review .resource-item {\n  overflow: hidden;\n  width: 100px;\n  height: 100px;\n}\n#vstar-reviews .grid-review {\n  position: absolute;\n  display: inline-block;\n  padding-bottom: 16px;\n  border-radius: 8px;\n  animation: recover 1s linear;\n  box-shadow: 0px 0px 10px 0px rgba(0, 0, 0, 0.12);\n  vertical-align: top;\n}\n#vstar-reviews #reviews-body .reviews-text {\n  line-height: 140%;\n}\n#vstar-reviews #reviews-body svg {\n  vertical-align: middle;\n}\n#vstar-reviews .grid-review .grid-review-head {\n  position: relative;\n  padding: 0 16px;\n  margin-top: 16px;\n}\n#vstar-reviews .grid-review .user-message {\n  margin: 12px 0 12px;\n}\n#vstar-reviews .grid-review .user-name {\n  padding: 0;\n  margin-right: 6px;\n  font-size: 14px;\n  font-weight: 700;\n  vertical-align: middle;\n}\n#vstar-reviews .grid-review .country-name {\n  font-size: 16px;\n  vertical-align: middle;\n}\n#vstar-reviews .grid-review .reviews-date {\n  font-size: 12px;\n  line-height: 22px;\n}\n#vstar-reviews .grid-review .grid-review-body {\n  padding: 0 16px;\n}\n#vstar-reviews .grid-review .reviews-text {\n  font-size: 14px;\n  word-wrap: break-word;\n}\n#vstar-reviews .grid-review .display-text {\n  font-size: 14px;\n}\n#vstar-reviews .grid-review .img-item,\n#vstar-reviews .grid-review .resource-item {\n  display: block;\n  width: 100%;\n  border-radius: 8px 8px 0 0;\n}\n#vstar-reviews .grid-review img {\n  width: 100%;\n  border-radius: 8px 8px 0 0;\n}\n.pagefly-star-rating-sealapp:empty,\n.ecom-star-rating-sealapp:empty,\n.custom-vstar-rating-widget:empty {\n  display: block;\n}\n[class^="trustoo-icon-"] {\n  /* use !important to prevent issues with browser extensions that change fonts */\n  font-family: "iconfont" !important;\n  font-size: 14px;\n  /* Better Font Rendering =========== */\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  font-style: normal;\n  font-variant: normal;\n  font-weight: normal;\n  line-height: 1;\n  text-transform: none;\n}\n.trustoo-icon-helpful:before {\n  color: var(--font-color);\n  content: "\\e605";\n}\n.trustoo-icon-unhelpful:before {\n  color: var(--font-color);\n  content: "\\e606";\n}\n.trustoo-icon-star:before {\n  color: var(--star-color);\n  content: "\\e602";\n}\n.trustoo-icon-nostar:before {\n  color: var(--nostar-color);\n  content: "\\e602";\n}\n[class^="trustoo-icon-"].rated:before {\n  color: var(--star-color);\n}\n[class^="trustoo-icon-"].no-rated:before {\n  color: var(--nostar-color);\n}\n.trustoo-icon-skirt:before {\n  content: "\\e60b";\n}\n.trustoo-icon-bag:before {\n  content: "\\e60f";\n}\n.trustoo-icon-leaf:before {\n  content: "\\e610";\n}\n.trustoo-icon-tie:before {\n  content: "\\e611";\n}\n.trustoo-icon-cup:before {\n  content: "\\e612";\n}\n.trustoo-icon-fire:before {\n  content: "\\e60a";\n}\n.trustoo-icon-trophy:before {\n  content: "\\e613";\n}\n.trustoo-icon-crown:before {\n  content: "\\e614";\n}\n.trustoo-icon-heart:before {\n  content: "\\e615";\n}\n.trustoo-icon-diamond:before {\n  content: "\\e616";\n}\n.trustoo-icon-shirt:before {\n  content: "\\e617";\n}\n.trustoo-icon-surrounded:before {\n  content: "\\e609";\n}\n.trustoo-icon-spikes:before {\n  content: "\\e618";\n}\n.trustoo-icon-rounded:before {\n  content: "\\e608";\n}\n.trustoo-icon-chef:before {\n  content: "\\e60d";\n}\n.trustoo-icon-footprint:before {\n  content: "\\e60e";\n}\n.trustoo-icon-seedling:before {\n  content: "\\e60c";\n}\n.trustoo-icon-helpful:before {\n  content: "\\e605";\n}\n.trustoo-icon-unhelpful:before {\n  content: "\\e606";\n}\n.trustoo-icon-star:before {\n  content: "\\e602";\n}\n',"",{version:3,sources:["webpack://./static/css/trustoo-insert.less"],names:[],mappings:"AACA;EACC,uBAAA;EAAC,uBAAuB;EAExB,gQAAA;AAAD;AAMC;EACC,iBAAA;AAJF;AAOC;EACC,kBAAA;AALF;AAQC;EACC,qBAAA;EACA,sBAAA;AANF;AALA;EAeE,YAAA;EACA,iBAAA;EACA,YAAA;EACA,mBAAA;AAPF;AAUE;EAEE,yBAAA;AATJ;AAYE;EAEE,yBAAA;AAXJ;AAjBA;EAiCG,uBAAA;AAbH;AApBA;EAsCE,kBAAA;AAfF;AAvBA;EA0CE,kBAAA;EACA,MAAA;EACA,QAAA;EACA,SAAA;EACA,OAAA;EACA,gBAAA;EACA,WAAA;EACA,YAAA;EACA,YAAA;AAhBF;AAlCA;EAqDE,YAAA;AAhBF;AArCA;;EA0DE,eAAA;AAjBF;AAoBA;EACC,WAAA;EACA,YAAA;AAlBD;AAoBA;EACC,iBAAA;AAlBD;AAqBA;;EAGE,WAAA;EACA,YAAA;AApBF;AAwBA;;EAGE,WAAA;EACA,YAAA;AAvBF;AA0BA;;EAGE,WAAA;EACA,YAAA;AAzBF;AA6BA;;EAGE,WAAA;EACA,YAAA;AA5BF;AAgCA;;EAGE,WAAA;EACA,YAAA;AA/BF;AAmCA;EACC,aAAA;AAjCD;AAgCA;EAIE,qBAAA;EACA,eAAA;EACA,mBAAA;AAjCF;AA2BA;EASE,eAAA;EACA,mBAAA;AAjCF;AAqCA;EAEE,aAAA;AApCF;AAkCA;EAME,WAAA;EACA,YAAA;EACA,sBAAA;AArCF;AA6BA;EAWG,kBAAA;EACA,WAAA;EACA,YAAA;AArCH;AA2CA;EACC,kBAAA;AAzCD;AA4CA;;EAEC,gBAAA;EACA,YAAA;EACA,aAAA;AA1CD;AA6CA;EACC,kBAAA;EACA,qBAAA;EACA,oBAAA;EACA,kBAAA;EACA,4BAAA;EACA,gDAAA;EACA,mBAAA;AA3CD;AA6CA;EACC,iBAAA;AA3CD;AA6CA;EACC,sBAAA;AA3CD;AA6CA;EAEE,kBAAA;EACA,eAAA;EACA,gBAAA;AA5CF;AAwCA;EAQE,mBAAA;AA7CF;AAqCA;EAYE,UAAA;EACA,iBAAA;EACA,eAAA;EACA,gBAAA;EACA,sBAAA;AA9CF;AA8BA;EAoBE,eAAA;EACA,sBAAA;AA/CF;AA0BA;EAyBE,eAAA;EACA,iBAAA;AAhDF;AAsBA;EA8BE,eAAA;AAjDF;AAmBA;EAkCE,eAAA;EACA,qBAAA;AAlDF;AAeA;EAuCE,eAAA;AAnDF;AAuDA;;EAGE,cAAA;EACA,WAAA;EACA,0BAAA;AAtDF;AAiDA;EASE,WAAA;EACA,0BAAA;AAvDF;AA2DA;;;EAGC,cAAA;AAzDD;AA4DA;EA1DE,+EAA+E;EA4DhF,kCAAA;EACA,eAAA;EA1DC,sCAAsC;EA4DvC,mCAAA;EACA,kCAAA;EACA,kBAAA;EACA,oBAAA;EACA,mBAAA;EACA,cAAA;EACA,oBAAA;AA1DD;AA6DA;EACC,wBAAA;EACA,gBAAA;AA3DD;AA8DA;EACC,wBAAA;EACA,gBAAA;AA5DD;AA+DA;EACC,wBAAA;EACA,gBAAA;AA7DD;AAgEA;EACC,0BAAA;EACA,gBAAA;AA9DD;AAgEA;EACC,wBAAA;AA9DD;AAgEA;EACC,0BAAA;AA9DD;AAgEA;EACC,gBAAA;AA9DD;AAiEA;EACC,gBAAA;AA/DD;AAkEA;EACC,gBAAA;AAhED;AAmEA;EACC,gBAAA;AAjED;AAoEA;EACC,gBAAA;AAlED;AAqEA;EACC,gBAAA;AAnED;AAsEA;EACC,gBAAA;AApED;AAuEA;EACC,gBAAA;AArED;AAwEA;EACC,gBAAA;AAtED;AAyEA;EACC,gBAAA;AAvED;AA0EA;EACC,gBAAA;AAxED;AA2EA;EACC,gBAAA;AAzED;AA4EA;EACC,gBAAA;AA1ED;AA6EA;EACC,gBAAA;AA3ED;AA8EA;EACC,gBAAA;AA5ED;AA+EA;EACC,gBAAA;AA7ED;AAgFA;EACC,gBAAA;AA9ED;AAiFA;EACC,gBAAA;AA/ED;AAkFA;EACC,gBAAA;AAhFD;AAmFA;EACC,gBAAA;AAjFD",sourcesContent:['// out: false\n@font-face {\n\tfont-family: "iconfont";\n\t/* Project id 4017216 */\n\tsrc: url("//cdn.vstar.app/static/css/fonts/iconfont.woff2?t=169") format("woff2"),\n\t\turl("//cdn.vstar.app/static/css/fonts/iconfont.woff?t=1681525258204") format("woff"),\n\t\turl("//cdn.vstar.app/static/css/fonts/iconfont.ttf?t=1681525258204") format("truetype");\n}\n\n.vstar-star {\n\t&.tt-right {\n\t\ttext-align: right;\n\t}\n\n\t&.tt-center {\n\t\ttext-align: center;\n\t}\n\n\t& > * {\n\t\tdisplay: inline-block;\n\t\tvertical-align: middle;\n\t}\n\n\t.star-item {\n\t\theight: auto;\n\t\tmargin-right: 2px;\n\t\tfont-size: 0;\n\t\tline-height: normal;\n\t}\n\t.star-item {\n\t\t&.nostar {\n\t\t\t.trustoo-rating-icon path {\n\t\t\t\tfill: var(--nostar-color);\n\t\t\t}\n\t\t}\n\t\t&.half-star {\n\t\t\t> .item-nostar .trustoo-rating-icon path {\n\t\t\t\tfill: var(--nostar-color);\n\t\t\t}\n\t\t}\n\n\t\t.trustoo-rating-icon path {\n\t\t\tfill: var(--star-color);\n\t\t}\n\t}\n\n\t.star-item.half-star {\n\t\tposition: relative;\n\t}\n\n\t.item-star {\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tright: 0;\n\t\tbottom: 0;\n\t\tleft: 0;\n\t\toverflow: hidden;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tfont-size: 0;\n\t}\n\t.item-nostar {\n\t\tfont-size: 0;\n\t}\n\n\ti.trustoo-icon-star,\n\ti.trustoo-icon-nostar {\n\t\tdisplay: inline;\n\t}\n}\n#vstar-reviews #reviews-body .trustoo-badge-icon {\n\twidth: 14px;\n\theight: 14px;\n}\n#vstar-reviews .user-verified .trustoo-badge-icon {\n\tmargin-right: 4px;\n}\n\n.product-icon-list.vstar-star {\n\t.star-item,\n\t.trustoo-rating-icon {\n\t\twidth: 20px;\n\t\theight: 20px;\n\t}\n}\n\n.collection-icon-list {\n\t.star-item,\n\t.trustoo-rating-icon {\n\t\twidth: 16px;\n\t\theight: 16px;\n\t}\n}\n#vstar-reviews > #reviews-head {\n\t.star-item,\n\t.trustoo-rating-icon {\n\t\twidth: 20px;\n\t\theight: 20px;\n\t}\n}\n\n.trustoo-widget #reviews-body {\n\t.star-item,\n\t.trustoo-rating-icon {\n\t\twidth: 14px;\n\t\theight: 14px;\n\t}\n}\n\n.noreviews-nostar {\n\t.star-item,\n\t.trustoo-rating-icon {\n\t\twidth: 20px;\n\t\theight: 20px;\n\t}\n}\n\n.collection-icon-list {\n\tmargin: 5px 0;\n\n\t.collection-reviews-num {\n\t\tmargin: 1px 6px 0 3px;\n\t\tfont-size: 16px;\n\t\tline-height: normal;\n\t}\n\t.tt-rating-text {\n\t\tfont-size: 16px;\n\t\tline-height: normal;\n\t}\n}\n\n#vstar-reviews {\n\t#reviews-head {\n\t\tdisplay: flex;\n\t}\n\n\t.head-sort {\n\t\twidth: 40px;\n\t\theight: 40px;\n\t\tbox-sizing: border-box;\n\n\t\t.sort-content {\n\t\t\tposition: relative;\n\t\t\twidth: 100%;\n\t\t\theight: 100%;\n\t\t}\n\t}\n}\n\n// Mark \n#vstar-reviews #reviews-body {\n\tposition: relative;\n}\n\n#vstar-reviews .list-review .img-item,\n#vstar-reviews .list-review .resource-item {\n\toverflow: hidden;\n\twidth: 100px;\n\theight: 100px;\n}\n\n#vstar-reviews .grid-review {\n\tposition: absolute;\n\tdisplay: inline-block;\n\tpadding-bottom: 16px;\n\tborder-radius: 8px;\n\tanimation: recover 1s linear;\n\tbox-shadow: 0px 0px 10px 0px rgba(0, 0, 0, 0.12);\n\tvertical-align: top;\n}\n#vstar-reviews #reviews-body .reviews-text {\n\tline-height: 140%;\n}\n#vstar-reviews #reviews-body svg {\n\tvertical-align: middle;\n}\n#vstar-reviews .grid-review {\n\t.grid-review-head {\n\t\tposition: relative;\n\t\tpadding: 0 16px;\n\t\tmargin-top: 16px;\n\t}\n\n\t.user-message {\n\t\tmargin: 12px 0 12px;\n\t}\n\n\t.user-name {\n\t\tpadding: 0;\n\t\tmargin-right: 6px;\n\t\tfont-size: 14px;\n\t\tfont-weight: 700;\n\t\tvertical-align: middle;\n\t}\n\n\t.country-name {\n\t\tfont-size: 16px;\n\t\tvertical-align: middle;\n\t}\n\n\t.reviews-date {\n\t\tfont-size: 12px;\n\t\tline-height: 22px;\n\t}\n\n\t.grid-review-body {\n\t\tpadding: 0 16px;\n\t}\n\n\t.reviews-text {\n\t\tfont-size: 14px;\n\t\tword-wrap: break-word;\n\t}\n\n\t.display-text {\n\t\tfont-size: 14px;\n\t}\n}\n\n#vstar-reviews .grid-review {\n\t.img-item,\n\t.resource-item {\n\t\tdisplay: block;\n\t\twidth: 100%;\n\t\tborder-radius: 8px 8px 0 0;\n\t}\n\n\timg {\n\t\twidth: 100%;\n\t\tborder-radius: 8px 8px 0 0;\n\t}\n}\n\n.pagefly-star-rating-sealapp:empty,\n.ecom-star-rating-sealapp:empty,\n.custom-vstar-rating-widget:empty {\n\tdisplay: block;\n}\n\n[class^="trustoo-icon-"] {\n\t/* use !important to prevent issues with browser extensions that change fonts */\n\tfont-family: "iconfont" !important;\n\tfont-size: 14px;\n\t/* Better Font Rendering =========== */\n\t-webkit-font-smoothing: antialiased;\n\t-moz-osx-font-smoothing: grayscale;\n\tfont-style: normal;\n\tfont-variant: normal;\n\tfont-weight: normal;\n\tline-height: 1;\n\ttext-transform: none;\n}\n\n.trustoo-icon-helpful:before {\n\tcolor: var(--font-color);\n\tcontent: "\\e605";\n}\n\n.trustoo-icon-unhelpful:before {\n\tcolor: var(--font-color);\n\tcontent: "\\e606";\n}\n\n.trustoo-icon-star:before {\n\tcolor: var(--star-color);\n\tcontent: "\\e602";\n}\n\n.trustoo-icon-nostar:before {\n\tcolor: var(--nostar-color);\n\tcontent: "\\e602";\n}\n[class^="trustoo-icon-"].rated:before {\n\tcolor: var(--star-color);\n}\n[class^="trustoo-icon-"].no-rated:before {\n\tcolor: var(--nostar-color);\n}\n.trustoo-icon-skirt:before {\n\tcontent: "\\e60b";\n}\n\n.trustoo-icon-bag:before {\n\tcontent: "\\e60f";\n}\n\n.trustoo-icon-leaf:before {\n\tcontent: "\\e610";\n}\n\n.trustoo-icon-tie:before {\n\tcontent: "\\e611";\n}\n\n.trustoo-icon-cup:before {\n\tcontent: "\\e612";\n}\n\n.trustoo-icon-fire:before {\n\tcontent: "\\e60a";\n}\n\n.trustoo-icon-trophy:before {\n\tcontent: "\\e613";\n}\n\n.trustoo-icon-crown:before {\n\tcontent: "\\e614";\n}\n\n.trustoo-icon-heart:before {\n\tcontent: "\\e615";\n}\n\n.trustoo-icon-diamond:before {\n\tcontent: "\\e616";\n}\n\n.trustoo-icon-shirt:before {\n\tcontent: "\\e617";\n}\n\n.trustoo-icon-surrounded:before {\n\tcontent: "\\e609";\n}\n\n.trustoo-icon-spikes:before {\n\tcontent: "\\e618";\n}\n\n.trustoo-icon-rounded:before {\n\tcontent: "\\e608";\n}\n\n.trustoo-icon-chef:before {\n\tcontent: "\\e60d";\n}\n\n.trustoo-icon-footprint:before {\n\tcontent: "\\e60e";\n}\n\n.trustoo-icon-seedling:before {\n\tcontent: "\\e60c";\n}\n\n.trustoo-icon-helpful:before {\n\tcontent: "\\e605";\n}\n\n.trustoo-icon-unhelpful:before {\n\tcontent: "\\e606";\n}\n\n.trustoo-icon-star:before {\n\tcontent: "\\e602";\n}\n'],sourceRoot:""}]);const a=r},500:(t,e,i)=>{i.d(e,{IV:()=>c,RR:()=>l});var s=i(571),n=i(986),o=i(405),r=i(607),a=i(88);function l(t,e,i,r){const a=(0,n.$dqs)(".loader",e);a&&"block"===a.style.display&&(a.style.display="none"),s.A.allRevLoadLock=!1,s.A.isRevPage||s.A.isWdoRevOpen||(1===t?(s.A.isFirstPageRender||(s.A.isList?(0,n.scrollTo)(e):(0,n.scrollTo)(e,"auto")),r&&(0,o.nf)()):d())}function d(){const t=s.A.pageInfo[s.A.showType].total,e=s.A.pageInfo[s.A.showType].curPage,i=(0,n.$dqs)(".more-review-btn",s.A.reviewsDom);i&&(i.style.display=e<t?"block":"none")}function c(){const{lang:t,isRevPage:e,isWdoRevOpen:i}=s.A;if(i||e)return;const l=s.A.userSetting.review_pagination_type,c=(s.A.isWdoRevOpen?s.A.popupPageInfo:s.A.pageInfo)[s.A.showType].total;if(!s.A.pager&&0!==c){s.A.reviewsDom.insertAdjacentHTML("beforeend",'<div id="reviews-footer"></div>');const e=(0,n.$dqs)("#reviews-footer",s.A.reviewsDom);if(1===l)s.A.pager=new o.is(e,"beforeend",5,c,r.bC,"reviews");else if(2===l){const i=`<div class="loader" style="display:none;"></div>\n\t\t\t<button class="more-review-btn" type="button"\n\t\t\t style="display:${1===c?"none":"block"}">${t.more}</button>`;e.insertAdjacentHTML("beforeend",i),s.A.pager={el:(0,n.$dqs)(".more-review-btn",e)},s.A.pager.el.onclick=function(t){t.target.style.display="none",(0,n.$dqs)(".loader",t.target.parentNode).style.display="block",(0,o.aQ)(1),"QA"===s.A.showType?(0,a.B)():(0,r.bC)()}}}1===l?(0,o.nf)():2===l&&d()}},540:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},571:(t,e,i)=>{i.d(e,{A:()=>s});const s={source:"reviews",staticBaseUrl:"",wrapWid:0,isNullRev:!1,proTarget:null,collTarget:[],ratingIconSvg:"",badgeIconSvg:"",themeStyle:"",ip:"",isFirstExecute:!1,isCollPage:!1,isProPage:!1,isHomePage:!1,isSearchResultsPage:!1,isCartPage:!1,productId:"",isSettingUpdate:!1,isProRatingUpdate:!1,isReviewsUpdate:!1,isWebPSupported:!0,revIdBase:"vstar-",isOverwriteOldScripts:!1,isRecordPV:!1,isRecordCart:!1,cartWatcher:null,RevIntersection:null,isPreview:!1,keySettings:{all_reviews_display_type:"both",product_reviews_display_type:"both",is_activate_product_rating:2,is_activate_collection_rating:2,is_activate_home_rating:2,is_activate_home_reviews:2,is_activate_reviews:2,is_active_store_review:2,sidetab_is_enabled:2,is_review_snippets_active:2,review_sort_by:"image-descending",rating_icon_type:1,verified_icon_type:1,language:"en",is_translate_review:2,auto_switch_language:2,reviews_per_page_number:15,is_show_empty_review:1,is_hide_ratings:2,show_attribute:2,is_ai_home_active:0,is_ai_product_active:0},canFilterRating:!0,isCollOpen:!1,isProOpen:!1,isRevOpen:!1,isFirstPageRender:!0,buyersShowType:2,isInsertBS:!1,isMixReview:!1,page:0,isWdoRevFirstPageRendered:!1,reviewsList:[],pageRecord:[],reviewsBody:null,reviewsDom:null,revReqParam:"",productHandle:"",userSetting:{},showType:"reviews",layoutClass:"",layoutReviewCount:0,reviewsWidth:0,reviewsEllipsis:"count",reviewsEllipsisRow:4,imgUploadedCount:0,uploadedIndex:0,gridCardWidth:0,wdoGridCardWidth:0,listDisIndex:0,listNodeCount:0,viewer:null,origImg:[],thumbImg:[],likeRevLock:!1,lang:{},column:0,minHeight:0,reviews:{columnHighs:[],shopReviewsHighs:[],preColHighs:[],preShopReviewsHighs:[],cardWid:0,cardCount:0,ratingFilter:0},bsInsertSelector:null,albumCount:8,albumSortType:"commented-at-descending",isInsertRev:!1,isCssLoaded:!1,globalStyle:null,reqErr:null,pageInfo:{reviews:{total:0,curPage:1,activeIndex:0,pageNumbers:[],previousDisplay:"",nextDisplay:""},shopReviews:{total:0,curPage:1,activeIndex:0,pageNumbers:[],previousDisplay:"",nextDisplay:""}},popupPageInfo:{reviews:{total:0,curPage:1,activeIndex:0,pageNumbers:[],previousDisplay:"",nextDisplay:""},shopReviews:{total:0,curPage:1,activeIndex:0,pageNumbers:[],previousDisplay:"",nextDisplay:""}},isProHasHalfStar:!1,pageCount:0,ratingData:{},allRatingData:{total_reviews:-1},attributeStatistics:null,reviewsData:null,searchACount:6,collTarInx:0,isOtherTheme:!1,isCollFinished:!1,observer:null,isSetObserver:!1,iObserver:null,curCollArr:[],isHomeRatingOpen:!1,allRevLoadLock:!1,writeReviewSettings:{},mediaUrl:[],isSendLock:!1,ratingVal:0,uploadImgInfo:{},uploadType:1,newRevCharLimit:2e3,isLoginWrite:!1,copyText:"",writePopupEmbedded:!1,writeTo:{type:"normal",productId:"",prodImageUrl:"",productName:""},attributeConfig:null,attributeInstances:[],wdoRev:{columnHighs:[],shopReviewsHighs:[],preColHighs:[],preShopReviewsHighs:[],cardWid:0,cardCount:0,ratingFilter:0},isActWdoRev:!1,isWdoRevOpen:!1,reviewsKey:"normal",isWdoRevExist:!1,wdoRevDom:!1,wdoRevBody:null,isLinkReqRev:!1,writeLinkParams:{},writeForm:0,writeRestriction:1,hasPyRating:!1,showRelatedPros:!1,canInsertPagination:!1,revDetailInfo:{page:0,no:0,imageIndex:0},isQAInserted:!1,qsPageNum:0}},607:(t,e,i)=>{i.d(e,{PK:()=>f,bC:()=>v,fn:()=>m,i$:()=>w,nG:()=>h,ne:()=>_});var s=i(571),n=i(957),o=i(986),r=i(163),a=i(405),l=i(134),d=i(357),c=i(500),p=i(743),u=i(651);async function v(t,e){s.A.couldPreLoading=!1,s.A.imgCount=0,s.A.loadedImgCount=0,s.A.thumbImg=[];let i,r,l=[];const{isMixReview:d,isWdoRevOpen:c,isList:u,userSetting:v,isRevPage:A}=s.A;let w=(0,a.aQ)();const h=v.review_pagination_type;r=c?s.A.wdoRevDom:s.A.reviewsDom;const m=c?s.A.wdoRevBody:s.A.reviewsBody,f=s.A.isWdoRevOpen?s.A.wdoRev:s.A.reviews,y="shopReviews"===s.A.showType||"popupShopReviews"===s.A.showType;let b="";const $=p.A[s.A.reviewsKey];b=y?s.A.isWdoRevOpen?"trustoo_popup_shop_reviews":"trustoo_shop_reviews":c?"trustoo_all_reviews":"trustoo_reviews";const C=t||e;C?(l=[],(0,o.gsSession)("set",b,[])):l=(0,o.gsSession)("get",b);let x=null;x=y?(0,o.$dqs)(".tt-shop-reviews",m):(0,o.$dqs)(".tt-review-list",m),(!A&&!c&&(1===h||C)||C&&(d||c))&&(x.style.height="auto",_(x,r,!0),f.cardCount=0,s.A.isMobile&&c&&(0,o.scrollTo)(r),s.A.isFirstPageRender||(s.A.isList?(0,o.scrollTo)(r):(0,o.scrollTo)(r,"auto")));const R=1===h;if((R||!R&&1===w)&&l[w-1])g(l[w-1]);else{const t=r.getAttribute("review_sort_by");if("undefined"==typeof vstar_product_reviews||s.A.isReviewsUpdate||1!==w||c||C||d||y||1===v.auto_switch_language){i=(await n.zG.getReviews({sortType:t,ratingFilter:f.ratingFilter}))[1]}else i=vstar_product_reviews;const a=i.page.total_page,p=s.A.isWdoRevOpen?s.A.popupPageInfo:s.A.pageInfo,u=i.page.count;p[s.A.showType]={total:a,curPage:i.page.cur_page,count:u},y&&($.shopTab&&($.shopTab.textContent=u),s.A.userSetting.store_reviews_count=u),r.setAttribute("review-page-count",a),s.A.isWebPSupported||i.list.forEach(t=>{0!==t.resources.length&&t.resources.forEach(t=>{t.src=t.src.replace("trustoo_big","q_90"),t.thumb_src=t.thumb_src.replace("trustoo_small","w_220")})});const A=i.list;l[w-1]=A,(0,o.gsSession)("set",b,l),C&&1===h&&s.A.pager&&s.A.pager.pageClick(null,1),g(A,C,e)}r.dataset.isRender||(!function(){if(1===s.A.userSetting.is_show_empty_review||"reviews"!==s.A.showType)return;const t=s.A.isWdoRevOpen?s.A.wdoRevDom:s.A.reviewsDom,e=s.A.isWdoRevOpen?s.A.popupPageInfo:s.A.pageInfo,i=s.A.isWdoRevOpen||!s.A.productId?s.A.allRatingData:s.A.ratingData,n=s.A.lang.total_review,r=s.A.lang.review_with_content,a=s.A.lang.no_content_review;let l=`<span>${n.replace("{{review_number}}",i.total_reviews)} | </span>`;const d=`<span id="tt-no-context-reviews" style="text-decoration: underline;">${a}</span>`;0===e[s.A.showType].count?l+=d:l+=`<span>${r.replace("{{content_review_number}}",e.reviews.count)}</span>`;(0,o.$dqs)(".tt-reviews-sort,#reviews-body",t).insertAdjacentHTML("beforebegin",`<div id="tt-content-reviews">\n\t\t${l}\n\t</div>`)}(),r.dataset.isRender=1)}function g(t,e,i){const{userSetting:p,isRevPage:v,isWdoRevOpen:g,isGrid:h,isSplit:m,globalStyle:y}=s.A,{isShowRevRatingNum:b,isImgLoadLazy:$}=l.A,C=g?s.A.wdoRev:s.A.reviews,x=g?s.A.wdoRevBody:s.A.reviewsBody,R=x.parentNode,S="shopReviews"===s.A.showType||"popupShopReviews"===s.A.showType;let T=[];const k=p.review_pagination_type,q=(0,a.aQ)();let L=null;L=S?(0,o.$dqs)(".tt-shop-reviews",x):(0,o.$dqs)(".tt-review-list",x),b&&1===(0,a.aQ)()&&(y.innerHTML+="#vstar-reviews .star{display:flex;align-items:center}\n                #vstar-reviews .rev-rating-num{font-size:15px;margin-left:8px}");let E="";$&&(E='loading="lazy"');let P="";h&&(P='style="visibility:hidden"');const I=C.cardCount;let M=C.cardCount,D="";m&&(D=" split");let B=!1;if(s.A.isGrid&&(B=t.some(t=>t.resources.some(t=>!t.width||!t.height)),B&&function(t,e,i){t.dataset.hasMissingImgSize=1,1===i&&(t.style.opacity=0,e.insertAdjacentHTML("beforeend",'<div id="tt-reviews-loading" style="position: absolute;top: 150px;left: 50%;transform: translateX(-50%);">\n\t\t\t\t<div class="tt-loading-1 tt-loading-item"></div>\n\t\t\t\t<div class="tt-loading-2 tt-loading-item"></div>\n\t\t\t\t<div class="tt-loading-3 tt-loading-item"></div>\n\t\t\t</div>'))}(L,x,q)),t.forEach((t,e)=>{let i="";i=`no="${++M}"`,Object.assign(t,{imgAttr:E,cardCount:M,noText:i,styleText:P});const n=document.createElement("div");if(n.className=s.A.layoutClass+"review"+D,n.innerHTML=function(t,e,i){const{isMobile:n,layoutClass:r,userSetting:a,origImg:c,thumbImg:p,isGrid:v,isList:g,isSplit:A,lang:h}=s.A,{isShowRevVerified:m,isAddRevVrfy:_,isShowRevRatingNum:y}=l.A,{noText:b,imgAttr:$}=t;let C="",x="",R="",S="",T="",k="",q="",L="",E="",P="",I="",M="",D="",B="";const O=1===s.A.userSetting.customer_avatar,H=`<div class="vstar-star">${(0,o.getTotalStarString)(t.star)}<span class="rev-rating-num" >${T}</span></div>`;let N="";1===e&&(N='loading="lazy"');if(t.resources.forEach((t,n)=>{let o=2===t.resource_type?`<div class="tt-video-player">\n      ${d.A.video}\n    </div>`:"",r="";if(1===t.resource_type?r=t.src:2===t.resource_type&&(r=t.thumb_src),v){const a=(t.width/t.height).toFixed(2);if(0!=n)return;{let d="";""!==t.average_hue&&(d=`background-color:${t.average_hue}`);const c=l.A.useOriginalImg?t.src:t.card_thumbnail_url||t.thumb_src||r;P+=`<div class="resource-item" style="${d}"  \n\t\t\t\tnew-grid-img proportion="${a}">\n          <img index="${n}" ${N} style="display:none" data-index="${n}" data-page=${e} data-review-index=${i} alt="${n}" ${b} \n\t\t\t\t\tdata-original="${c}">\n          ${o}\n        </div>`,s.A.imgCount++,p.push(t.thumb_src)}c.push(t.src)}else if(g){I+=function(t,e,i,n,o){const{origImg:r,thumbImg:a}=s.A;let l="";return l+=`<div class="resource-item"><img loading="lazy" index="${n}" alt="${n}" ${i}\n     ${e} data-original="${t.thumb_src||t.src}" src="${t.thumb_src||t.src}" >\n      ${o}\n     </div>`,s.A.imgCount++,a.push(t.thumb_src),r.push(t.src),l}(t,`${$} data-page=${e} data-review-index=${i}`,b,n,o)}}),0!==t.resources.length){let e="";t.resources.length>1&&(e=`<div class="multi-photo-wrapper">${d.A.multiPhoto()}</div>`),v?P=`${e}<div class="resource-list">${P}</div>`:g&&(I=`<div class="resource-list">${I}</div>`)}y&&(T=t.star);const j=s.A.badgeIconSvg,W=`<span class="verified-text">${h.verified_purchase}</span>`,F=a.is_show_verified_badge;let z="";_&&(t.verified_badge=1);if(m&&1===t.verified_badge)if(1===F){const t=O?"":j;k=`<div class="user-verified${s.A.badgeIconSvg?"":" pending"}">\n      ${t}${W}</div>\n    `}else 2===F||3!==F||O||(z=j);let U="";const V=5;U=a.review_date_format_type===V?f(t.commented_at):w(t.commented_at,a.review_date_format_type);const G=U?`<span class="reviews-date">${U}</span>`:"";v&&n&&(S=G);if(O){const e=[1,3].includes(a.is_show_verified_badge)&&1===t.verified_badge?j:"";B=`<div class="tt-review-avatar">${(t.author.trim()?t.author.split(" ").reduce((t,e)=>t+e.charAt(0),""):"A").slice(0,2)}${e}</div>`}var Z="";const Q=`<span class="${t.author_country?"country-flag "+t.author_country:""}"\n   style="${t.author_country?"border: 1px solid #ccc;":""}" ></span>`,J=` <span class="country-name">${t.author_country}</span>`,K=a.is_show_country_flag;1==K?Z=Q+J:3==K?Z=Q:4==K&&(Z=J);n&&v?x=Z:R=Z;if(l.A.isNoEllipsisReviews)M=t.content;else{const e=t.content;let i=e.length;M=e,v?i=n?100:200:g&&(i=n?300:500),e.length>i&&"count"===s.A.reviewsEllipsis&&(M=function(t,e,i){const n=i-s.A.lang.show_full_review.length-2;let o=e?`data-card-no="${e}"`:"";return`${t.substr(0,n)}<span class="display-text" ${o} >...${s.A.lang.show_full_review}</span><span hidden class="remain-text">${t.substr(n)}</span>`}(e,t.cardCount,i))}1===s.A.userSetting.item_type&&t.item_type&&(q=`<div class="tt-item-type">\n\t\t\t<p style="font-size: 12px; opacity: 0.6">\n\t\t\t\t${h.item_type}\n\t\t\t</p>\n\t\t\t<p style="margin-top: 4px;font-size: 14px;">${t.item_type}</p>\n\t\t</div>`);const Y=s.A.userSetting.store_avatar_src;if(""!==t.reply_content){L=`<div class="merchant-reply">\n          <div style="display:flex;align-items: center; margin-bottom:12px">\n\t\t\t\t\t\t${Y?`<div class="tt-shop-avatar"><img src="${Y}" /></div>`:""}\n\t\t\t\t\t\t<div style="font-size: 14px;font-weight: 700;">${s.A.lang.shop_name.replace("{{shop_name}}",s.A.userSetting.store_name)}</div>\n\t\t\t\t\t</div>\n          <div class="reply-content">${t.reply_content}</div>\n        </div>`}if(1===s.A.userSetting.is_show_helpful){const e="tt_review_"+s.A.shop_id;let i=(0,o.gsLocal)("get",e),n="",r="";if(i){i=JSON.parse(i);const e=i.find(e=>e.id===t.id);e&&(1===e.likeType?n="active":2===e.likeType&&(r="active"))}D=`<div class="review-helpful"><span>${h.helpful}</span>\n\t\t${d.A.helpful(n)}<span class="tt-helpful-count">${t.likes_count}</span>\n\t\t${d.A.unhelpful(r)}<span class="tt-unhelpful-count">${t.dislike_count}</span></div>`}if(t.corresponding_product){const e=t.corresponding_product;let i=e.product_name;i.length>50&&!l.A.isAssociatedProdFullName&&(i=i.substr(0,50)+"..."),E=`\n        <a class="related-product" url="${e.product_url}" href="${e.product_url}" target="_blank">\n          <div class="product-image"><div style="background-image:url(${e.product_image})" class="related-product-image"></div></div>\n          <div class="product-name">${i}</div>\n        </a>\n      `}let X="",tt="",et="",it="";A?(X=H,et=G):(tt=H,it=G);const st=t.title&&1==a.is_show_review_title?`<div class="tt-review-title">${t.title}</div>`:"";if(l.A.reviewConstructor)return l.A.reviewConstructor(t,{gridImg:P,listImg:I,avatar:B,starTag:H,cntHtml:M,dateHtml:G,user_country:Z,noText:b,reviewTitle:st});const[nt,ot]=function(t){if(s.A.isGrid||!t||0===t.length||1!==s.A.userSetting.show_attribute)return["",""];const e=1,i=2,n={[e]:"rounded",[i]:"square"};let o="",r="";const a=[],l=[];t.forEach(t=>{t.type.includes("range")?a.push(t):l.push(t)}),a.forEach(t=>{o+=(0,u.Tl)({type:"centered_range"===t.type?"centered":"range",title:t.title,labels:t.options,value:t.range_value,style:n[s.A.userSetting.attributes_style]})}),o&&(o=`<div class="tt-range-container">${o}</div>`);return l.forEach(t=>{r+=`<div>\n\t\t\t\t\t<p style="font-size: 12px; opacity: 0.6">\n\t\t\t\t\t\t${t.title}:\n\t\t\t\t\t</p>\n\t\t\t\t\t<p style="font-size: 14px;">${t.options.join(",")}</p>\n\t\t\t\t</div>`}),[o,r]}(t.review_attribute);let rt="";(q||ot)&&(rt=`<div class="tt-review-labels">\n\t${q} ${ot}</div>`);const at=s.A.isSplit?rt:"";let lt="";s.A.isList&&!s.A.isSplit?lt=rt:s.A.isGrid&&(lt=q);return`\n                  ${P}                  \n          <div class="${r}review-head">\n          <div class="review-row-one" >\n            ${tt}${it}\n          </div>\n            <div class="grid-mobile"> ${S+x}</div>\n            <div class="user-message">\n\t\t\t\t\t\t${B}\n\t\t\t\t\t\t<div>\n              <span class="user-name"> <span class="author-name"> ${t.author}  </span> </span>\n              ${z}\n              ${R}    \n              ${k}                                  \n              ${C}\n\t\t\t\t\t\t\t</div>\n            </div>\n\t\t\t\t\t\t${et}\n\t\t\t\t\t\t${at}\n          </div>\n          <div class="${r}review-body">\n\t\t\t\t\t${X}\n\t\t\t\t\t${st}\n\t\t\t\t\t<p class="reviews-text">\n\t\t\t\t\t\t\t${M}\n\t\t\t\t\t</p>\n          ${I}\n\t\t\t\t\t${lt}\n          ${nt}\n\t\t\t\t\t${L}\n\t\t\t\t\t${D}\n          ${E}\n          </div>\n   `}(t,q,e),n.dataset.index=e,n.dataset.page=q,B&&(n.dataset.new=!0),L.appendChild(n),n.setAttribute("no",M),n.setAttribute("review-id",t.id),T.push(n),"row"===s.A.reviewsEllipsis&&!l.A.isNoEllipsisReviews){!async function(t,e,i){const n=1.4*parseFloat(s.A.userSetting.font_size);var o=Math.round(s.A.reviewsEllipsisRow*n);await new Promise(t=>{setTimeout(()=>t(),200)});var r=e;t.innerHTML=r;var a=r.length;let l="";if(t.offsetHeight<=o);else{for(var d,c=0,p=a;t.offsetHeight>o;)d=(c+p)/2,t.innerHTML=r.substring(0,d),t.offsetHeight<=o?(t.innerHTML=r.substring(0,p),c=d):p=d-1;l=r.substring(0,p-s.A.lang.show_full_review.length-10),t.innerHTML=l}if(l){let n=`<span class="display-text" ${i?`data-card-no="${i}"`:""} >...${s.A.lang.show_full_review}</span><span hidden class="remain-text">${e.substr(l.length)}</span>`;t.insertAdjacentHTML("beforeend",n)}}((0,o.$dqs)(".reviews-text",n),t.content,M)}}),C.cardCount=M,T.forEach(t=>{let e=[];e=(0,o.$dqsa)(".resource-item>img",t),0!==e.length&&(s.A.isGrid&&s.A.gridShowImgCount++,e.forEach(t=>{B&&t.removeAttribute("loading"),t.onload=function(){t.getAttribute("loaded")||(t.setAttribute("loaded",!0),A("success",this))},t.onerror=function(){const e=t.closest("[review-id]"),i=e?e.getAttribute("review-id"):"";if(n.zG.sendImageError(i,t.src),!t.getAttribute("loaded")){t.setAttribute("loaded",!0);let e=null;const i=t.closest(".resource-list");if(s.A.isGrid){e=t.closest("[data-column]").dataset.column;const s=(0,o.$dqs)(".multi-photo-wrapper",i.parentNode);0==t.getAttribute("alt")&&(i.remove(),s&&s.remove())}else s.A.isList&&(t.parentNode.remove(),0===i.children.length&&i.remove());A("fail",this,e)}},t.src=t.getAttribute("data-original")}))}),1===q&&(g||v))h&&(0,r.xc)(T,I,e);else if(h){let t=!1;g||v||(t=1===k||e),(0,r.xc)(T,I,t)}(0,c.RR)(k,R,q,i),_(L,R,!1)}function A(t,e,i){const n=e.getAttribute("no"),a=e.getAttribute("index");if("fail"===t&&(s.A.isGrid?"0"===e.dataset.index&&(e.src="https://cdn.vstar.app/static/images/default.png",e.setAttribute("data-original","https://cdn.vstar.app/static/images/default.png"),e.parentNode.style.height=e.parentNode.style.width,(0,r.FS)(i,n),Review.loadedPhoto.push(n),e.style.display="block"):s.A.isList),s.A.isGrid&&"0"===a&&(s.A.gridLoadedShowImg++,s.A.gridLoadedShowImg===s.A.gridShowImgCount)){const t=p.A[s.A.reviewsKey].curBody;(0,o.$dqsa)("[new-grid-img]",t).forEach(t=>{t.removeAttribute("style"),t.removeAttribute("new-grid-img")}),(0,o.$dqsa)("[data-new]",t).forEach(t=>{t.removeAttribute("data-new")}),(0,r.dn)()}}function w(t,e){const i=t.split(" ")[0];let s=[];-1!==i.indexOf("/")?s=i.split("/"):-1!==i.indexOf("-")&&(s=i.split("-"));let n="";return 1===e?n=s[1]+"/"+s[2]+"/"+s[0]:2===e?n=s[2]+"/"+s[1]+"/"+s[0]:3===e&&(n=i),n}function h(t,e){if(s.A.likeRevLock)return;let i="",r=null;"QA"===s.A.showType?(i="qa",r=n.nj.likeOrDislikeQA):(i="review",r=n.zG.likeOrDislikeReview),s.A.likeRevLock=!0;let a=2,l=1;e.contains("tt-helpful")?l=1:e.contains("tt-unhelpful")&&(l=2);const d=t.closest(`[${i}-id]`).getAttribute(`${i}-id`),c=e.contains("active"),p=t.parentNode,u=(0,o.$dqs)(".tt-helpful-count",p),v=(0,o.$dqs)(".tt-unhelpful-count",p),g="tt_"+i+"_"+s.A.shop_id;let A=(0,o.gsLocal)("get",g);A=A?JSON.parse(A):[];const w=A.findIndex(t=>t.id===d),h=t.nextElementSibling;a=c?2:1,c||-1!==w&&(a=3),r(l,a,d).then(e=>{if(e[0])return void(s.A.likeRevLock=!1);const i=(0,o.$dqs)(".active",p);i&&i.classList.remove("active"),c?(t.classList.remove("active"),-1!==w&&A.splice(w,1),h.textContent=parseInt(h.textContent)-1):(-1!==w&&A.splice(w,1),t.classList.add("active"),h.textContent=parseInt(h.textContent)+1),3===a&&(1===l?v.textContent=parseInt(v.textContent)-1:2===l&&(u.textContent=parseInt(u.textContent)-1)),(0,o.gsLocal)("set",g,JSON.stringify(A)),setTimeout(()=>{s.A.likeRevLock=!1},300)})}function m(t){if(t.parentNode.querySelector(".remain-text").removeAttribute("hidden"),t.style.display="none",s.A.isGrid){const e=t.closest("[data-column]").dataset.column,i=parseInt(t.dataset.cardNo);(0,r.FS)(e,i)}}function _(t,e,i){const s=(0,o.$dqs)("#tt-reviews-loading[data-common]",e);i?(e.dataset.loading="1",s?s.style.display="block":e.insertAdjacentHTML("beforeend",'<div id="tt-reviews-loading" data-common>\n\t\t\t<div class="tt-loading-1 tt-loading-item"></div>\n\t\t\t<div class="tt-loading-2 tt-loading-item"></div>\n\t\t\t<div class="tt-loading-3 tt-loading-item"></div>\n\t\t</div>'),t.innerHTML=""):(delete e.dataset.loading,s&&(s.style.display="none"))}function f(t){const e=new Date(t+"Z").getTime(),i=(new Date).getTime(),n=Math.floor((i-e)/1e3),o=3600,r=86400,a=2592e3,l=31536e3,d=s.A.lang.time_ago;let c="",p="just";return n<60?p="just":n<o?(c=Math.floor(n/60),p="minute"):n<r?(c=Math.floor(n/o),p="hour"):n<a?(c=Math.floor(n/r),p="day"):n<l?(c=Math.floor(n/a),p="month"):(c=Math.floor(n/l),p="year"),1!==c&&"just"!==p&&(p+="s"),d[p].replace("{{time_number}}",c)}},638:(t,e,i)=>{i.r(e),i.d(e,{getHomeProTitle:()=>f,getTotalRating:()=>g,getTotalStarString:()=>_,insertCarousel:()=>m,insertReviewControl:()=>A,insertReviewDetail:()=>h,requestAllRating:()=>w,setInsertTarget:()=>u,setWriteReview:()=>o.setWriteReview,starEmbeddedAdaptation:()=>y});var s=i(957),n=i(657),o=i(986),r=i(429),a=i(778),l=i(571),d=i(134),c=i(877),p=i(743);async function u(t){let e,i;if(1==t){if(!(0,o.$dqs)("#seal-star-rating-widget")){if(await(0,a.rU)(),!Review.proTarget)return;let t="";t=l.A.userSetting.detail_rating_color?l.A.userSetting.detail_rating_color:window.getComputedStyle(Review.proTarget).color,l.A.globalStyle.textContent+=`\n\t\t\t.product-icon-list>.tt-rating-text{\n          color: ${t} !important;\n        }`,v()}}else if(2==t){if(0===Review.collTarget.length)return;l.A.curCollArr=Review.collTarget.filter(t=>{if(!t.getAttribute("is-vstar-inserted"))return!0}),l.A.curCollArr.length>50?(l.A.isCollFinished=!1,l.A.curCollArr=l.A.curCollArr.slice(0,50)):l.A.isCollFinished=!0;if(l.A.curCollArr.every(t=>t.getAttribute("product-id")||t.dataset.productId))i=l.A.curCollArr.map(t=>t.getAttribute("product-id")||t.getAttribute("data-product-id")).join(",");else{let t=(0,r.nq)();e=(0,r.WF)(t)}}if(1!==t&&(e||i)){let[t,n]=await s.zG.getCollRating(e,i);null===t&&async function(t){const e=l.A.curCollArr,{userSetting:i,isProPage:s,hasPyRating:n,hasEcomRt:a}=l.A,c=e.length;if(c){if(0===(0,o.$dqsa)(".collection-icon-list").length){let t="";t=l.A.userSetting.list_rating_color?l.A.userSetting.list_rating_color:window.getComputedStyle(e[0]).color,l.A.globalStyle.textContent+=`\n\t\t\t.collection-icon-list>.tt-rating-text{\n\t\t\t\tcolor:${t}\n\t\t\t}\n\t\t\t`}let v=0;let g="afterEnd";["pagefly-star-rating-sealapp","custom-vstar-rating-widget","ecom-star-rating-sealapp"].some(t=>e[0].classList.contains(t))?g="afterbegin":d.A.listRatingPosition&&(g=d.A.listRatingPosition),55363502159===l.A.shop_id&&t.forEach(t=>t.total_reviews+=100);for(var p=0;p<c;p++){let s=t[v];v++;let n="";const r=e[p];r.setAttribute("is-vstar-inserted",!0);const a=window.getComputedStyle(r);let c=a.textAlign;const u=a.direction;"center"===c?n="tt-center":"right"===c&&"rtl"!==u?n="tt-right":r.classList.remove("tt-center","tt-right");const A=r.parentNode;if(!r||-1===s.rating||(0,o.$dqs)(".collection-icon-list,.seal-stars",A)||l.A.isProPage&&(0,o.$dqs)("#seal-star-rating-widget",A))continue;const w="0"===s.rating?s.rating:parseFloat(s.rating).toFixed(d.A.bigRatingDigits-1);if(2===i.is_show_list_stars_without_review&&0==w);else{let t="",e="",i="";if(d.A.isCollRevWord)i=_(s.rating,!0),e=s.total_reviews+" "+l.A.lang.reviews;else{const n=s.total_reviews;let o=l.A.lang.list_rating_content.replace(/{{review_number}}/g,n).replace(/{{review_rating}}/g,w).trim();const r=o.indexOf("{{star}}");-1!==r?(0!==r&&(t=`<div class="tt-rating-text" style="margin-right: 4px;">${o.slice(0,r)}</div>`),e=`<div class="tt-rating-text collection-reviews-num">${o.slice(r+8)}</div>`,i=_(s.rating,!0)):e=`<div class="tt-rating-text">${o}</div>`}const o=`style="margin-top: ${l.A.userSetting.list_rating_top}px;margin-bottom: ${l.A.userSetting.list_rating_bottom}px;"`;r.style.margin=0;const a=`<div class="collection-icon-list vstar-star ${n}" ${o} data-review-num="${s.total_reviews}" rating="${w}">\n\t\t\t\t${t}${i}${e}</div>`;r.insertAdjacentHTML(g,a)}}if(document.dispatchEvent(new CustomEvent("onTTListRatingEmbed",{detail:{v:l.A},bubbles:!0,cancelable:!0})),(n||a)&&s){const t=shopifyObj.productId,e=(0,o.$dqsa)(`.custom-vstar-rating-widget[product-id="${t}"],.custom-vstar-rating-widget[data-product-id="${t}"]`);0!==e.length&&l.A.reviewsDom&&e.forEach(t=>{t.style.cursor="pointer",t.onclick=()=>(0,o.scrollTo)(l.A.reviewsDom)})}(!s||n||d.A.isProPageObserve)&&(l.A.isCollFinished?setTimeout(()=>{(0,r.DF)()},1e3):u(2))}}(n)}}function v(){let{proTarget:t}=Review;const{ratingData:e,userSetting:i,lang:s}=l.A,n=(0,o.$dqs)(".product-icon-list.vstar-star",t.parentNode);if(n&&n.remove(),2===i.is_show_stars_without_review&&0==e.rating);else{let i="afterEnd",n="",r=window.getComputedStyle(t).textAlign;1==t.dataset.trustooRatingBlock?i="afterbegin":d.A.detailRatingPosition&&(i=d.A.detailRatingPosition);const c=window.getComputedStyle(t.parentNode);"flex"===c.display&&"column"!==c.flexDirection&&"wrap"!==c.flexWrap&&(t=t.parentNode),"center"===r?n="tt-center":"right"===r&&(n="tt-right"),d.A.customRatingText&&(s.product_pages_reviews=d.A.customRatingText);const p=e.total_reviews;let u=s.product_pages_reviews.replace(/{{review_number}}/g,p).replace(/{{review_rating}}/g,e.rating).trim();const v=u.indexOf("{{star}}");let g="",A="",w="";-1!==v?(0!==v&&(g=`<div class="tt-rating-text" style="margin-left: 0px;">${u.slice(0,v)}</div>`),A=`<div class="tt-rating-text">${u.slice(v+8)}</div>`,w=_(e.rating,!0)):A=`<div class="tt-rating-text">${u}</div>`;const h=`<div class="product-icon-list vstar-star ${n}" ${`style="margin-top: ${l.A.userSetting.detail_rating_top}px;margin-bottom: ${l.A.userSetting.detail_rating_bottom}px;"`} data-position="${i}" data-product-id="${l.A.productId}">\n\t\t\t${g}${w}${A}</div>`;t.insertAdjacentHTML(i,h),"afterend"===i&&(t.style.marginBottom=0);let m=(0,o.$dqs)(".product-icon-list");m.onclick=function(t){const{reviewsDom:e}=l.A;(0,o.processRecordedData)("reviews_click"),t.target.classList.contains("product-icon-list")||((0,a.bl)(),e&&(0,o.scrollTo)(e))};const f=new CustomEvent("onTTDetailRatingEmbed",{detail:{v:l.A,node:m},bubbles:!0,cancelable:!0});document.dispatchEvent(f)}}async function g(){let t=l.A.ratingData;const{isProRatingOpen:e,isHomeRatingOpen:i,isHomePage:a,isProPage:p}=l.A,{proTarget:g}=Review,w=(0,o.$dqs)("#seal-star-rating-widget");if(l.A.productId&&0===Object.keys(l.A.ratingData).length){let e;"undefined"!=typeof vstar_product_rating&&vstar_product_rating.hasOwnProperty("rating")&&!l.A.isProRatingUpdate?l.A.ratingData=t=vstar_product_rating:([e,t]=await s.zG.getProductRating(),null===e&&t&&(l.A.ratingData=t))}l.A.ratingData&&l.A.ratingData.rating&&(l.A.ratingData.rating=parseFloat(l.A.ratingData.rating).toFixed(d.A.bigRatingDigits-1)),(e||i||l.A.hasPyRating||l.A.hasEcomRt)&&(p&&setTimeout(()=>{((0,o.$dqs)('a[href*="/products/"],.product-recommendations')&&l.A.isOpenRecStars||d.A.isProPageObserve)&&((0,r.M0)(),0!==Review.collTarget.length?u(2):(0,r.DF)())},1e3),w||(a?g&&v():u(1))),await A(t),l.A.isProPage&&((0,o.gsSession)("set","tt_pv_product_id",null),(0,o.gsSession)("set","tt_cart_product_id",null),async function(){l.A.cartWatcher=new c.N,l.A.cartWatcher.changeCount=0,window.addEventListener("cart_changed",t=>{if(l.A.cartWatcher.changeCount++,l.A.isRecordPV&&l.A.cartWatcher.changeCount>1){const e=t.detail.token.split("?key=")[0];(0,o.processRecordedData)("add_to_cart",e,!0)}}),await l.A.cartWatcher.init(),l.A.reviewsDom&&!l.A.isNullRev&&(0,n.E7)()}())}async function A(t){const{isNoNullReview:e}=l.A,i=new CustomEvent("onTrustooReviewsEmbed",{detail:{reviews:l.A.reviewsDom},bubbles:!0,cancelable:!0});let s=!1;if(((0,o.$dqs)("#seal-review-widget")||p.A.customReviewsBlock)&&(s=!0),l.A.isRevOpen||s){let s=!1;l.A.isMixReview&&l.A.isHomePage&&-1===l.A.allRatingData.total_reviews&&await w();const r=l.A.isMixReview?l.A.allRatingData:t;if(r&&r.total_reviews>0)l.A.isInsertRev=!0,h(),s=!0,(0,n.Gs)();else{if(e||2===l.A.userSetting.review_empty_status_display)return Review.hasReviews=!1,void document.dispatchEvent(i);s=!0,(0,n.WC)(),"undefined"!=typeof trustooAfterExecute&&trustooAfterExecute(l.A,d.A)}window.TrustooReviews.reviews.hasReviews=s,(0,o.setWriteReview)()}else l.A.isFirstPageRender&&"undefined"!=typeof trustooAfterExecute&&trustooAfterExecute(l.A,d.A);const r=Boolean(l.A.reviewsDom);window.TrustooReviews.carousel.canWriteReview&&!r?(0,o.setWriteReview)():window.TrustooReviews.reviews.hasReviews=Boolean(l.A.reviewsDom),Review.hasReviews=r,document.dispatchEvent(i)}async function w(){const t=(await s.zG.getRating())[1];t.rating=parseFloat(t.rating).toFixed(d.A.bigRatingDigits-1),l.A.allRatingData=t}function h(){"undefined"!=typeof TTRevDetail&&(d.A.isPageReview||l.A.isInsertRev||l.A.isInsertBS||l.A.isWdoRevOpen)&&TTRevDetail.insertTTReviewDetail(l.A)}function m(t,e="beforebegin"){if(!t)return;if((0,o.$dqs)("#trustoo-card-carousel-widget"))return;const i=document.createElement("script");i.src=`https://${l.A.staticBaseUrl}/static/dist/js/swiper-reviews.min.js`;const s=document.createElement("link");s.rel="stylesheet",s.href=`https://${l.A.staticBaseUrl}/static/css/swiper-reviews.min.css`,document.head.appendChild(i),document.head.appendChild(s),t.insertAdjacentHTML(e,'<div id="trustoo-card-carousel-widget" data-type="script" style="max-width:1200px;margin:0 auto"></div>')}function _(t,e=!1){const{isProPage:i}=l.A,s=l.A.ratingIconSvg;let n="";s||(n=" pending");const o=`<div class="star-item${n}">${s}</div>`,r=`<div class="star-item nostar${n}">${s}</div>`;parseInt(t)||(t=0);for(var a="",d=Math.floor(t),c=0;c<d;c++)a+=o;if(d<t&&e){i&&(l.A.isProHasHalfStar=!0);const e=(100*(t-d)).toFixed(2);d++,a+=`<div class="star-item half-star">\n\t\t<div class="item-nostar${n}">${s}</div>\n    <div class="item-star${n}" style="width:${function(t){let e=parseInt(t)/100;const i=parseInt(t)/100;switch(l.A.userSetting.rating_icon_type){case 13:e=.28+parseFloat((.44*i).toFixed(2));break;case 15:e=.215+parseFloat((.57*i).toFixed(2))}return e*=100,e}(e)}%">\n      ${s}\n    </div>\n  </div> `}for(c=0;c<5-d;c++)a+=r;return a}function f(t){return encodeURIComponent(t)}function y(t,e){for(let i=0;i<e.length;i++){let n=e[i];if(0!==(0,o.$dqsa)(n).length){let e=n.split(",");do{const t=e.length;let i=e.slice(0,Math.ceil(t/2));e=0!==(0,o.$dqsa)(i.join(",")).length?i:e.slice(t-parseInt(t/2))}while(1!==e.length);return s.zG.sendErrorMsg(t,e[0]),e[0]}}}},651:(t,e,i)=>{i.d(e,{M6:()=>a,Tl:()=>d,ps:()=>l,uq:()=>r});var s=i(571);class n{constructor(t){this.init(t)}init(t){const{title:e,type:i,isMiddle:s,id:n,labels:o,targetNode:r,onChange:a}=t;this.id=n,this.type=i,this.labels=o,this.title=e,this.onChange=a,this.isMiddle=s;let l=0;s&&(l=3),r.insertAdjacentHTML("beforeend",`<div class="tt-container">\n        <div class="tt-attr-title">${e}</div>\n        <div class="tt-range${s?" tt-middle-range":""} tt-attr-container" data-id="${n}">\n            ${Array.from({length:5},(t,e)=>e+1).reduce((t,e,i)=>t+`<div class="tt-range-option" data-value="${i+1-l}">${e}</div>`,"")}\n        ${s?'<svg class="tt-range-check" width="20" height="15" viewBox="0 0 20 15" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <path fill-rule="evenodd" clip-rule="evenodd" d="M18.9488 1.55167C19.4175 2.0203 19.4175 2.78009 18.9488 3.24872L8.54882 13.6487C8.08019 14.1174 7.32039 14.1174 6.85176 13.6487L1.65176 8.44872C1.18314 7.98009 1.18314 7.2203 1.65176 6.75167C2.12039 6.28304 2.88019 6.28304 3.34882 6.75167L7.70029 11.1031L17.2518 1.55167C17.7204 1.08304 18.4802 1.08304 18.9488 1.55167Z" fill="white" stroke-linecap="round" stroke-linejoin="round"/>\n            </svg>':""}\n        </div>\n        <div class="tt-range-labels" ${s?"data-middle":""}>\n          ${o.map(t=>`<span>${t}</span>`).join("")}\n      </div>\n    </div>`),this.container=document.querySelector(`.tt-range[data-id="${n}"]:not([data-handled])`),this.container.dataset.handled="true",this.bindEvents()}bindEvents(){this.container.querySelectorAll(".tt-range-option").forEach(t=>{t.addEventListener("click",t=>{this.selectOption(t.target)})})}selectOption(t){if(t.classList.contains("tt-selected"))return this.reset(),void(this.onChange&&this.onChange(this.selectedValue));this.container.querySelectorAll(".tt-range-option").forEach(t=>{t.classList.remove("tt-selected")}),t.classList.add("tt-selected"),this.selectedValue=t.dataset.value,"centered_range"===this.type&&this.moveSvgToSelected(t),this.onChange&&this.onChange(this.selectedValue)}moveSvgToSelected(t){const e=this.container.querySelector(".tt-range-check"),i=this.container.getBoundingClientRect(),s=t.getBoundingClientRect(),n=s.left-i.left+s.width/2-10;e.style.left=n+"px",e.classList.add("tt-visible")}getValue(){return this.selectedValue?[this.selectedValue]:[]}setValue(t){const e=this.container.querySelector(`[data-value="${t}"]`);e&&this.selectOption(e)}reset(){if(this.container.querySelectorAll(".tt-range-option").forEach(t=>{t.classList.remove("tt-selected")}),this.isMiddle){this.container.querySelector(".tt-range-check").classList.remove("tt-visible")}this.selectedValue=null}}class o{constructor(t){this.selectedValues=[],this.init(t)}init(t){const{title:e,id:i,labels:n,type:o,targetNode:r,options:a,multiple:l,onChange:d}=t;this.multiple=l,this.id=i,this.type=o,this.title=e,this.labels=n,this.onChange=d;const c=s.A.lang.separate_review_form,p=s.A.lang.all_in_one_from;let u="",v="";const g=l?"select_all":"choose_one",A=r.closest("#tt-media-uploader-container");A||(1===s.A.writeForm?v=` (${p[g]})`:2===s.A.writeForm&&(u=`<div class="tt-attr-subtitle">${c[g]}</div>`));let w=`<div class="tt-choice tt-attr-container" data-id="${i}">\n\t\t\t${a.reduce((t,e)=>t+`<div class="tt-choice-option" data-value="${e}">${e}</div>`,"")}\n\t\t\t</div>`;2===s.A.writeForm&&o.includes("choice")&&!A&&(w=`<div style="height:188px;display:flex;align-items:center;" data-type="${o}">${w}</div>`),r.insertAdjacentHTML("beforeend",`<div class="tt-container">\n\t\t\t<div class="tt-attr-title">${e}${v}</div>\n\t\t\t${u}\n\t\t\t${w}\n    </div>`),this.container=document.querySelector(`.tt-choice[data-id="${i}"]:not([data-handled])`),this.container.dataset.handled="true",this.bindEvents()}bindEvents(){this.container.querySelectorAll(".tt-choice-option").forEach(t=>{t.addEventListener("click",t=>{this.toggleOption(t.target)})})}toggleOption(t){const e=t.dataset.value,i=t.classList.contains("tt-selected");this.multiple?i?(t.classList.remove("tt-selected"),this.selectedValues=this.selectedValues.filter(t=>t!==e)):(t.classList.add("tt-selected"),this.selectedValues.push(e)):i?(t.classList.remove("tt-selected"),this.selectedValues=[]):(this.container.querySelectorAll(".tt-choice-option").forEach(t=>{t.classList.remove("tt-selected")}),t.classList.add("tt-selected"),this.selectedValues=[e]),this.onChange&&this.onChange(this.selectedValues,this.multiple)}setMultiple(t){if(this.multiple=t,!t&&this.selectedValues.length>1){const t=this.selectedValues[0];this.reset(),this.setValue([t])}}getValue(){return[...this.selectedValues]}setValue(t){this.reset(),t.forEach(t=>{const e=this.container.querySelector(`[data-value="${t}"]`);e&&(e.classList.add("tt-selected"),this.selectedValues.includes(t)||this.selectedValues.push(t))})}reset(){this.container.querySelectorAll(".tt-choice-option").forEach(t=>{t.classList.remove("tt-selected")}),this.selectedValues=[]}}function r(){const t=[];return s.A.attributeInstances.forEach(e=>{const{id:i,type:s,title:n}=e,o={id:i,type:s,title:n},r=e.getValue();let a=e.labels;s.includes("choice")?a=r:s.includes("range")&&(o.range_value=r[0]),r.length>0&&t.push({...o,options:a})}),t}function a(t,e,i){const{title:r,type:a,id:l,options:d}=e;if(a.includes("choice")){const e=new o({title:r,multiple:"multiple_choice"===a,id:l,targetNode:t,options:d,type:a,onChange:i});s.A.attributeInstances.push(e)}else if(a.includes("range")){const e=new n({labels:d,isMiddle:"centered_range"===a,title:r,id:l,targetNode:t,type:a,onChange:i});s.A.attributeInstances.push(e)}}function l(){s.A.attributeInstances.forEach(t=>{t.reset()})}function d(t={}){const{type:e="range",value:i=3,segments:s=4,title:n="",labels:o=[],size:r="normal",style:a="rounded"}=t;let{min:l,max:d}=t;l||(l=1,e.includes("centered")&&(l=-2)),d||(d=5,e.includes("centered")&&(d=2));const c=(i-l)/(d-l);let p=100*c+"%";return"rounded"===a&&(0===c?p=`calc(${p} + 1px)`:1===c&&(p=`calc(${p} - 1px)`)),`\n\t\t\t\t\t<div class="tt-range-display tt-range-display--${e} tt-range-display--${r} tt-range-display--${a}">\n\t\t\t\t\t\t\t${n?`<div class="tt-range-display__title">${n}</div>`:""}\n\t\t\t\t\t\t\t<div class="tt-range-display__container">\n\t\t\t\t\t\t\t\t\t<div class="tt-range-display__track" style="${function(){const t=(i-l)/(d-l)*100;if("range"===e)return"rounded"===a?`background: linear-gradient(to right, var(--attr-color) ${t}%, var(--attr-bg-color) ${t}%)`:"background-color: var(--attr-bg-color)";if("centered"===e){const e=50;return"rounded"===a?t>e?`background: linear-gradient(to right, var(--attr-bg-color) 0%, var(--attr-bg-color) ${e}%, var(--attr-color) ${e}%, var(--attr-color) ${t}%, var(--attr-bg-color) ${t}%, var(--attr-bg-color) 100%)`:t<e?`background: linear-gradient(to right, var(--attr-bg-color) 0%, var(--attr-bg-color) ${t}%, var(--attr-color) ${t}%, var(--attr-color) ${e}%, var(--attr-bg-color) ${e}%, var(--attr-bg-color) 100%)`:"background-color: var(--attr-bg-color)":"background-color: var(--attr-bg-color)"}return"background-color: var(--attr-bg-color)"}()}">\n\t\t\t\t\t\t\t\t\t\t\t<div class="tt-range-display__segments">\n\t\t\t\t\t\t\t\t\t\t\t\t\t${Array.from({length:s},(t,e)=>`<div class="tt-range-display__segment" data-segment="${e+1}"></div>`).join("")}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t${"centered"===e?'<div class="tt-range-display__center-point"></div>':""}\n\t\t\t\t\t\t\t\t\t\t\t${"centered"===e&&"rounded"===a?'<div class="tt-range-display__center-line"></div>':""}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class="tt-range-display__indicator" style="left: ${p}"></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t${function(){const t=o.length>0?o:"centered"===e?[l.toString(),"Perfect",d.toString()]:[l.toString(),d.toString()];return`<div class="tt-range-display__labels ${3===t.length?"tt-range-display__labels--three":""}">${t.map(t=>`<div class="tt-range-display__label">${t}</div>`).join("")}</div>`}()}\n\t\t\t\t\t</div>\n\t\t\t`}},657:(t,e,i)=>{i.d(e,{nZ:()=>M,WC:()=>q,Gs:()=>R,FP:()=>B,iB:()=>I,E7:()=>N,Al:()=>H});var s=i(571),n=i(986),o=i(163),r=i(405),a=i(134),l=i(220),d=i(778),c=i(607),p=i(381),u=i(743),v=i(651);function g(){const{lang:t,userSetting:e,revHeadType:i}=s.A,o=s.A.isWdoRevOpen?s.A.wdoRev:s.A.reviews,a=s.A.isMixReview||s.A.isWdoRevOpen?s.A.allRatingData:s.A.ratingData,l=s.A.isWdoRevOpen?s.A.wdoRevDom:s.A.reviewsDom,d=(0,n.$dqs)("#reviews-head",l);let g="",w="";if(!a||a.total_reviews<=0)return;var h="";const m=1===s.A.userSetting.is_qa_active&&s.A.productId&&!s.A.isWdoRevOpen,_=(s.A.isWdoRevOpen||!s.A.isProPage)&&["both","store"].includes(s.A.keySettings.all_reviews_display_type)||!s.A.isWdoRevOpen&&s.A.isProPage&&["both","store"].includes(s.A.keySettings.product_reviews_display_type);m||_||(h=`<div class="head-sort" data-tt-sort><div class="sort-content" data-tt-sort>\n\t\t<div class="sort-icon" ><svg data-tt-sort width="19" height="18" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t<path\n\t\t\t\t\td="M17.905 8.274H7.675a2.609 2.609 0 0 0-5.018 0H.714a.714.714 0 0 0 0 1.429h1.943a2.609 2.609 0 0 0 5.018 0h10.23a.714.714 0 0 0 0-1.429zM5.165 10.17a1.181 1.181 0 1 1-.001-2.363 1.181 1.181 0 0 1 .002 2.363zm12.74-8.296h-1.381a2.609 2.609 0 0 0-5.006 0H.718a.714.714 0 0 0 0 1.428h10.79a2.609 2.609 0 0 0 5.027 0h1.372a.714.714 0 1 0-.002-1.428zM14.02 3.79a1.18 1.18 0 1 1 .003 0h-.003zm3.885 10.886h-3.344a2.609 2.609 0 0 0-5.019 0H.718a.714.714 0 0 0 0 1.429h8.824a2.61 2.61 0 0 0 5.019 0h3.344a.714.714 0 0 0 0-1.429zm-5.853 1.895a1.181 1.181 0 1 1-.003-2.363 1.181 1.181 0 0 1 .003 2.363z"\n\t\t\t\t\tfill="${e.font_color}" />\n\t\t\t</svg>\n\t\t</div>\n\t\t${H().html}\n\t\t</div></div>`);var f=(0,n.getTotalStarString)(a.rating,!0);let y=a.total_reviews,b="",$="";if(2!==e.is_show_review_button||s.A.isMixReview){let e=t.write_reviews;(s.A.isMixReview||s.A.isWdoRevOpen)&&"shop"===s.A.writeTo.type&&(e=t.store_review.write_btn_text),b=`<button class="head-button tt-write-reviews" type="button" ${s.A.isMixReview||s.A.isWdoRevOpen?'style="display:none"':""}>\n          ${e}\n      </button>`}1!==s.A.userSetting.is_qa_active||s.A.isWdoRevOpen||s.A.isMixReview||($=`<button class="head-button tt-write-qa" type="button">\n\t\t\t\t${t.question_and_answer.ask_a_question}\n\t\t</button>`);let C="",x="",R="",S=`${`<p class="point">\n          <span class="big-point">${a.rating}</span>\n        </p>`}\n\t<div class="vstar-star">\n\t\t\t${f}                                      \n\t</div>`;if(1===i?(R=`<p class="tt-head-title">${t.customer_reviews}</p>`,C=`${A()}<div class="head-center">\n      <div class="star-raw"><span class="star-classify">\n        <span class="number">5</span> ${t.star}</span><span class="star-range"></span><span class="star-num"></span>\n        </div>\n      <div class="star-raw"><span class="star-classify">\n        <span class="number">4</span> ${t.star}</span><span class="star-range"></span><span class="star-num"></span>\n        </div>\n      <div class="star-raw"><span class="star-classify">\n        <span class="number">3</span> ${t.star}</span><span class="star-range"></span><span class="star-num"></span>\n        </div>\n      <div class="star-raw"><span class="star-classify">\n        <span class="number">2</span> ${t.star}</span><span class="star-range"></span></span><span class="star-num"></span>\n        </div>\n      <div class="star-raw"><span class="star-classify">\n        <span class="number">1</span> ${t.star}</span><span class="star-range"></span></span><span class="star-num"></span>\n        </div>\n      </div>`):2===i&&(g="review-head-type2",s.A.isMobile||(S=`<div style="display: flex;align-items: center">${S}</div>`)),x+=`\n      <div class="product-rating">\n\t\t\t\t${S}\n        <p class="reviews-num"> ${1===e.is_show_review_number?y:""} ${t.reviews}</p>\n      </div>\n      `,x=`<div class="head-left">\n      ${x}\n    </div>`,w=`\n\t${R}\n\t<div class="tt-head-content" style="\n\t">\n\t\t<div class="tt-head-left ${1===s.A.userSetting.is_show_album?"has-album":""}">\n\t\t${x+C}\n\t\t${1===s.A.userSetting.is_show_album&&1===i?`${A(!0)}<div class="tt-reviews-album"></div>`:""}\n\t\t</div>\n\t\t\n\t\t<div class="tt-head-right">\n\t\t\t\t${b+$+h}\n\t\t</div>\n\t</div>\n${function(){const t=1,e=2,i={[t]:"rounded",[e]:"square"};let n="",o="";s.A.attributeStatistics&&1!==s.A.userSetting.is_hide_ratings&&!s.A.isWdoRevOpen&&(s.A.attributeStatistics.forEach(t=>{o+=(0,v.Tl)({type:"centered_range"===t.type?"centered":"range",title:t.title,labels:t.options,value:t.value,style:i[s.A.userSetting.attributes_style]})}),o&&(n=`<div class="tt-range-container">${o}</div>`));return n}()}\n\t`,d&&(d.className+=g,d.innerHTML+=w,u.A[s.A.reviewsKey].writeBtn=(0,n.$dqs)(".tt-write-reviews",d),2!==i)){const t=(0,n.$dqsa)(".star-range",d),i=(0,n.$dqsa)(".star-num",d),l=1===e.is_show_review_number;t.forEach((t,p)=>{const u=5-p,v=a["total_star"+u];let g="0";v&&(g=(v/a.total_reviews*100).toFixed(1)+"%"),i[p].textContent=l?v:g,t.setAttribute("index",u),t.style.cssText=`background:linear-gradient(to right, ${e.star_color} 0%, ${e.star_color} ${g},${e.nostar_color} ${g}, ${e.nostar_color})`,v>0&&1===s.A.userSetting.rating_filter&&(t.onclick=function(){if(!s.A.canFilterRating)return;const e=t.getAttribute("index");e===o.ratingFilter?o.ratingFilter=0:o.ratingFilter=e,(0,r.aQ)(3,1),(0,c.bC)(!1,!0)},t.parentNode.onmouseover=function(){(0,n.$dqs)(".head-center",d).classList.add("tt-hover"),this.classList.add("active")},t.parentNode.onmouseout=function(){(0,n.$dqs)(".head-center",d).classList.remove("tt-hover"),this.classList.remove("active")})}),1===s.A.userSetting.is_show_album&&(0,p.D)((0,n.$dqs)(".tt-reviews-album",d))}}function A(t=!1){return s.A.isMobile?"":`<div class="tt-dividing" style="width: 1px;background: var(--line-color);height: 110px;opacity: ${t?0:1};display: block;"></div>`}var w=i(88),h=i(357),m=i(154),_=i(45),f=i(500),y=i(957);let b=null;const $=[];class C{constructor(){this.wrapper=document.getElementById("tt-product-selector"),this.container=document.getElementById("tt-product-list"),this.loadingEl=document.getElementById("tt-loading"),this.searchInput=document.querySelector("#tt-product-search>.tt-search"),this.allProducts=[...$],this.displayedProducts=[...$],this.page=1,this.productCount=0,this.perPage=5,this.totalPage=0,this.isLoading=!1,this.hasMoreItems=!0,this.searchTerm="",this.observer=null}generateMoreProducts(){this.allProducts=[...this.allProducts]}init(){this.renderProducts(),this.setupScrollListener(),this.setupSearchListener(),this.setupCloseListener()}setupScrollListener(){this.observer=new IntersectionObserver(t=>{t.forEach(t=>{t.isIntersecting&&!this.isLoading&&this.hasMoreItems&&this.loadMoreProducts()})},{root:null,rootMargin:"100px",threshold:0}),this.observer.observe(this.loadingEl)}setupCloseListener(){(0,n.$dqs)(".tt-window-close",this.wrapper).onclick=()=>{this.closeSelector()}}closeSelector(){this.wrapper.style.display="none",this.wrapper.parentNode.style.display="none",document.body.classList.remove("trustoo-open")}setupSearchListener(){this.searchInput.addEventListener("input",(0,n.debounce)(async t=>{this.searchTerm=t.target.value.toLowerCase().trim(),this.resetList(),await this.renderProducts(!0),this.observer.observe(this.loadingEl)},400))}resetList(){this.observer&&this.observer.disconnect(),this.container.innerHTML="",this.page=1,this.hasMoreItems=!0}filterProducts(){this.searchTerm?this.displayedProducts=this.allProducts.filter(t=>t.title.toLowerCase().includes(this.searchTerm)):this.displayedProducts=[...this.allProducts]}getCurrentPageProducts(){return y.zG.getProducts(this.page,this.searchTerm)}async renderProducts(){const t=await this.getCurrentPageProducts();if(this.isLoading=!1,t[0])return;const e=t[1];this.searchTerm||1!==this.page||(this.productCount=e.page.count);const{cur_page:i,total_page:s}=e.page,n=e.list;if(this.totalPage=s,0===n.length&&1===this.page)return 0!==this.productCount&&this.renderEmptyState(),void this.hideLoading();n.forEach((t,e)=>{const i=this.createProductElement(t,e);this.container.appendChild(i)}),i>=s?(this.hasMoreItems=!1,this.hideLoading()):this.showLoading()}createProductElement(t){const e=document.createElement("div");e.className="tt-product-item",e.dataset.id=t.id,e.dataset.id=t.id;const i=document.createElement("img");i.className="tt-product-image",i.src=t.image_src,i.alt=t.title,i.loading="lazy";const n=document.createElement("div");n.className="tt-product-details";const o=document.createElement("div");return o.className="tt-product-title",o.textContent=t.title,n.appendChild(o),e.appendChild(i),e.appendChild(n),e.addEventListener("click",()=>{this.handleProductClick(t);const e=u.A.write.container;1===s.A.writeForm?(0,m._x)("reviews"):2===s.A.writeForm&&((0,_.Rh)(),e.parentNode.style.display="block"),e.style.display="block",this.wrapper.style.display="none"}),e}renderEmptyState(){const t=document.createElement("div");t.className="tt-empty",t.textContent=s.A.lang.search_not_prod,this.container.appendChild(t)}loadMoreProducts(){!this.isLoading&&this.hasMoreItems&&(this.isLoading=!0,this.showLoading(),this.page++,this.renderProducts())}handleProductClick(t){s.A.writeTo.productId=t.id,s.A.writeTo.productName=t.title,s.A.writeTo.prodImageUrl=t.image_src}showLoading(){this.loadingEl.style.display="flex"}hideLoading(){this.loadingEl.style.display="none"}}const x=function(){if(b)b.wrapper.style.display="block";else{let t=s.A.lang.all_in_one_from;const e=2;s.A.writeForm===e&&(t=s.A.lang.separate_review_form);const i=(0,n.$dqs)("#trustoo-mask"),{logo_src:o,logo_alignment:r,logo_size:a}=s.A.writeReviewSettings,l=o?`<div id="tt-write-logo" style="text-align: ${r};font-size: 0;padding-bottom: 20px;"><img src="${o}" alt="logo" style="width: ${a}px;"></div>`:"";i.insertAdjacentHTML("beforeend",`<div id="tt-product-selector" class="trustoo-widget">\n\t\t\t\t<div id="tt-products-content">\n\t\t\t\t\t\t\t${l}\n\t\t\t\t<div class="tt-window-close tt-write_review_close"></div>\n\t\t\t\t<div class="tt-header">\n\t\t\t\t\t<div class="tt-selector-title">${t.select_product_title}</div>\n\t\t\t\t</div>\n\t\t\t\t<div id="tt-product-search">\n\t\t\t\t\t<input type="text" class="tt-search" placeholder="${t.search_product_input_prompt}">\n\t\t\t\t</div>\n\t\t\t\t<div id="tt-product-list"></div>\n\t\t\t\t<div id="tt-loading">\n\t\t\t\t\t<div class="loader"></div>\n\t\t\t\t</div></div>\n\t\t</div>`),b=new C,b.init()}};async function R(){const{revIdBase:t,isWdoRevOpen:e}=s.A;let i,o;const d=function(){var t="";const{revIdBase:e,isWdoRevOpen:i}=s.A,{nextRevDesc:n}=a.A;let o="",r="",l="";["ar","he"].includes(Review.lang)&&(l=" trustoo-rtl");l+=" pending",t=`<div id="reviews-head" ${o} >\n  </div>`;let d="";n&&(d=`<div id="review-desc" style="margin-top:26px;color:#666666">${n}</div>`);var c=`<div id="reviews-body">${"shopReviews"===s.A.showType?'<div class="tt-shop-reviews"></div>':'<div class="tt-review-list"></div>'}\n    </div>`;const p=i?"":"not-wdo-rev",u=s.A.isMixReview?"all-reviews":"",v=s.A.productId?`data-product-id="${s.A.productId}"`:"",g=`<div id="reviews-wrapper" class="trustoo-reviews-wrapper">\n  <div id="${e}reviews" show-type="${s.A.showType}" ${p} ${u} ${v}  class="trustoo-widget ${r+l}">\n    ${t+c+d}</div>\n  </div>`;return g}();if(L(d),e){let e=(0,n.$dqs)(`#vstar-window-review #${t}reviews`),r=(0,n.$dqs)("#reviews-body",e);i=e,o=r,Object.assign(s.A,{wdoRevDom:e,wdoRevBody:r})}else i=(0,n.$dqs)(`#${t}reviews`),o=(0,n.$dqs)("#reviews-body"),Object.assign(s.A,{reviewsDom:i,reviewsBody:o});i.setAttribute("review_sort_by",s.A.userSetting.review_sort_by);const p=1===s.A.userSetting.layout?"list":"gird";i.setAttribute("layout",p),e||s.A.reviewsDom&&j();let u=parseInt(window.getComputedStyle(i).width);s.A.isGrid&&(s.A.reviewsWidth=u),(0,r.aQ)(3,1);let v="trustoo_reviews";e&&(v="trustoo_all_reviews","store"===s.A.keySettings.all_reviews_display_type&&(v="trustoo_popup_shop_reviews")),e&&(0,n.gsSession)("set",v,[]),k(i,o),P(i),await(0,c.bC)(),g(),s.A.pageInfo.current=e?"popupReviews":"reviews",(0,f.IV)();const A=(0,n.$dqs)(".head-sort:first-child",i);A&&A.parentNode.setAttribute("only-sort",!0),E(i),T(),e?(0,l.my)():O(),s.A.isFirstPageRender&&(!function(){const t=(0,n.$dqs)("#trustoo-block-style");t&&(t.media="all");s.A.firstPageShow=!0,s.A.isWdoRevOpen&&(s.A.isWdoRevFirstPageRendered=!0),"undefined"!=typeof trustooAfterExecute&&trustooAfterExecute(s.A,a.A)}(),s.A.isFirstPageRender=!1)}function S(){const{isMixReview:t,isWdoRevOpen:e}=s.A,i=e?s.A.wdoRevDom:s.A.reviewsDom,o=(0,n.$dqs)(".head-button.tt-write-reviews,.noreviews-button.tt-write-reviews",i);if(o&&o.addEventListener("click",()=>{I(s.A.productId&&!s.A.isWdoRevOpen?"normal":s.A.writeTo.type)}),1===s.A.userSetting.is_qa_active&&!e&&!t){(0,n.$dqs)(".head-button.tt-write-qa,.noreviews-button.tt-write-qa",i).addEventListener("click",function(){D(),(0,m._x)("QA")})}(0,n.$dqsa)(".tt-tab",i).forEach(t=>{t.onclick=function(){const o=s.A.userSetting.review_pagination_type,r=u.A[s.A.reviewsKey];s.A.pager&&!e&&(s.A.pager.el.style.display="none"),1!==o||e||s.A.isRevPage||function(){const t=(s.A.isWdoRevOpen?s.A.popupPageInfo:s.A.pageInfo)[s.A.showType];if(t&&s.A.pager){const e=s.A.pager.el.querySelectorAll(".page-control-item");t.pageNumbers=Array.from(e).map(t=>t.textContent),t.activeIndex=s.A.pager.activeIndex}}(),(0,n.$dqs)(".tt-tab.active",i).classList.remove("active"),t.classList.add("active");const a=t.getAttribute("index");let l="reviews";if(s.A.showType="reviews","0"===a)s.A.canFilterRating=!0,r.curBody=r.normalReviews,(0,f.IV)();else if("1"===a){const t=(0,n.$dqs)(".tt-qa-list",i);s.A.showType="QA",l="QA",t?(0,f.IV)():(s.A.pageInfo.QA={curPage:1,count:0},(0,w.m)())}else if("2"===a){s.A.canFilterRating=!1;const t=s.A.isWdoRevOpen?s.A.popupPageInfo:s.A.pageInfo;s.A.showType="shopReviews",l="shopReviews";const o=r.shopReviews;if(o)(0,f.IV)(),r.curBody=o;else{const o=e?s.A.wdoRevBody:s.A.reviewsBody;if(0===s.A.userSetting.store_reviews_count)t.shopReviews={total:0},(0,f.IV)(),o.insertAdjacentHTML("beforeend",`<div class="tt-shop-reviews" style="margin-top: 32px;">\n\t\t\t\t\t\t\t\t<div class="vstar-star">${(0,n.getTotalStarString)(0,20)}</div>\n\t\t\t\t\t\t\t\t<div style="font-size: 20px;text-align: center;margin-top: 4px;">${s.A.lang.no_reviews}</div></div>`);else{o.insertAdjacentHTML("beforeend",'<div class="tt-shop-reviews"></div>');const e=s.A.isWdoRevOpen?"trustoo_popup_shop_reviews":"trustoo_shop_reviews";if((0,n.gsSession)("set",e,[]),0!==s.A.userSetting.store_reviews_count){const e=(s.A.popupPageInfo.shopReviews||s.A.pageInfo.shopReviews)?.total||0;t.shopReviews={curPage:1,total:e,count:0},(0,c.bC)().then(()=>{(0,f.IV)()})}}i.dataset.shopReviewsCount=s.A.userSetting.store_reviews_count,r.shopReviews=(0,n.$dqs)(".tt-shop-reviews",i),r.curBody=r.shopReviews}}i.setAttribute("show-type",l)}}),i.addEventListener("click",t=>{"tt-no-context-reviews"===t.target.id&&I(s.A.productId&&!s.A.isWdoRevOpen?"normal":s.A.writeTo.type)})}function T(){const{isWdoRevOpen:t,hasPyRating:e}=s.A,i=t?s.A.wdoRevDom:s.A.reviewsDom,o=(0,n.$dqs)("#reviews-head .sort-icon,.tt-sort-content",i),a=(0,n.$dqs)(".sort-popup",i);o&&a&&function(t,e){window.addEventListener("click",function(i){if(t.contains(i.target)){const t=e.style.display;e.style.display="block"===t?"none":"block"}else e.contains(i.target)||(e.style.display="none")})}(o,a),i.addEventListener("click",function(t){let e=t.target;"path"===e.tagName&&(e=e.closest("svg"));let o=e.classList;o.contains("resource-item")&&(e=(0,n.$dqs)("img",e));const l=t.target.closest(".resource-item");if(l){const t=(0,n.$dqs)("img",l);let e=parseInt(t.getAttribute("no"));const i=parseInt(t.getAttribute("index"));let o;s.A.isGrid&&s.A.isMobile&&(s.A.globalStyle.textContent+="#trustoo-review-detail .review-row-one .reviews-date {display: none;}"),o=1!==s.A.userSetting.review_pagination_type||s.A.isWdoRevOpen||s.A.isMixReview&&!s.A.isHomePage&&!s.A.isCollPage?parseInt(t.dataset.page):(0,r.aQ)(),e=t.dataset.reviewIndex,s.A.revDetailInfo.page=o,s.A.revDetailInfo.no=e,s.A.revDetailInfo.imageIndex=i;let a="trustoo_reviews";s.A.isWdoRevOpen?a="shopReviews"===s.A.showType?"trustoo_popup_shop_reviews":"trustoo_all_reviews":"shopReviews"===s.A.showType&&(a="trustoo_shop_reviews");const d=(0,n.gsSession)("get",a)[o-1][e];TTRevDetail.showTTReviewDetail(s.A,"",d,a)}else o.contains("display-text")?(0,c.fn)(e):o.contains("tt-helpful")||o.contains("tt-unhelpful")?(0,c.nG)(e,o):function(t,e,i,o){if(e.contains("sort-item")){const e=(0,n.$dqs)(".sort-active",o);if(!t.classList.contains("active")){(0,n.$dqs)(".sort-item.active",o).classList.remove("active"),t.classList.add("active"),e.style.top=t.offsetTop+3+"px";const a=t.getAttribute("sort-value");o.setAttribute("review_sort_by",a),1!==s.A.userSetting.review_pagination_type||s.A.isWdoRevOpen||(s.A.reviewsList=[],s.A.pageRecord=[]),i.style.display="none";const l=(0,n.$dqs)(".tt-sort-content>span",o);l&&(l.textContent=t.textContent),(0,r.aQ)(3,1),o.setAttribute("reviews-page-no",1),(0,c.bC)(!0)}}}(e,o,a,i)}),e&&(0,d.B4)(),s.A.iObserver||(s.A.iObserver=new IntersectionObserver(t=>{for(const e of t)if(e.isIntersecting){if(!s.A.allRevLoadLock&&(s.A.isRevPage||s.A.isWdoRevOpen)){const t=e.target.parentNode,i=(s.A.isWdoRevOpen?s.A.popupPageInfo:s.A.pageInfo)[s.A.showType].total;(0,r.aQ)()<i&&(s.A.allRevLoadLock=!0,(0,n.$dqs)(".loader",t).style.display="block",(0,r.aQ)(1),(0,c.bC)(!1))}}else s.A.allRevLoadLock=!1},{}));let l=null;s.A.isWdoRevOpen?l=(0,n.$dqs)("#reviews-footer",s.A.wdoRevDom):s.A.isRevPage&&(l=(0,n.$dqs)("#reviews-footer",s.A.reviewsDom)),l&&s.A.iObserver.observe(l)}function k(t,e){let i="",n="";const o=1===s.A.userSetting.is_qa_active&&s.A.productId&&!s.A.isWdoRevOpen,r=(s.A.isWdoRevOpen||!s.A.isProPage)&&["both","store"].includes(s.A.keySettings.all_reviews_display_type)||!s.A.isWdoRevOpen&&s.A.isProPage&&["both","store"].includes(s.A.keySettings.product_reviews_display_type);let a=0;a=s.A.isWdoRevOpen||s.A.isMixReview?s.A.allRatingData.total_reviews:s.A.ratingData.total_reviews,(a||s.A.userSetting.store_reviews_count||s.A.ratingData.total_qa_count)&&(s.A.canInsertPagination=!0);const l=`<span class="tt-tab${"shopReviews"===s.A.showType?" active":""}" index="2"\n\t\t\t\t>${s.A.lang.store_review.tab_name}(<span class="tt-number" data-shop-reviews>${s.A.userSetting.store_reviews_count}</span>)</span\n\t\t\t>`;if(o||r){let t="";"shopReviews"===s.A.showType?t+=l:t+=`\n\t\t\t<span class="tt-tab active" index="0"\n\t\t\t\t>${s.A.lang.reviews.charAt(0).toUpperCase()+s.A.lang.reviews.slice(1)}\n\t\t\t\t(<span class="tt-number" data-product-reviews>${a}</span>)</span\n\t\t\t>\n\t\t\t${r?l:""}\n\t\t\t${o?`<span class="tt-tab" index="1"\n\t\t\t\t>${s.A.lang.question_and_answer.title}(<span class="tt-number">${s.A.ratingData.total_qa_count}</span>)</span\n\t\t\t>`:""}\n\t\t`,i+=`<div class="tt-tabs-list">${t}</div>`;const e=H();n=`<div class="tt-reviews-sort">\n\t\t\t\t\t<div class="tt-sort-content" style="text-align:right"><span data-tt-sort style="margin-right:8px;font-size:14px">${e.text}</span>${h.A.sort(s.A.userSetting.font_color)}</div>\n\t\t\t\t\t${e.html}\n\t\t\t\t</div>`}i&&(t.dataset.tabs="1",e.insertAdjacentHTML("beforebegin",i+n)),o&&t.classList.add("qa")}function q(){const{lang:t}=s.A;s.A.isNullRev=!0,s.A.firstPageShow=!0;let e="";["ar","he"].includes(Review.lang)&&(e=" trustoo-rtl");let i="",o="";if(2!==s.A.userSetting.is_show_review_button||s.A.isMixReview){let e=t.write_reviews;(s.A.isMixReview||s.A.isWdoRevOpen)&&"shop"===s.A.writeTo.type&&(e=t.store_review.write_btn_text),i=`<button class="noreviews-button tt-write-reviews" type="button" ${s.A.isMixReview?'style="display:none"':""}>\n  ${e} </button>`}1!==s.A.userSetting.is_qa_active||s.A.isWdoRevOpen||s.A.isMixReview||(o=`<button class="noreviews-button tt-write-qa" type="button">\n\t\t${t.question_and_answer.ask_a_question}\n\t\t</button>`);const r=(0,n.getTotalStarString)(0);L(`  <div id="noreviews-wrapper" class="trustoo-reviews-wrapper">  <div id="vstar-noreviews" show-type="reviews" class="trustoo-widget ${e}">\n\t\t\t<div id="tt-first-row">\n\t\t\t\t<div class="noreviews-title">${t.customer_reviews}</div> \n\t\t\t\t<div id="tt-buttons">${i}${o}</div>\n\t\t\t</div>\n      <div class="noreviews-center">\n          <div class="nostar-wrapper">\n              <div class="noreviews-nostar vstar-star">\n                  ${r}\n              </div>\n          </div>\n          <p class="noreviews-text">${t.no_reviews}</p>\n      </div><div id="reviews-body"></div>\n    </div>\n      </div> </div>`);let a=null;const d=s.A.isWdoRevOpen?"wdoRevBody":"reviewsBody",c=s.A.isWdoRevOpen?"wdoRevDom":"reviewsDom";s.A.isWdoRevOpen?((0,l.my)(),a=(0,n.$dqs)("#vstar-window-review #vstar-noreviews")):a=(0,n.$dqs)("#vstar-noreviews");const p=(0,n.$dqs)("#reviews-body",a),v=(0,n.$dqs)(".noreviews-center",a);s.A[c]=a,s.A[d]=p,a.setAttribute("review_sort_by",s.A.userSetting.review_sort_by),k(a,v),P(a),u.A[s.A.reviewsKey].writeBtn=(0,n.$dqs)(".tt-write-reviews",a),(0,f.IV)(),E(a),T(),j()}function L(t){const e=s.A.isWdoRevOpen?"#vstar-window-review #reviews-wrapper,#vstar-window-review #noreviews-wrapper":"#reviews-wrapper,#noreviews-wrapper";if((0,n.$dqsa)(e).forEach(t=>t.remove()),s.A.isWdoRevOpen)s.A.isWdoRevExist||(s.A.isWdoRevExist=!0,(0,n.$dqs)("#vstar-window-review").insertAdjacentHTML("afterbegin",t));else{const e=s.A.revTar.dataset.trustooInsertPosition;let i=(0,n.$dqs)("#trustoo-widget-wrapper");i?i.insertAdjacentHTML("afterbegin",t):s.A.revTar&&(s.A.revTar.insertAdjacentHTML(e,`<div id="trustoo-widget-wrapper" style="display: flex;flex-direction: column;">${t}</div>`),i=(0,n.$dqs)("#trustoo-widget-wrapper")),s.A.revTar.dataset.trustooIsTabReview&&!s.A.isNullRev&&function(){const t=(0,n.$dqs)("#vstar-reviews");if(t&&ResizeObserver){const e=new ResizeObserver(t=>{for(let i of t){const{width:t,height:n}=i.contentRect;t&&n&&(O(),s.A.isGrid&&((0,o.dn)(),e.disconnect()))}});e.observe(t)}}()}}function E(t){S(),s.A.isGrid&&s.A.layoutReviewCount>15?setTimeout(()=>{t.classList.remove("pending")},100):t.classList.remove("pending"),s.A.isMobile||window.addEventListener("resize",function(){s.A.isGrid&&W(),F()}),s.A.isWdoRevOpen||O(),(s.A.isWdoRevOpen||s.A.isRevPage)&&t.insertAdjacentHTML("beforeend",'<div id="reviews-footer"><div class="loader" style="display:none;"></div></div>'),s.A.isWdoRevOpen&&document.dispatchEvent(new CustomEvent("TTPopupReviewsEmbedded",{detail:{v:s.A,node:t},bubbles:!0,cancelable:!0}))}function P(t){const e=u.A[s.A.reviewsKey];e.normalReviews=(0,n.$dqs)(".tt-review-list",t),"shopReviews"===s.A.showType?e.curBody=(0,n.$dqs)(".tt-shop-reviews",t):e.curBody=e.normalReviews,e.reviewsTab=(0,n.$dqs)(".tt-number[data-product-reviews]",t),e.shopTab=(0,n.$dqs)(".tt-number[data-shop-reviews]",t)}function I(t){const e=u.A.write.container;e.dataset.reviewType=t;M()||(document.body.classList.add("trustoo-open"),D(),u.A.mask.style.display="flex","product"===t?x():(1===s.A.writeForm?(0,m._x)("reviews"):2===s.A.writeForm&&((0,_.nn)(),e.parentNode.style.display="block"),e.style.display="block"),e.setAttribute("write-review",!0))}function M(){const t=u.A.write.container,e=window.TrustooReviews.customer;if(e){const i=(0,n.$dqs)('[input-type="author"],.slide-name',t),o=(0,n.$dqs)('[input-type="author_email"],.slide-email',t);if(3===s.A.writeRestriction&&e.orderCount<=0)return(0,n.setToast)(a.A.writeReviewTip||"Please purchase the product first"),!0;i&&o&&(i.value=e.name,o.value=e.email,1===s.A.writeForm||2===s.A.writeForm&&(0,_.yS)())}else if(1!==s.A.writeRestriction)return location.href=location.origin+"/account/login",!0;return!1}function D(){if(s.A.isMobile){let t=window.location.hash;t.includes("tt-write-reviews-open")||(window.location.hash=t?t+"&tt-write-reviews-open":"tt-write-reviews-open"),window.addEventListener("hashchange",B)}}function B(){-1===window.location.hash.indexOf("tt-write-reviews-open")&&(1===s.A.writeForm?(0,m.Do)():2===s.A.writeForm&&(0,_.oD)(),window.removeEventListener("hashchange",B))}function O(){const t=s.A.reviewsDom;s.A.revTarWid=parseInt(getComputedStyle(s.A.revTar).width);let e="block";if(s.A.revTarWid<1e3&&!s.A.isMobile?s.A.reviewsDom.style.padding="0 20px":s.A.reviewsDom.style.padding="",s.A.revTarWid<=738&&!s.A.isMobile){if(s.A.isNullRev){(0,n.$dqs)("#tt-first-row",t).style.cssText="display: flex;flex-direction: column;align-items: center;gap: 20px;"}else if(1!==s.A.userSetting.is_hide_ratings){const i=(0,n.$dqs)(".tt-head-left",t),s=(0,n.$dqs)(".tt-head-right",t),o=(0,n.$dqs)(".tt-head-content",t),r=(0,n.$dqs)(".tt-head-title",t);i.style.cssText="flex-direction: column;gap: 32px;",o.style.cssText="justify-content: center;",r.style.cssText="margin: 0 auto;",s.style.cssText="padding-bottom: 10px;",e="none"}s.A.reviewsDom.style.padding="0 8px"}else{const e=[];if(s.A.isNullRev){const i=(0,n.$dqs)("#tt-first-row",t);e.push(i)}else{const i=(0,n.$dqs)(".tt-head-left",t),s=(0,n.$dqs)(".tt-head-right",t),o=(0,n.$dqs)(".tt-head-content",t),r=(0,n.$dqs)(".tt-head-title",t);e.push(i,s,o,r)}e.forEach(t=>{t&&(t.style.cssText="")})}s.A.isNullRev||(0,n.$dqsa)(".tt-dividing",t).forEach(t=>{t.style.display=e})}function H(){const t=s.A.lang;let e="",i="",n="";const o=["comprehensive-descending","image-descending","commented-at-descending","rating-descending","rating-ascending"],r=[4,0,1,2,3],a=o.indexOf(s.A.userSetting.review_sort_by);o.forEach((s,o)=>{i="",o===a&&(i="active",n=t.sort_by_options[r[o]]),e+=`<li index="${o}" sort-value="${s}" class="sort-item ${i}">${t.sort_by_options[r[o]]}</li>`});const l=35*a+54+"px";return{text:n,html:`<div class="sort-popup">\n\t<ul class="sort-list">\n\t\t<li class="sort-title">${t.sort_by}</li>\n\t\t${e}\n\t</ul>\n\t<div class="sort-active" style="top:${l}">${h.A.hook()}\n\t</div>\n</div>`}}function N(){!s.A.RevIntersection&&s.A.isProPage&&(s.A.RevIntersection=new IntersectionObserver(t=>{for(const e of t)e.isIntersecting&&((0,n.processRecordedData)("reviews_view"),s.A.RevIntersection.disconnect())},{})),s.A.RevIntersection.observe(s.A.reviewsDom)}function j(){let t="";switch(Review.theme.theme_store_id){case 887:case 1567:case 1356:case 1363:case 1368:case 1431:case 1434:case 1500:case 1499:case 796:case 775:case 829:t="page-width";break;case 730:case 679:case 380:t="wrapper";break;case 578:t="site-wrapper";break;default:if("warehouse"===Review.theme.name){s.A.reviewsDom.parentNode.classList.add("container");(0,n.$dqs)(".card--collapsed.card--sticky.card")&&(s.A.reviewsDom.classList.add("card"),s.A.globalStyle.textContent+="#vstar-reviews.card{border:none !important}")}}""!=t&&s.A.reviewsDom.classList.add(t)}const W=(0,n.debounce)(()=>{s.A.isRevOpen&&!s.A.isNullRev&&(0,o.dn)()},200),F=(0,n.debounce)(async()=>{s.A.isWdoRevOpen||O()},100)},659:t=>{var e={};t.exports=function(t,i){var s=function(t){if(void 0===e[t]){var i=document.querySelector(t);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}e[t]=i}return e[t]}(t);if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(i)}},743:(t,e,i)=>{i.d(e,{A:()=>s});const s={normal:{curBody:null,normalReviews:null,shopReviews:null},popup:{curBody:null,normalReviews:null,shopReviews:null},write:{container:null,allInOne:null,image:null,prodName:null,title:null,contentLabel:null,submit:null,attributeWrapper:null,normalProdAttr:null,selectedProdAttr:null},customReviewsBlock:null,summaryBlock:null,mask:null}},778:(t,e,i)=>{i.d(e,{B4:()=>c,bl:()=>d,rU:()=>l});var s=i(571),n=i(957),o=i(986),r=i(134),a=i(638);async function l(){const{isProPage:t,isHomePage:e}=s.A,{customProTarSel:i}=r.A;let l;l=function(){let t={},e=Review.theme.theme_store_id;var i=".product-single__title",s=".product__title>h1",n='.grid-item>h1.h2[itemprop="name"]',o='.grid__item>h1.h2[itemprop="name"]';let r,a=[i,s,n,o,".product-details .text-block>h1"].join(",");switch(e){case 730:case 578:case 775:case 796:case 380:r=i;break;case 887:case 829:case 1356:case 1363:case 1368:r=s;break;case 679:r=n;break;case 766:r=o;break;default:t.isAll=!0,r=a}t.main=r,t.mainAll=a;var l=".product__title .product__title--template",d=".ProductMeta__Title",c=".product_title,h1.product__title",p=".tt-product-single-info .tt-title",u=".product-block-list__item .product-meta__title",v=".product-meta>.product-meta__title",g=".pr_title",A=".prd-block_title",w=".product-detail__title",h=".productInfo h1",m=".product_name",_=".product-name",f=".product-description-header",y=".layout-column-half-right>.title",b=".product-page-info__title>h1",$="h1.gt_heading",C="#popup_cart_title",x=".apb_product_detail_information_title",R=".product-area__details__title",S=".product-info>h3.title30",T=".gt_product-content>h2",k=".prod__title",q=".productInfo>h2",L=".product__section-title>h1",E=".page-header h1.title",P=".title-detail",I=".title>h1",M=".title-row>h1.title",D="h2.product-page--heading",B=".section-header__title.product-titre",O=".block.type-title",H="h2.product-details-product-title",N="h1.product-info__title",j=".product-detail-part>h2[itemprop='name']",W="h2.single_product__title",F="#product-description h1.h2",z="h1.product-item-caption-title.-product-page",U="h1.product-title",V="h2[data-attribute='productTitle']",G=".productView-title",Z="h1.product__section-title",Q="h1.product-single__title-text",J='h1[itemprop="name"]',K=".proBoxInfo>h1",Y="h1.title-primary",X="[data-product-description-container]>h2.h1",tt=".col-md-12>.title-sale",et=".shg-product-title-component",it=".t4s-product__title",st=".bls__product-title";let nt=[];nt.push(l,d,c,p,u,g,A,h,m,f,y,b,$,C,x,R,S,T,w,k,v,q,_,L);let ot=[E,P,I,M,D,B,O,H,N,j,W,F,z,U,V,G].join(","),rt=[Z,Q,J,K,Y,X,tt,et,it,st].join(","),at=nt.join(",");return t.other1=ot,t.other2=at,t.other3=rt,t}();let d,c=[],p=!1,u=[];s.A.isProPage&&(u=(0,o.$dqsa)(".custom-vstar-rating-widget,.pagefly-star-rating-sealapp,.ecom-star-rating-sealapp"),0!==u.length&&(c=u,p=!0)),i&&!p&&(d=(0,o.$dqs)(i),d&&(p=!0,Review.proType="custom",Review.proSel=i,Review.proTarget=d),e&&d)||(p||(c=(0,o.$dqsa)(l.main),0!==c.length||l.isAll||(c=(0,o.$dqsa)(l.mainAll)),0!==c.length&&(p=!0),Review.proType="main",Review.proSel=l.main),p||(c=(0,o.$dqsa)(l.other1),Review.proType="other1",Review.proSel="`"+l.other1+"`",0===c.length&&(c=(0,o.$dqsa)(l.other2),Review.proType="other2",Review.proSel="`"+l.other2+"`"),0===c.length&&(c=(0,o.$dqsa)(l.other3),Review.proType="other3",Review.proSel="`"+l.other3+"`")),d=Array.from(c).find(t=>null!==t.offsetParent),d?(u.length&&(d.dataset.trustooRatingBlock=1),Review.proTarget=d,s.A.globalStyle.textContent+=`#vstar-reviews .tt-head-title,#vstar-noreviews .noreviews-title{font-family:${getComputedStyle(d).fontFamily}}`):t&&await n.zG.sendErrorMsg(3,`${window.location.href}`).then(t=>{if(t[1]){const e=(0,a.starEmbeddedAdaptation)(5,t[1].selector);e&&(Review.proSel=e,d=(0,o.$dqs)(e))}}))}function d(){const t=s.A.shop_id;if(1===r.A.get_move_review_info.is_tab_review&&!s.A.isWdoRevOpen)if(61646700724===t&&129829568692===s.A.themeId){activeCls="t4s-active";let t=(0,o.$dqs)(`.panel.sp-tab.${activeCls},.t4s-tab-wrapper>.t4s-tab-content.${activeCls}`);t?t.classList.remove(activeCls):t=(0,o.$dqs)(".t4s-tab-wrapper:nth-child(2)>.t4s-tab-content");const e=(0,o.$dqs)("#tab_pr_reivew,.t4s-tab-wrapper:nth-child(4)>.t4s-tab-content");e.classList.add(activeCls),s.A.isMobile?((0,o.$dqs)(".sp-tab-content",t).style.display="none",(0,o.$dqs)("#tab_pr_reivew .sp-tab-content").style.cssText=""):((0,o.$dqs)(".tab_title_block.active,.t4s-d-inline-flex>a.t4s-active").classList.remove(activeCls),(0,o.$dqsa)(".tab_title_block,.t4s-tab-wrapper")[1].classList.add(activeCls),t.style.display="none",e.style.display="block")}else if(67745513752===t&&137959506200===s.A.themeId){const t=(0,o.$dqs)('[data-id="1670265256519"] .module'),e=(0,o.$dqs)("[data-control].opend",t);null!==e&&(e.classList.remove("opend"),e.nextElementSibling.style.display="none");const i=(0,o.$dqs)('[data-control][data-index="5"]',t);null!==i&&(i&&i.classList.add("opend"),i.nextElementSibling.style.display="block")}else if(69381783840===t&&144923328800===s.A.themeId){const t=(0,o.$dqsa)(".product-simple-tab .tab-pane"),e=(0,o.$dqsa)(".nav-item .nav-link");t[0].className="tab-pane",t[2].className="tab-pane active show",e[0].className="nav-link",e[1].className="nav-link active show"}}function c(){if(s.A.isProPage){const t=(0,o.$dqs)(`.pagefly-star-rating-sealapp[product-id="${s.A.productId}"]`);t&&(t.style.cursor="pointer",t.onclick=function(){s.A.reviewsDom&&(0,o.scrollTo)(s.A.reviewsDom)})}}},825:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(i){!function(t,e,i){var s="";i.supports&&(s+="@supports (".concat(i.supports,") {")),i.media&&(s+="@media ".concat(i.media," {"));var n=void 0!==i.layer;n&&(s+="@layer".concat(i.layer.length>0?" ".concat(i.layer):""," {")),s+=i.css,n&&(s+="}"),i.media&&(s+="}"),i.supports&&(s+="}");var o=i.sourceMap;o&&"undefined"!=typeof btoa&&(s+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleTagTransform(s,t,e.options)}(e,t,i)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},868:t=>{t.exports=function(t,e){Object.keys(e).forEach(function(i){t.setAttribute(i,e[i])})}},877:(t,e,i)=>{i.d(e,{N:()=>s});class s{init(){return this.emitCartChanges().then(()=>{this.observeCartChanges()})}async fetchCart(){return(await fetch("/cart.js")).json()}storeCartToken(t){try{sessionStorage.setItem("ttCartToken",t)}catch(t){}}storedCartToken(){return sessionStorage.getItem("ttCartToken")||""}async emitCartChanges(){const t=await this.fetchCart(),e=new CustomEvent("cart_changed",{detail:{token:t.token}});window.dispatchEvent(e),this.storeCartToken(t.token)}observeCartChanges(){new PerformanceObserver(t=>{t.getEntries().forEach(t=>{const e=["xmlhttprequest","fetch"].includes(t.initiatorType),i=/\/cart\//.test(t.name);e&&i&&this.emitCartChanges()})}).observe({entryTypes:["resource"]})}}},957:(t,e,i)=>{i.d(e,{nj:()=>c,zG:()=>d});var s=i(571),n=i(134),o=i(405),r=i(986);function a(t,e,i,n=!1,o=!1,r=!1){return l(t,e,i,n,o,r,s.A.apiDomain)}function l(t,e,i,n=!1,o=!1,r=!1,a=s.A.baseUrl){return new Promise((l,d)=>{!function(t,e={},i="GET",n,o=!1,r,a,l,d){let c=new XMLHttpRequest;const p=`https://${d}/api/v1/`;let u="";u=o||a?t:r?s.A.uploadImgInfo.host:p+t;let v="";"object"!=typeof e||r||(v=Object.keys(e).reduce((t,i)=>t+"&"+i+"="+e[i],"")),"POST"==i?v=v&&!r?v.slice(1):e:"GET"==i&&v&&(v=v.replace("&","?"),u+=v),c.open(i,u,!0),v&&"POST"==i?c.send(v):c.send(),c.onreadystatechange=()=>{if(4==c.readyState){let t=c.responseText;200==c.status||203==c.status?n&&n(t):l&&l({responseText:t,statusText:c.statusText})}}}(t,e,i,l,n,o,r,d,a)}).then(t=>{if(o?t={name:e.get("name"),key:e.get("key")}:n||(t=JSON.parse(t)),!n&&!o){const e=t.code;if(-1===e)throw t;if(-2===e)throw t;t=t.data}return[null,t]}).catch(t=>{let i=[{error:t.message,params:e,code:t.code}];return o&&i.push({name:e.get("name")}),i})}const d={getUserSetting:()=>l("users/get_reviews_settings",{shop_id:Review.shop_id}),getInstallStatus(){const t={shop_id:Review.shop_id};return s.A.productId&&(t.product_id=s.A.productId),s.A.isPreview&&(t.is_sandbox=1),"undefined"==typeof vstar_review_settings&&(t.no_metafield=1),l("reviews/get_shop_install_status",t)},getSvg:t=>l("https://cdn.vstar.app/static/images/svg/customer/"+t+".svg?55555",{},"GET",!0),getIcons:()=>l("https://cdn.vstar.app/static/customer/icons.json",{},"GET",!0),getUserNeed:()=>l("reviews/get_custom_info",{shop_id:Review.shop_id}),getLang:()=>l("reviews/get_customer_self_define_lang",{shop_id:Review.shop_id,lang:Review.lang}),getProductRating(t){let e={shop_id:Review.shop_id},i=s.A.productId;return i?e.product_id=i:t&&(e.product_handle=t),l("reviews/get_product_rating",e)},getRating(t){const e={shop_id:Review.shop_id},i=s.A.productId;return"shopReviews"===s.A.showType||"popupShopReviews"===s.A.showType?e.is_store_rating=1:i&&!s.A.isWdoRevOpen?e.product_id=i:e.is_all_products_rating=1,t&&(e.product_handle=t),s.A.isPreview&&(e.is_sandbox=1),a("product/customer/get_rating",e)},getCollRating(t,e){let i={shop_id:Review.shop_id};return t?i.product_handle=t:i.product_id=e,l("reviews/get_products_rating",i)},getProRevList(t,e,i,r,a,d,c,p){i||0===i||(i=(0,o.aQ)()),r||(r=s.A.layoutReviewCount);let u=r;!s.A.isWdoRevOpen&&!s.A.isRevPage||a||(u=15);let v={shop_id:Review.shop_id,limit:u};i&&(v.page=i);const{is_translate_review:g,auto_switch_language:A,is_show_empty_review:w}=s.A.keySettings;void 0!==p?v.no_empty=p?1:2:1!==w&&(v.no_empty=1);const h="shopReviews"===s.A.showType||"popupShopReviews"===s.A.showType;return h?(v.is_store_review=1,v.no_empty=2):s.A.isWdoRevOpen?(v.scene=2,n.A.isPopupProdReviews&&s.A.productId?v.product_id=s.A.productId:v.is_show_all=1):s.A.isMixReview?(v.scene=1,v.is_show_all=1):v.product_id=s.A.productId,e&&!h&&(v.rating_filter=e),a?v.is_buyers_show=a:s.A.allRevLoadLock=!0,(d||n.A.isResourceReviews)&&(v.has_resource=1,v.no_empty=2),c&&(v.review_id=c),v.sort_by=t,n.A.ShowCorrespondingLanguageReviews?v.review_language=window.Shopify?.locale||"en":1!==g&&1!==A||(v.lang=Review.lang),v.t=s.A.revReqParam,l("reviews/get_product_reviews",v)},getReviews({productId:t,sortType:e,ratingFilter:i,page:r,limit:a,isBuyersShow:d,hasResource:c,reviewId:p,noEmpty:u,NotStoreReview:v}){r||0===r||(r=(0,o.aQ)()),a||(a=s.A.layoutReviewCount);let g=a;!s.A.isWdoRevOpen&&!s.A.isRevPage||d||(g=15);let A={shop_id:Review.shop_id,limit:g};r&&(A.page=r);const{is_translate_review:w,auto_switch_language:h,is_show_empty_review:m}=s.A.keySettings;void 0!==u?A.no_empty=u?1:2:1!==m&&(A.no_empty=1),s.A.isPreview&&(A.is_sandbox=1);return("shopReviews"===s.A.showType||"popupShopReviews"===s.A.showType)&&!v?(A.is_store_review=1,A.no_empty=2,delete A.is_sandbox):s.A.isWdoRevOpen?(A.scene=2,n.A.isPopupProdReviews&&s.A.productId?A.product_id=s.A.productId:A.is_show_all=1):s.A.isMixReview?(A.scene=1,A.is_show_all=1):A.product_id=t||s.A.productId,i&&s.A.canFilterRating&&(A.rating_filter=i),d?A.is_buyers_show=d:s.A.allRevLoadLock=!0,(c||n.A.isResourceReviews)&&(A.has_resource=1,A.no_empty=2),p&&(A.review_id=p),A.sort_by=e,n.A.ShowCorrespondingLanguageReviews?A.review_language=window.Shopify?.locale||"en":1!==w&&1!==h||(A.lang=Review.lang),A.t=s.A.revReqParam,l("reviews/get_product_reviews",A)},getProductInfo(t){let e={shop_id:Review.shop_id};return t?e.product_title=t:e.product_id=s.A.productId,l("products/get_shopify_product_info",e)},getProducts(t,e=""){let i=!0,o=location.origin+"/apps/trustoo/api/v1/reviews/get_product_list";(location.origin.includes("http://localhost")||n.A.useOriginalRequest)&&(i=!1,o="reviews/get_product_list");const r={shop_id:s.A.shop_id,page:t};return e&&(r.title=e),n.A.productListLimit&&(r.limit=n.A.productListLimit),l(o,r,"GET",!1,!1,i)},recordInfo:t=>l(location.origin+"/apps/trustoo/api/v1/reviews/collect",t,"GET",!0),getOnlyOneProduct:()=>l("products/get_product_only_one",{shop_id:Review.shop_id}),getWriteRevSetting:()=>a("product/customer/get_write_review_setting",{shop_id:Review.shop_id}),getAttribute:()=>l("reviews/get_product_attribute_collections",{shop_id:Review.shop_id,product_id:s.A.writeTo.productId||s.A.productId}),getAttributeStatistics:()=>l("review/get_attribute_statistics",{shop_id:Review.shop_id,product_id:s.A.productId}),getPolicyToken:()=>l("review/get_policy_token",{shop_id:Review.shop_id}),uploadImg(t){const e=s.A.uploadImgInfo;let i=(0,r.get_suffix)(t.name),n=new FormData;return n.append("name",t.name),n.append("key",e.dir+i),n.append("policy",e.policy),n.append("OSSAccessKeyId",e.accessid),n.append("success_action_status","200"),n.append("callback",e.callback),n.append("signature",e.signature),n.append("file",t),72898347282===s.A.shop_id&&(n=n.fd),l("",n,"POST",!1,!0)},getUploadVideoUrl:()=>l("reviews/get_upload_url",{shop_id:Review.shop_id}),uploadVideo(t,e){let i=new FormData;return i.append("file",e),l(t,i,"POST",!0)},uploadReview(t,e,i){const{shop_id:o}=s.A,r=s.A.ratingVal;let a=!0,d="/";window.Shopify?.routes?.root?.length>1&&(d=window.Shopify.routes.root);let c=location.origin+d+"apps/trustoo/api/v1/reviews/add_review_via_shopify";(location.origin.includes("http://localhost")||n.A.useOriginalRequest)&&(a=!1,c="reviews/add"),t.resources=e.map(({url:t,resource_type:e})=>({url:t,resource_type:e})),location.search.includes("trustoo-reviews-preview")&&!i&&(t.source="sandbox");const p=i?void 0:s.A.writeTo.productId||s.A.productId||void 0;return Object.assign(t,{product_id:p,shop_id:o,rating:r}),l(c,JSON.stringify(t),"POST",!1,!1,a)},getInsList(){const{shop_id:t,insPageSize:e,insCurPage:i}=s.A;return l("reviews/get_instagram_fee_list",{shop_id:t,limit:e,cur_page:i})},getInsSetting(){const{shop_id:t}=s.A;return l("reviews/get_instagram_setting",{shop_id:t})},getAiSummarySettings:()=>a("product/get_customer_review_summary_setting",{shop_id:s.A.shop_id}),getAiSummaryContent(t,e){const i={shop_id:s.A.shop_id,lang:t},n=s.A.productId||e;return n&&(i.product_id=n),a("product/get_customer_review_ai_summary",i)},likeOrDislikeReview(t,e,i){let n="";1===t?n="reviews/like_review":2===t&&(n="reviews/dislike_review");const{shop_id:o}=s.A;return l(n,JSON.stringify({shop_id:o,review_id:i,type:e}),"POST")},getBuyerShowsSettings(){const{shop_id:t}=s.A;return l("reviews/get_buyers_show_settings",{shop_id:t})},sendErrorMsg(t,e){let i={shop_id:Review.shop_id,theme_id:s.A.themeId,type:t,content:e};return l("reviews/warning_feedback",JSON.stringify(i),"POST")},sendImageError(t,e){let i={shop_id:Review.shop_id,review_id:t,media_url:e,feedback_type:1};return a("product/customer_media_feedback",JSON.stringify(i),"POST")}},c={getSetting:()=>l("reviews/get_qa_settings",{shop_id:Review.shop_id}),getList:t=>(Object.assign(t,{shop_id:Review.shop_id,product_id:s.A.productId,page:(0,o.aQ)(),lang:Review.lang}),s.A.isPreview&&(t.is_sandbox=1),l("reviews/get_qa_list",t)),addQA:t=>(t.shop_id=Review.shop_id,t.product_id=s.A.productId,s.A.isPreview&&(t.is_sandbox=1),l("reviews/add_qa",JSON.stringify(t),"POST")),likeOrDislikeQA(t,e,i){let n="";1===t?n="reviews/like_qa":2===t&&(n="reviews/dislike_qa");const{shop_id:o}=s.A;return l(n,JSON.stringify({shop_id:o,qa_id:i,type:e}),"POST")}};s.A.getRevList=d.getReviews},986:(t,e,i)=>{i.r(e),i.d(e,{$dqs:()=>R,$dqsa:()=>S,compressImage:()=>m,copyToClipboard:()=>T,createBanner:()=>N,dealImage:()=>h,debounce:()=>q,findTrustooTargetElement:()=>c,getMobileSystem:()=>x,getObjectURL:()=>b,getTimeStamp:()=>v,getTotalStarString:()=>p,getWindowWidth:()=>_,get_suffix:()=>D,gsLocal:()=>I,gsSession:()=>P,hexToRgba:()=>g,imgLoad:()=>y,imgLoadLimit:()=>f,isMobile:()=>k,isWebPSupported:()=>B,parseDiscountValue:()=>O,processRecordedData:()=>u,returnCitySN:()=>M,scrollTo:()=>C,setCopy:()=>L,setDelay:()=>E,setLoading:()=>w,setObserve:()=>$,setToast:()=>A,setWriteReview:()=>d,validateFileType:()=>H});var s=i(154),n=i(45),o=i(134),r=i(957),a=i(743),l=i(571);async function d(){let t=1;const e=a.A.write;if(!l.A.writePopupEmbedded){l.A.writePopupEmbedded=!0;const i=[];"undefined"==typeof vstar_write_review_settings||l.A.isSettingUpdate?i.push(r.zG.getWriteRevSetting()):i.push([null,vstar_write_review_settings]),l.A.productId?i.push(r.zG.getAttribute()):i.push(Promise.resolve([null,l.A.lang]));let o=!1;0===Object.keys(l.A.lang).length?(o=!0,i.push(r.zG.getLang())):i.push(Promise.resolve([null,l.A.lang]));const[d,c,p]=await Promise.all(i);if(d[0])return;const u=d[1];l.A.writeReviewSettings=u,l.A.productId&&(l.A.attributeConfig=c[1]);let v=p[1];o&&(v=JSON.parse(p[1].lang_json)),l.A.lang=v;const g=u.write_review_form;t=g,l.A.writeRestriction=u.leave_review_method,l.A.writeForm=g,1===g?((0,s.yE)(u),(0,s.Cf)(u)):2===g&&(0,n.P9)(u),1===l.A.userSetting.is_qa_active&&1!==t&&((0,s.yE)(u),(0,s.Cf)(u));const A=R(".trustoo-write-review");if(e.container=A,1===g||1===l.A.userSetting.is_qa_active){const t=R("#trustoo-allinone");e.allInOne=t,e.image=R(".product-image",t),e.prodName=R(".product-right",t),e.title=R(".head-title",t),e.contentLabel=R(".feedback-area>.tt-input-title",t),e.content=R(".big-input",t),e.submit=R(".form-submit",t)}if(1===u.show_review_btn){l.A.writeTo.type=u.write_review_type;const t=a.A[l.A.reviewsKey].writeBtn;"shop"===u.write_review_type&&l.A.isMixReview&&t&&(t.textContent=l.A.lang.store_review.write_btn_text),l.A.globalStyle.textContent+=".trustoo-widget .tt-write-reviews {display: block !important;}"}return d}}function c(){let t=!1;const{isWdoRevOpen:e}=l.A;let i;const s=Array.from(S("#seal-review-widget")).find(t=>t.parentNode.offsetParent);let n="beforebegin";const r=R(".pagefly-review-widget-sealapp"),d=a.A.customReviewsBlock;if(r)i=r,n="beforeEnd";else if(d)i=d,null===d.parentNode.offsetParent&&(t=!0),n="beforeEnd";else if(s)s.parentNode.parentNode.style.padding=0,i=s,n="beforeEnd";else{let e=null,s=o.A.get_move_review_info;Object.keys(s).length&&(e=R(s.selector),n=s.position,t=1===s.is_tab_review);let r=R("#shopify-section-footer"),a=R("main"),l=R("footer"),d=R('.shopify-section[id$="__main"],#shopify-section-product-template');e?i=e:d?(n="afterend",i=d):a?a.contains(l)?i=l:(n="afterend",i=a):r?i=r:l&&(i=l)}i&&(i.dataset.trustooInsertPosition=n,i.dataset.trustooTargetElement=1,!e&&(l.A.revTar=i),l.A.revTarWid=parseInt(window.getComputedStyle(i).width),t&&(i.dataset.trustooIsTabReview=1))}function p(t,e=!1){const{isProPage:i}=l.A,s=l.A.ratingIconSvg;let n="";s||(n=" pending");const o=`<div class="star-item${n}">${s}</div>`,r=`<div class="star-item nostar${n}">${s}</div>`;parseInt(t)||(t=0);for(var a="",d=Math.floor(t),c=0;c<d;c++)a+=o;if(d<t&&e){i&&(l.A.isProHasHalfStar=!0);const e=(100*(t-d)).toFixed(2);d++,a+=`<div class="star-item half-star">\n\t\t<div class="item-nostar${n}">${s}</div>\n    <div class="item-star${n}" style="width:${function(t){let e=parseInt(t)/100;const i=parseInt(t)/100;switch(l.A.userSetting.rating_icon_type){case 13:e=.28+parseFloat((.44*i).toFixed(2));break;case 15:e=.215+parseFloat((.57*i).toFixed(2))}return e*=100,e}(e)}%">\n      ${s}\n    </div>\n  </div> `}for(c=0;c<5-d;c++)a+=r;return a}function u(t,e="",i){if(l.A.isProPage&&l.A.ratingData&&0==l.A.ratingData.rating)return;let s="",n=0;if(localStorage.getItem("trustoo_uv")?s=localStorage.getItem("trustoo_uv"):(s=l.A.shop_id+"_"+(new Date).getTime(),localStorage.setItem("trustoo_uv",s),n=1),l.A.isProPage&&(P("set","tt_pv_product_id",l.A.productId),P("set","tt_cart_product_id",l.A.productId)),!l.A.isRecordPV||i&&!l.A.isRecordCart){l.A.isRecordPV=!0;const o={client_id:s,event_category:t};if(["reviews_click","reviews_view"].includes(t)&&(o.unique_visitor=n),l.A.productId&&(o.product_id=l.A.productId),e)o.cart_token=e,l.A.isRecordCart=!0;else if(l.A.cartWatcher){const t=l.A.cartWatcher.storedCartToken().split("?key=")[0];o.cart_token=t}r.zG.recordInfo(o).then(()=>{i&&P("set","tt_cart_product_id",null)})}}function v(){return(new Date).getTime()}function g(t,e){return 2==e&&(e=1),"rgba("+parseInt("0x"+t.slice(1,3))+","+parseInt("0x"+t.slice(3,5))+","+parseInt("0x"+t.slice(5,7))+","+e+")"}function A(t,e="10%",i="50%"){var s=document.createElement("div");s.className="tt-toast",s.style.cssText=`left:${i};top:${e}`,s.innerHTML=t,document.body.appendChild(s),setTimeout(()=>{document.querySelector(".tt-toast").remove()},1500)}function w(t,e=20){var i=document.createElement("div");i.className="loader",i.style.cssText=`display: inline-block;width:${e}px;height:${e}px`,t.appendChild(i)}function h(t,e,i){let s=new Image;s.src=t,s.onload=function(){let t=document.createElement("canvas"),n=t.getContext("2d"),o=s.width,r=s.height,a="";o<r&&(e.style.backgroundSize="auto 100%");const l=1200,d=1200;let c=o,p=r;(o>l||r>d)&&(o/r>1?(c=l,p=Math.round(l*(r/o))):(p=d,c=Math.round(d*(o/r)))),t.width=c,t.height=p,n.drawImage(s,0,0,c,p),a=t.toDataURL("image/jpg",.8),e.style.backgroundImage=`url(${a})`,i(a)}}async function m(t){return new Promise((e,i)=>{const s=new Image;s.onload=()=>{try{const n=document.createElement("canvas"),o=n.getContext("2d"),r=2e3;let{width:a,height:l}=s;if(a<2e3&&l<2e3)return void e(t);a>l?a>r&&(l=l*r/a,a=r):l>r&&(a=a*r/l,l=r),n.width=a,n.height=l,"image/jpeg"===t.type&&(o.fillStyle="white",o.fillRect(0,0,a,l)),o.drawImage(s,0,0,a,l),n.toBlob(s=>{if(!s)return void i(new Error(""));const n=new File([s],t.name,{type:t.type,lastModified:Date.now()});e(n)},t.type)}catch(t){i(t)}},s.onerror=i,s.src=URL.createObjectURL(t)})}function _(){return window.innerWidth}function f(t,e){const i=[...t];if(i.length<=e){const t=i.map(t=>{var e=y(t);return e.id=t,e});return Promise.all(t)}const s=i.splice(0,e).map(t=>{var e=y(t);return e.url=t,e});i.reduce((t,e)=>t.then(()=>Promise.race(s)).then(t=>{let i=s.findIndex(e=>e.url==t);s.splice(i,1);var n=y(e);n.url=e,s.push(n)}),Promise.resolve()).then(()=>Promise.all(s))}function y(t){return new Promise((e,i)=>{var s=new Image;s.url=t,s.onerror=()=>{i()},s.onload=()=>{e(s)},s.src=t})}function b(t){var e=null;return null!=window.createObjectURL?e=window.createObjectURL(t):null!=window.URL?e=window.URL.createObjectURL(t):null!=window.webkitURL&&(e=window.webkitURL.createObjectURL(t)),e}function $(t,e,i,s){s.observer=new MutationObserver(i),s.observer.observe(t,e)}function C(t,e="smooth"){t.scrollIntoView({behavior:e,block:"start"})}function x(){var t=navigator.userAgent,e=t.indexOf("Android")>-1||t.indexOf("Adr")>-1,i=!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);return e?"android":i?"ios":void 0}function R(t,e){let i;return i=e?e.querySelector(t):document.querySelector(t),i}function S(t,e){let i;return i=e?e.querySelectorAll(t):document.querySelectorAll(t),i}function T(t,e){navigator.clipboard.writeText(t).then(()=>{e()})}function k(){let t=navigator.userAgent,e=/(?:Android)/.test(t),i=/(?:Firefox)/.test(t),s=/(?:iPad|PlayBook)/.test(t)||e&&!/(?:Mobile)/.test(t)||i&&/(?:Tablet)/.test(t),n=/(?:iPhone)/.test(t)&&!s;return e||n}function q(t,e){var i=null;return function(...s){i&&clearTimeout(i),i=setTimeout(()=>{t(...s)},e)}}function L(t){var e=document.createRange();window.getSelection().removeAllRanges(),e.selectNode(t),window.getSelection().addRange(e),document.execCommand("copy")&&A("Copy successfully"),window.getSelection().removeAllRanges()}function E(t){return new Promise(e=>{setTimeout(()=>{e()},t)})}function P(t,e,i){if("set"!==t)return JSON.parse(sessionStorage.getItem(e));try{sessionStorage.setItem(e,JSON.stringify(i))}catch(t){}}function I(t,e,i){if("set"!==t)return JSON.parse(localStorage.getItem(e));localStorage.setItem(e,JSON.stringify(i))}function M(t){fetch("https://www.cloudflare.com/cdn-cgi/trace").then(t=>t.text()).then(e=>{e=e.split("\n"),t.ip=e[2].split("=")[1],t.loc=e[9].split("=")[1]})}function D(t){let e=t.lastIndexOf("."),i="";return-1!=e&&(i=t.substring(e)),function(t){t=t||32;for(var e="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678",i=e.length,s="",n=0;n<t;n++)s+=e.charAt(Math.floor(Math.random()*i));return s}(10)+i}function B(){return new Promise(t=>{const e=new Image;e.onload=function(){t(1===e.width)},e.onerror=function(){t(!1)},e.src="data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoBAAEAAwA0JaQAA3AA/vuUAAA="})}const O=(t,e,i)=>{const s=e.includes("%")?"":i;return t.replace("{{Discount_amount}}",e).replace("{{currency}}",s)};function H(t,e){return!(!t||!t.type)&&("image"===e?t.type.startsWith("image/"):"video"===e?t.type.startsWith("video/"):void 0)}function N(t={}){const{tone:e="info",content:i="",buttons:s=[],closable:n=!1,style:o="",targetEle:r=null,position:a="beforeend"}=t;if(!r)return;const l="warning"===e?"#FFF1E3":"#EAF4FF",d="warning"===e?"#303030":"#00527C";let c="";s&&s.length>0&&(c=s.map(t=>`<a href="${t.url||"#"}" class="tt-banner-button" ${t.target?`target="${t.target}"`:""} style="\n\t\t\t\tfont-size: 12px;\n\t\t\t\tfont-weight: 550;\n\t\t\t\tpadding: 6px 12px;\n\t\t\t\ttext-decoration: none;\n\t\t\t\tcolor: #303030;\n\t\t\t\tbackground: #fff;\n\t\t\t\tborder-radius: 8px;\n\t\t\t\tbox-shadow: 0 -1px 0 0 #B5B5B5 inset, -1px 0 0 0 #E3E3E3 inset, 1px 0 0 0 #E3E3E3 inset, 0 1px 0 0 #E3E3E3 inset;\n\t\t\t\tdisplay: inline-block;\n\t\t\t\tmargin-right: 8px;\n\t\t\t\tline-height: 16px;\n\t\t\t">${t.text}</a>`).join(""));const p=n?`<div class="tt-banner-close" style="cursor: pointer;">\n\t\t<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">\n<path d="M12.7197 13.7803C13.0126 14.0732 13.4874 14.0732 13.7803 13.7803C14.0732 13.4874 14.0732 13.0126 13.7803 12.7197L11.0607 10L13.7803 7.28033C14.0732 6.98744 14.0732 6.51256 13.7803 6.21967C13.4874 5.92678 13.0126 5.92678 12.7197 6.21967L10 8.93934L7.28033 6.21967C6.98744 5.92678 6.51256 5.92678 6.21967 6.21967C5.92678 6.51256 5.92678 6.98744 6.21967 7.28033L8.93934 10L6.21967 12.7197C5.92678 13.0126 5.92678 13.4874 6.21967 13.7803C6.51256 14.0732 6.98744 14.0732 7.28033 13.7803L10 11.0607L12.7197 13.7803Z" fill="${d}"/>\n</svg></div>`:"",u=document.createElement("div");u.className="tt-banner-container trustoo-widget",u.style.cssText=`\n\tbackground-color: ${l};\n\tpadding: 8px;\n\tborder-radius: 8px;\n\tmargin: 10px 0;\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: flex-start;\n\t${o}\n`,u.innerHTML=`\n\t\t\t<div class="tt-banner-content" style="display: flex;flex-direction: column;gap: 12px;flex: 1;">\n\t\t\t\t<div class="tt-banner-text" style="font-size: 13px;color: ${d};line-height: 1.4;">${i}</div>\n\t\t\t\t${c?`<div class="tt-banner-buttons">${c}</div>`:""}\n\t\t\t</div>\n\t\t\t${p}\n\t`,r.insertAdjacentElement(a,u),p&&u.querySelector(".tt-banner-close").addEventListener("click",()=>{u.remove()})}}},e={};function i(s){var n=e[s];if(void 0!==n)return n.exports;var o=e[s]={id:s,exports:{}};return t[s](o,o.exports,i),o.exports}i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var s in e)i.o(e,s)&&!i.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var s=i(986),n=i(571),o=i(957),r=i(429),a=i(638),l=i(657),d=i(134),c=i(778),p=i(220);function u(){return{positive_keywords:[{keyword:"Easy to Use",percentage:"80%",description:"Customers find the product intuitive and effortless to use in daily life."},{keyword:"Reliable",percentage:"70%",description:"Mentioned often for its consistent performance and dependable functionality over time."},{keyword:"Value for Money",percentage:"50%",description:"Seen as affordable while offering strong value and performance for the price."},{keyword:"Well-designed",percentage:"40%",description:"Praised for its thoughtful design that balances aesthetics and practical usability."},{keyword:"Good Quality",percentage:"40%",description:"Many highlight the durable materials and overall solid craftsmanship."}],summary:"Most customers are highly satisfied with their purchases.They consistently highlight the products thoughtful design, smooth functionality, and reliable performance over time.Many reviewers describe it as an easy addition to their daily routines, working well across different settings such as home, work, or travel."}}const v=async function(t,e){let i="";t&&(i=t.dataset.productId);const r=1===n.A.keySettings.auto_switch_language?window.Shopify?.locale:n.A.keySettings.language,a="undefined"==typeof vstar_ai_summary_settings||n.A.isSettingUpdate?o.zG.getAiSummarySettings():Promise.resolve([null,vstar_ai_summary_settings]),l=e?Promise.resolve([null,u()]):o.zG.getAiSummaryContent(r,i),[d,c]=await Promise.all([a,l]),p=d[1],v=c[1]||u(),g=n.A.isProPage||i,A=e&&n.A.isProPage&&1!==p.product.is_active&&!t;let w={},h="",m="",_="summary.home_summary_title",f="summary.home_summary_generated";w=g?p.product:p.home,g&&(_="summary.product_summary_title",f="summary.product_summary_generated"),Object.keys(n.A.lang).length>0&&(g?(h=n.A.lang.summary.product_summary_title,m=n.A.lang.summary.product_summary_generated):(h=n.A.lang.summary.home_summary_title,m=n.A.lang.summary.home_summary_generated)),function(t){const e=n.A.globalStyle.textContent;n.A.globalStyle.textContent=`\n\t\t.tt-ai-summary {\n\t\t--tt-title-color: ${t.title_color};\n\t\t--tt-summary-text-color: ${t.summary_text_color};\n\t\t--tt-summary-bg: ${t.summary_bg_color};\n\t\t--tt-keywords-badge-background: ${t.badge_bg_color};\n\t\t--tt-keywords-badge-text: ${t.badge_text_color};\n\t\t}${e}\n\t`}(w);const y="tt-reviews-"+Math.random().toString(36).substr(2,9),b={...{summary:v.summary,keywords:v.positive_keywords}},$='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path d="M5.70187 4.25479C5.93894 3.82132 6.5615 3.82132 6.79857 4.25479L6.99466 4.61333C7.20114 4.99086 7.51154 5.30126 7.88907 5.50773L8.24761 5.70383C8.68107 5.9409 8.68107 6.56345 8.24761 6.80052L7.88907 6.99661C7.51154 7.20309 7.20114 7.51349 6.99466 7.89102L6.79857 8.24956C6.5615 8.68303 5.93894 8.68303 5.70187 8.24956L5.50578 7.89102C5.2993 7.51349 4.9889 7.20309 4.61138 6.99661L4.25283 6.80052C3.81937 6.56345 3.81937 5.9409 4.25283 5.70383L4.61138 5.50773C4.9889 5.30126 5.2993 4.99086 5.50578 4.61333L5.70187 4.25479Z"/>\n              <path fill-rule="evenodd" clip-rule="evenodd" d="M12.9484 7.89135C12.7683 6.72504 11.0963 6.70215 10.8843 7.86309L10.8544 8.02661C10.5693 9.58824 9.33305 10.8019 7.76645 11.0583C6.6171 11.2464 6.59333 12.8909 7.73675 13.1121L7.84168 13.1324C9.37457 13.4291 10.5732 14.6277 10.8699 16.1606L10.9018 16.3258C11.1356 17.5341 12.8648 17.5341 13.0986 16.3258L13.1235 16.1971C13.4238 14.6452 14.6453 13.4364 16.2003 13.1525C17.3845 12.9362 17.3196 11.2238 16.1291 11.045C14.4985 10.8001 13.2001 9.52092 12.9484 7.89135ZM12.0045 14.7786C12.5126 13.6223 13.4159 12.6844 14.5458 12.132C13.3976 11.6221 12.4618 10.7167 11.9186 9.58355C11.4035 10.682 10.5221 11.5692 9.4304 12.0922C10.5804 12.6475 11.497 13.6016 12.0045 14.7786Z"/>\n          </svg>',C='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path fill-rule="evenodd" clip-rule="evenodd" d="M5.71967 8.46967C6.01256 8.17678 6.48744 8.17678 6.78033 8.46967L10.25 11.9393L13.7197 8.46967C14.0126 8.17678 14.4874 8.17678 14.7803 8.46967C15.0732 8.76256 15.0732 9.23744 14.7803 9.53033L10.7803 13.5303C10.4874 13.8232 10.0126 13.8232 9.71967 13.5303L5.71967 9.53033C5.42678 9.23744 5.42678 8.76256 5.71967 8.46967Z"/>\n          </svg>',x='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M4.62991 8.81108C5.28736 5.84551 8.2244 3.97442 11.19 4.63187C11.5944 4.72152 11.9949 4.46637 12.0845 4.06198C12.1742 3.65758 11.919 3.25708 11.5146 3.16742C7.74027 2.33067 4.00223 4.71207 3.16547 8.48642C2.32872 12.2608 4.71011 15.9988 8.48447 16.8356C12.2588 17.6723 15.9969 15.2909 16.8336 11.5166C16.9233 11.1122 16.6681 10.7117 16.2637 10.622C15.8593 10.5324 15.4588 10.7875 15.3692 11.1919C14.7117 14.1575 11.7747 16.0286 8.80912 15.3711C5.84356 14.7137 3.97247 11.7766 4.62991 8.81108Z"/>\n<path d="M16.0299 6.78131C16.3228 6.48842 16.3228 6.01354 16.0299 5.72065C15.737 5.42776 15.2621 5.42776 14.9692 5.72065L9.99955 10.6903L7.77988 8.47065C7.48699 8.17776 7.01211 8.17776 6.71922 8.47065C6.42633 8.76354 6.42633 9.23842 6.71922 9.53131L9.46922 12.2813C9.76211 12.5742 10.237 12.5742 10.5299 12.2813L16.0299 6.78131Z"/>\n</svg>\n',R=sessionStorage.getItem("tt-ai-summary-expanded"),S=`\n          <div id="trustoo-ai-summary-wrapper" ${A?"data-preview-recommend":""}><div class="tt-ai-summary trustoo-widget"  id="${y}">\n              <div class="tt-header-title">\n                  <div class="tt-header-icon">${$}</div>\n                  <span ${_?`data-tt-lang-path="${_}"`:""}>${h}</span>\n              </div>\n              <div class="tt-summary-text">${b.summary}</div>\n              \n              <div class="tt-ai-section">\n                  <div class="tt-ai-header">\n                      <div class="tt-ai-title" ${f?`data-tt-lang-path="${f}"`:""}>${m}</div>\n                      <div class="tt-expand-icon${R?" tt-expanded":""}" id="${y}-expand">${C}</div>\n                  </div>\n                  \n                  <div class="tt-keywords-summary${R?" tt-hidden":""}" id="${y}-summary">\n                      ${b.keywords.map(t=>`<div class="tt-keyword-badge">\n                  <div class="tt-keyword-icon">${x}</div>\n                  <span>${t.keyword} <span class="tt-percentage">(${t.percentage})</span></span>\n              </div>`).join("")}\n                  </div>\n                  \n                  <div class="tt-keywords-detail${R?" tt-expanded":""}" id="${y}-detail">\n                      <div class="tt-keywords-list">\n                          ${b.keywords.map(t=>`<div class="tt-keyword-item">\n                  <div class="tt-keyword-item-top">\n                      <div class="tt-keyword-label">\n                          <div class="tt-keyword-icon">${x}</div>\n                          <span class="tt-keyword-name">${t.keyword}</span>\n                          <span class="tt-percentage tt-desktop-percentage">(${t.percentage})</span>\n                      </div>\n                      <span class="tt-mobile-percentage">${t.percentage} ${function(t){const e={ar:"",bg:"",cs:"zmnno",da:"nvnt",de:"erwhnt",el:"",es:"mencionado",et:"mainitud",fi:"mainittu",fr:"mentionn",he:"",hr:"spomenuto",hu:"emltve",hy:"",id:"disebutkan",it:"menzionato",ja:"",ka:"",ko:"",lt:"paminta",lv:"mints",ms:"disebut",nl:"genoemd",no:"nevnt",pl:"wspomniane",pt:"mencionado",ro:"menionat",sk:"spomenut",sl:"omenjeno",sr:"",sv:"nmnt",th:"",tr:"bahsedildi",uk:"",vi:"c  cp",zh:""},i=Object.keys(e).find(e=>t.includes(e));return i?e[i]:"Mentioned"}(r)}</span>\n                  </div>\n                  <div class="tt-keyword-description">${t.description}</div>\n              </div>`).join("")}\n                      </div>\n                  </div>\n              </div>\n          </div>\n          </div>\n      `;if(t)t.insertAdjacentHTML("afterbegin",S);else{const t=(0,s.$dqs)("#trustoo-widget-wrapper");if(t)t.insertAdjacentHTML("afterbegin",S);else if(n.A.revTar){const t=n.A.revTar.dataset.trustooInsertPosition;n.A.revTar.insertAdjacentHTML(t,`<div id="trustoo-widget-wrapper" style="display: flex;flex-direction: column;">${S}</div>`)}}const T=document.getElementById(y);T.offsetWidth<600&&T.classList.add("tt-ai-summary-mobile"),(0,s.$dqs)(".tt-ai-header",T).addEventListener("click",()=>{!function(t){const e=document.getElementById(t+"-expand"),i=document.getElementById(t+"-detail"),s=document.getElementById(t+"-summary");e.classList.toggle("tt-expanded"),i.classList.toggle("tt-expanded"),i.classList.contains("tt-expanded")?sessionStorage.setItem("tt-ai-summary-expanded","true"):sessionStorage.removeItem("tt-ai-summary-expanded");s.classList.toggle("tt-hidden")}(y)});let k="";if(n.A.lang.preview&&n.A.lang.preview.activate_widget){let t="sealapps-product-review";"sit"===n.A.env?t="vstar-sit":["development","local"].includes(n.A.env)&&(t="vstar-dev");const e=new URLSearchParams(location.search).get("store-name");k=n.A.lang.preview.activate_widget.replace("<0>",`<a href='https://admin.shopify.com/store/${e}/apps/${t}/display/summary' style="color:#00527C;text-decoration: underline;">`).replace("</0>","</a>")}if(A){const t=T.parentNode,e=n.A.lang.preview?.ai_summary||"Recommended Widgets:AI Summary";if((0,s.createBanner)({tone:"info",content:k,targetEle:t,closable:!0,position:"afterbegin",style:"margin-left: 12px;margin-right: 12px"}),!k){(0,s.$dqs)(".tt-banner-text",t).dataset.ttLangPath="preview.activate_widget"}t.insertAdjacentHTML("afterbegin",`<div style="font-size: 16px;font-weight: 650;margin: 8px 0;padding: 0 12px" data-tt-lang-path="preview.ai_summary">${e}</div>`)}return{id:y,element:document.getElementById(y),config:b}};var g=i(72),A=i.n(g),w=i(825),h=i.n(w),m=i(659),_=i.n(m),f=i(868),y=i.n(f),b=i(540),$=i.n(b),C=i(113),x=i.n(C),R=i(472),S={attributes:{id:"trustoo-insert-css"}};S.styleTagTransform=x(),S.setAttributes=y(),S.insert=_().bind(null,"head"),S.domAPI=h(),S.insertStyleElement=$();A()(R.A,S);R.A&&R.A.locals&&R.A.locals;var T=i(381),k=i(877),q=i(743),L=i(651);async function E(){let t,e;const{isActWdoRev:i,globalStyle:l,isHomePage:u,isProPage:g,isCartPage:A,isCollPage:w,hasPyRating:h,hasEcomRt:m}=n.A,{pageType:_,isMobile:f}=Review,{isCollReview:y,isCollStartDelay:b,isPageReview:$,reviewsPageCount:C,homeStarDelay:x}=d.A;let R=!1,S=!1;const L=1===n.A.keySettings.is_ai_home_active&&u||1===n.A.keySettings.is_ai_product_active&&g,E=Array.from((0,s.$dqsa)(".trustoo-ai-summary-block")).find(t=>t.offsetParent);if((L||E||n.A.isProPage&&location.search.includes("trustoo-reviews-preview"))&&(S=!0),S){const t=n.A.isProPage&&location.search.includes("trustoo-reviews-preview");v(E,t),R=!0}await async function(t){const e=[],i=(new Date).getTime();0===Object.keys(n.A.userSetting).length?e.push(o.zG.getUserSetting()):e.push(Promise.resolve([null,null]));const{is_activate_home_reviews:r,is_activate_reviews:a,is_activate_product_rating:l,is_activate_collection_rating:c,is_activate_home_rating:p,language:u,auto_switch_language:v,reviews_per_page_number:g,review_sort_by:A,is_hide_ratings:w,show_attribute:h,is_active_store_review:m}=n.A.keySettings,_=(0,s.$dqs)("#seal-review-widget"),f=_||q.A.customReviewsBlock,y=f||n.A.isProPage&&1===a||n.A.isHomePage&&1===r||(n.A.isProPage||n.A.isHomePage)&&1===m||d.A.isPageReview||n.A.isActWdoRev||d.A.isCollReview;y||t||1===c&&(n.A.isCollPage||d.A.otherPageColl)||1===l&&n.A.isProPage||1===p&&n.A.isHomePage||n.A.hasPyRating||n.A.hasEcomRt?e.push(async function(t,e){let i=!0;if(1===t){const t=Shopify.locale;Review.lang=t,t!==e&&(i=!1)}else Review.lang=e;return"undefined"==typeof vstar_lang_json||!i||n.A.isSettingUpdate?o.zG.getLang():Promise.resolve([null,null])}(v,u)):e.push(Promise.resolve([null,null]));n.A.layoutReviewCount=g,d.A.reviewsPageCount&&(n.A.layoutReviewCount=d.A.reviewsPageCount);let b=Promise.resolve([null,null]);n.A.productId||n.A.isHomePage||(n.A.isMixReview=!0);(!n.A.isProPage&&"store"===n.A.keySettings.all_reviews_display_type||n.A.isProPage&&"store"===n.A.keySettings.product_reviews_display_type)&&(n.A.showType="shopReviews");n.A.isProPage?b=n.A.reviewsData?Promise.resolve([null,n.A.reviewsData]):(1===a||_)&&(n.A.ratingData.total_reviews>0||!n.A.ratingData.total_reviews)||"shopReviews"===n.A.showType?o.zG.getReviews({sortType:A}):Promise.resolve([null,null]):n.A.isHomePage?b=Promise.resolve([null,null]):y&&(b=o.zG.getReviews({sortType:A}));e.push(b),"shopReviews"===n.A.showType?e.push(o.zG.getRating()):n.A.productId?0===Object.keys(n.A.ratingData).length?e.push(o.zG.getRating()):e.push(Promise.resolve([null,null])):d.A.isPageReview||d.A.isCollReview||f||n.A.isHomePage&&1===r?e.push(o.zG.getRating()):e.push(Promise.resolve([null,null]));n.A.productId&&1===h&&1!==w?e.push(o.zG.getAttributeStatistics()):e.push(Promise.resolve([null,null]));const $=new Promise((t,e)=>{const i=(0,s.$dqs)("link[href*='trustoo-reviews.min.css']");if(i)t(i);else{const i=window.TrustooReviews.reviews.trustooCSSLink||"https://cdn.vstar.app/static/dist/css/trustoo-reviews.min.css",s=document.createElement("link");s.rel="stylesheet",s.href=i,d.A.setLinkMedia&&(s.media="print"),document.head.appendChild(s),s.onload=()=>{t(s),s.media="all"},s.onerror=()=>{e(new Error("CSS link not found"))}}});e.push($),await Promise.all(e).then(t=>{const[e,o,r,a,l]=t;if(window.TrustooReviews.reviews.requestTime=(new Date).getTime()-i,e[1]&&(n.A.userSetting=e[1]),d.A.fixedSort&&(n.A.userSetting.review_sort_by=d.A.fixedSort),r[1]){const t=r[1];n.A.pageInfo[n.A.showType]={total:t.page.total_page,curPage:t.page.cur_page,count:t.page.count};const e="shopReviews"===n.A.showType?"trustoo_shop_reviews":"trustoo_reviews";(0,s.gsSession)("set",e,[t.list])}let c=n.A.ratingData;if(a&&a[1]){const t=a[1];t.rating=parseFloat(t.rating).toFixed(d.A.bigRatingDigits-1),n.A.productId?n.A.ratingData=t:(c=t,n.A.allRatingData=t)}if(c.rating&&(c.rating=parseFloat(c.rating).toFixed(d.A.bigRatingDigits-1)),o&&o[1]){let t=null;t=o[1].lang_json?JSON.parse(o[1].lang_json):o[1],t.show_full_review&&(n.A.ellipsisText=t.show_full_review),Object.assign(n.A,{lang:t})}else"undefined"!=typeof vstar_lang_json&&(n.A.lang=vstar_lang_json);!function(){if(n.A.isProPage&&location.search.includes("trustoo-reviews-preview")){const t=new URLSearchParams(location.search).get("store-name"),e=document.createElement("div");e.className="tt-preview-banner-wrapper",e.style.cssText="position: sticky; top: 0; padding:0 16px; z-index: 1000;",document.body.insertAdjacentElement("afterbegin",e);let i="sealapps-product-review";"sit"===n.A.env?i="vstar-sit":["development","local"].includes(n.A.env)&&(i="vstar-dev"),n.A.lang.preview.activate_widget=n.A.lang.preview.activate_widget.replace("<0>",`<a href='https://admin.shopify.com/store/${t}/apps/${i}/display/summary' style='color:#00527C;text-decoration: underline;'>`).replace("</0>","</a>"),(0,s.createBanner)({tone:"warning",content:n.A.lang.preview.sandbox_preview,buttons:[{text:n.A.lang.preview.check_store,url:location.origin+location.pathname,target:"_blank"}],targetEle:e}),(0,s.createBanner)({tone:"info",content:n.A.lang.preview.no_review,closable:!0,buttons:[{text:n.A.lang.preview.import_reviews,url:`https://admin.shopify.com/store/${t}/apps/${i}/import`},{text:n.A.lang.preview.collect_reviews,url:`https://admin.shopify.com/store/${t}/apps/${i}/collect`}],targetEle:e})}}(),(0,s.$dqsa)("[data-tt-lang-path]").forEach(t=>{const e=t.dataset.ttLangPath.split(".").reduce((t,e)=>t?.[e],n.A.lang);e&&(t.innerHTML=e)}),l&&l[1]&&(n.A.attributeStatistics=l[1])})}(R);const I=n.A.userSetting;Review.is_product_open=I.is_activate_product_rating,Review.is_reviews_open=I.is_activate_reviews,Review.is_collection_open=I.is_activate_collection_rating,Review.is_activate_home_rating=I.is_activate_home_rating,Review.is_show_stars_without_review=I.is_show_stars_without_review,n.A.userSetting=I,n.A.revHeadType=1===I.is_hide_ratings?2:1;const M=1===I.is_activate_search_rating&&n.A.isSearchResultsPage,D=(0,s.$dqs)("#trustoo-mask");D?q.A.mask=D:(document.body.insertAdjacentHTML("beforeend",'<div id="trustoo-mask" style="display:none"></div>'),q.A.mask=(0,s.$dqs)("#trustoo-mask"));const B=I,O="collection"!=_||y||i||$;if(O){let i=!1,o=!1,r=!1;const a=d.A.fixedLayout||I.layout;1==a||3==a?(t="list-",i=!0,3==a&&(r=!0)):2==a&&(t="grid-",o=!0,n.A.gridLoadedShowImg=0,n.A.gridShowImgCount=0),e=B.reviews_per_page_number,C&&(e=C),(0,s.returnCitySN)(n.A),Object.assign(n.A,{layoutClass:t,layoutReviewCount:e,globalStyle:l,isGrid:o,isList:i,isSplit:r})}window.TrustooReviews.reviews.hasReviews=!1,function(t,e){let i=`.vstar-star{--star-color:${n.A.userSetting.star_color};\n\t--nostar-color:${n.A.userSetting.nostar_color};}`;if(e){const e=t.font_color;let o=t.box_bg_color;const r=n.A.theme_store_id;1356!==r&&1567!==r||"#FFFFFF"===o&&(o="#FFFFFF00");let a=t.border_radius+"px";const l="Dark"===t.card_shadow?"1px 1px 6px rgba(0, 0, 0, 0.1)":"0px 0px 3px rgba(0, 0, 0, 0.2)";if(i+=`\n        #reviews-wrapper,#noreviews-wrapper\n      \t{\n          background-color: ${o};\n          --font-color: ${e};\n          --font-color-o4: ${(0,s.hexToRgba)(e,.4)};\n          --font-color-o7: ${(0,s.hexToRgba)(e,.7)};\n          --font-color-o8: ${(0,s.hexToRgba)(e,.8)};\n\t\t\t\t\t--font-size:${t.font_size}px;\n          --bg-color:${o};\n          --badge-text-color:${t.badge_text_color};\n          --badge-color:${t.verified_badge_color};\n          --card-color:${t.card_bg_color};\n          --box-bg-color:${o};\n          --button-radius:${a};\n          --button-color:${t.button_color};\n          --button-bd-color:${t.button_bg_color};\n          --button-border-color:${t.button_border_color};\n\t\t\t\t\t--line-color:${t.dividing_line_color};\n\t\t\t\t\t--reply-bg-color:${t.reply_bg_color};\n\t\t\t\t\t--avatar-text-color:${t.avatar_text_color};\n\t\t\t\t\t--avatar-bg-color:${t.avatar_bg_color};\n\t\t\t\t\t--attr-bg-color:${t.attributes_bg_color};\n\t\t\t\t\t--attr-color:${t.attributes_color};\n        }\n\t\t\t\t.trustoo-widget{--sprites-image-url:url(https://${n.A.staticBaseUrl}/static/images/sprites/trustoo_sprites.png?${n.A.constructTime});}\n        #vstar-window-review,#vstar-window-review #reviews-wrapper,\n        #vstar-window-review #vstar-reviews{background-color: ${o.slice(0,7)};}\n        #vstar-reviews.pending>* {\n          opacity: 0 !important;\n        }\n\t\t\t\t.trustoo-widget #reviews-body .grid-review{\n\t\t\t\t\tbox-shadow: ${l};\n\t\t\t\t}\n\t\t\t\t.trustoo-widget #reviews-body .reviews-text{\n\t\t\t\t\tfont-size:${t.font_size}px;\n\t\t\t\t}\n\t\t\t\t.product-icon-list i{\n\t\t\t\t\tfont-size:20px\n\t\t\t\t}\n        #trustoo-allinone i,\n        .write-review-container i{font-size:16px}\n        #reviews-head i{font-size:20px}\n\t\t\t\t${t.font?`.trustoo-widget *,.vstar-star .tt-rating-text,#vstar-tab{font-family: ${t.font}}`:""}\n\t\t\t\t${n.A.userSetting.reviews_css_code}\n        `,t.qa_colors){const e=t.qa_colors.split(",");i+=`.trustoo-widget{--tab-title-color:${e[0]};\n\t\t\t\t\t--tab-title-line-color:${e[1]};\n\t\t\t\t\t--question-color:${e[3]};\n\t\t\t\t\t--question-color-o8: ${(0,s.hexToRgba)(e[3],.8)};\n\t\t\t\t}`}n.A.isGrid?i+=`.grid-review{background-color: ${t.card_bg_color}}\n      .trustoo-widget #reviews-body{margin-top:16px !important}`:i+=`.trustoo-widget .resource-item{border-radius: ${t.photo_radius}px}`}i+=n.A.userSetting.rating_css_code,void 0!==d.A.custom_style_info.css_style_code&&(i+=d.A.custom_style_info.css_style_code);d.A.vstarCustomSty&&(i+=d.A.vstarCustomSty);n.A.globalStyle.insertAdjacentHTML("beforeend",i)}(I,O);const H=h||m,N=w||d.A.otherPageColl||M;if(g){n.A.isProRatingOpen=1===I.is_activate_product_rating||H,1==I.layout?((1==I.is_transparent||f)&&(I.is_transparent=0),B.card_bg_color=(0,s.hexToRgba)(I.card_bg_color,I.is_transparent)):B.card_bg_color=I.card_bg_color;const t=new URLSearchParams(window.location.search);if(t.get("req")){n.A.isLinkReqRev=!0,n.A.writeLinkParams={source:"store_link"};const e=t.get("dondy");"string"==typeof e&&(n.A.writeLinkParams.dondy=e)}1===I.is_activate_reviews&&(n.A.isRevOpen=!0),await(0,a.getTotalRating)()}else if(u){let t,e,i="",l=[],{productId:p,productImageUrl:u,productName:v}=n.A,g=!1;if(n.A.isHomeRatingOpen=1===I.is_activate_home_rating||H,(1===I.is_activate_home_reviews||q.A.customReviewsBlock)&&(n.A.isRevOpen=!0,n.A.isHomeReview=g=!0,!n.A.productId)){let[e,s]=await o.zG.getOnlyOneProduct();t=s,null===e&&t&&(p=t.product_id,v=t.product_title,u=t.image_src,i=t.product_handle)}if(1===I.is_activate_home_rating||g){if(d.A.notExecuteHomeFeatureProd||(await(0,c.rU)(),e=Review.proTarget),1===I.is_activate_home_rating){x&&await(0,s.setDelay)(x),await(0,r.M0)(),l=Review.collTarget;let t=l.length;1===t?l[0]===e?l.pop():(0,a.setInsertTarget)(2):0!==t?((l.includes(e)||l[0].contains(e))&&(Review.proTarget=e=null),(0,a.setInsertTarget)(2)):n.A.isSetObserver&&(0,r.DF)()}if(!p&&e&&(v=Review.proTarget.textContent.replace(/\n/g,"").trim(),v)){let[t,e]=await o.zG.getProductInfo(encodeURIComponent(v));null===t&&e&&(p=e.product_id,u=e.image_src,i=e.product_handle)}g&&(t||p||(n.A.isMixReview=!0)),d.A.isHomeAllReviews&&(n.A.isMixReview=!0),Review.productId=p,Object.assign(n.A,{productId:p,productName:v,productImageUrl:u,productHandle:i}),(p||n.A.isMixReview)&&await(0,a.getTotalRating)()}}else if(A){if((0,s.gsSession)("get","tt_cart_product_id")){n.A.cartWatcher=new k.N,await n.A.cartWatcher.init();const t=n.A.cartWatcher.storedCartToken().split("?key=")[0];(0,s.processRecordedData)("add_to_cart",t,!0)}q.A.customReviewsBlock&&P()}else if($&&!N){let t={};n.A.allRev&&(t.tarNode=n.A.allRev,t.position="afterbegin"),n.A.isInsertRev=!0,P()}else if(N){(2!==I.is_activate_collection_rating||M)&&(b&&await(0,s.setDelay)(2e3),await(0,r.M0)(),0===Review.collTarget.length?n.A.isSetObserver&&(0,r.DF)():(0,a.setInsertTarget)(2)),(1===B.is_activate_reviews&&y||q.A.customReviewsBlock)&&P()}!H||n.A.isProPage||n.A.isHomePage&&1===I.is_activate_home_rating||n.A.isCollPage&&1===I.is_activate_collection_rating||(0,a.setInsertTarget)(2),window.TrustooReviews.carousel.canWriteReview&&(0,s.setWriteReview)(),(0,p.qM)(),(n.A.isProPage||d.A.reviewsSnippetProdId)&&(0,T.D)()}function P(){n.A.isMixReview=!0;let t=n.A.allRatingData;n.A.productId&&(n.A.isMixReview=!1,t=n.A.ratingData),t.total_reviews>0?(0,l.Gs)({}):(0,l.WC)(),(0,s.setWriteReview)()}window.TrustooReviews||(window.TrustooReviews={reviews:{},carousel:{}}),window.TrustooReviews.reviews.handleWriteReview=l.iB,window.TrustooReviews.reviews.createBanner=s.createBanner,window.TrustooReviews.reviews.setWriteReview=s.setWriteReview,window.TrustooReviews.reviews.createRangeDisplayHTML=L.Tl;var I=i(357);window.TrustooReviews||(window.TrustooReviews={reviews:{},carousel:{}});!async function(){if(window.isTrustooReviewsExecuted)return;window.isTrustooReviewsExecuted=!0;let t,e="";if(window.Review={},Review.observeCount=0,n.A.productId=shopifyObj.productId,n.A.env="production",n.A.staticBaseUrl="cdn.vstar.app",n.A.apiDomain="rapi.trustoo.io",window.TrustooReviews.apiDomain="rapi.trustoo.io",n.A.isMobile=Review.isMobile=(0,s.isMobile)(),Review.constructTime="2026-01-07 10:10:30",n.A.constructTime=new Date("2026-01-07 10:10:30").getTime()/1e3,Review.theme={},"undefined"!=typeof Shopify&&(Review.shop=Shopify.shop,Object.assign(Review.theme,Shopify.theme)),(0,s.$dqs)("body.warehouse--v1")&&(Review.theme.name="warehouse"),n.A.baseUrl=Review.baseUrl="api.trustoo.io",n.A.isWebPSupported=await(0,s.isWebPSupported)(),location.search.includes("trustoo-reviews-preview")&&(n.A.isPreview=!0),Review.collTarget=[],Review.loadedPhoto=[],Review.checkGridHighMsg=[],Review.checkGridMsg=[],window.ShopifyAnalytics)t=window.ShopifyAnalytics&&ShopifyAnalytics.lib&&ShopifyAnalytics.lib.config&&ShopifyAnalytics.lib.config.Trekkie.defaultAttributes.shopId,t||(t=shopifyObj.shop_id),Review.shop_id=n.A.shop_id=t,"undefined"!=typeof Shopify&&Shopify.theme&&(n.A.theme_store_id=Shopify.theme.theme_store_id,n.A.themeId=Shopify.theme.id),e=window.ShopifyAnalytics&&window.ShopifyAnalytics.meta.page.pageType;else{if(!document.querySelector("#seal_shop_id"))return;window.TrustooReviews.pageType&&(e=window.TrustooReviews.pageType);const t=JSON.parse(document.querySelector("#seal_shop_id").textContent);if(Review.shop_id=n.A.shop_id=t,"product"===e){const t=JSON.parse(document.querySelector("#tt_product").textContent);Review.productId=n.A.productId=t.id,n.A.productName=t.title,n.A.productImageUrl=t.image_url}}Review.pageType=e,n.A.pageType=e,n.A.isHomePage="index"===e||"home"===e,n.A.isCollPage="collection"===e,n.A.isProPage="product"===e,n.A.isCartPage="cart"===e,n.A.isSearchResultsPage="searchresults"===e;const i=await o.zG.getInstallStatus(),r=i[1];if(null!==i[0]||-1===r.code)return;if(n.A.isProRatingUpdate=1===r.product_rating_updating,n.A.isSettingUpdate=1===r.shop_setting_updating,n.A.isReviewsUpdate=1===r.product_review_updating,n.A.isReviewsUpdate?n.A.revReqParam=(new Date).getTime():n.A.revReqParam=r.product_review_updating,(0,s.gsSession)("set","instagram_is_install",r.instagram_is_install),(0,s.gsSession)("set","trustoo_reviews",[]),(0,s.gsSession)("set","trustoo_shop_reviews",[]),1!==r.review_is_install)return;const l="undefined"!=typeof vstar_review_settings&&vstar_review_settings;l&&!n.A.isSettingUpdate?(n.A.userSetting=l,Object.keys(n.A.keySettings).forEach(t=>{n.A.keySettings[t]=l[t]}),n.A.isActWdoRev=1===l.sidetab_setting.sidetab_is_enabled,"undefined"!=typeof vstar_ai_summary_settings&&(n.A.keySettings.is_ai_home_active=vstar_ai_summary_settings.home.is_active,n.A.keySettings.is_ai_product_active=vstar_ai_summary_settings.product.is_active)):r.widgets_setting&&(n.A.isActWdoRev=1===r.widgets_setting.sidetab_is_enabled,n.A.keySettings=r.widgets_setting),n.A.isProPage&&("undefined"!=typeof vstar_product_rating&&vstar_product_rating.hasOwnProperty("rating")&&!n.A.isProRatingUpdate?n.A.ratingData=vstar_product_rating:r.rating&&(n.A.ratingData=r.rating),"undefined"==typeof vstar_product_reviews||n.A.isReviewsUpdate||0===Object.keys(n.A.userSetting).length||1===n.A.keySettings.is_active_store_review||1===n.A.userSetting.auto_switch_language||(n.A.reviewsData=vstar_product_reviews)),d.A.setPageReview(t);const c=(0,s.$dqsa)(".pagefly-star-rating-sealapp"),p=(0,s.$dqsa)(".ecom-star-rating-sealapp"),u=(0,s.$dqsa)(".custom-vstar-rating-widget");if(0!==c.length?(n.A.hasPyRating=!0,Review.collTarget=Array.from(c)):0!==p.length&&(n.A.hasEcomRt=!0,Review.collTarget=Array.from(p)),0!==u.length&&(n.A.hasPyRating=!0,Review.collTarget=Array.from(u)),"undefined"!=typeof trustooBeforeExecute&&trustooBeforeExecute(n.A,d.A),n.A.isProPage||n.A.isCollPage||n.A.isHomePage||n.A.isCartPage||Shopify.designMode||d.A.isPageReview||n.A.isActWdoRev||d.A.otherPageColl||n.A.hasPyRating||n.A.hasEcomRt){const t=(0,s.gsSession)("get","vstarTimestamp");if(t)n.A.timestamp=t;else{n.A.isFirstExecute=!0;const t=(new Date).getTime();(0,s.gsSession)("set","vstarTimestamp",t),n.A.timestamp=t}const e={trustoo_reviews:[],trustoo_show_reviews:[],trustoo_all_reviews:[],trustoo_shop_reviews:[],trustoo_popup_shop_reviews:[],trustoo_album_reviews:[]};(0,s.gsSession)("set","tt_detail_reviews",JSON.stringify(e)),function(){const t=n.A.keySettings.rating_icon_type||1,e=n.A.keySettings.verified_icon_type||1,i=(0,s.gsSession)("get","ttRatingIcons");let r={};i&&(r=JSON.parse(i),n.A.ratingIconSvg=r["star"+t],n.A.badgeIconSvg=r["badge"+e]);1===t&&(n.A.ratingIconSvg=I.A.star);1===e&&(n.A.badgeIconSvg=I.A.verified);n.A.ratingIconSvg&&n.A.badgeIconSvg||o.zG.getIcons().then(i=>{const o=["star","rounded","spikes","surrounded","fire","heart","diamond","crown","trophy","shirt","skirt","bag","tie","cup","leaf","seedling","footprint","chef"][t-1];if(i[0])n.A.ratingIconSvg=I.A.star,n.A.badgeIconSvg=I.A.verified;else{const t=JSON.parse(i[1]);n.A.ratingIconSvg=t[o],n.A.badgeIconSvg=t["badge"+e]}(0,s.$dqsa)(".vstar-star .pending").forEach(t=>{t.innerHTML=n.A.ratingIconSvg,t.classList.remove("pending")}),(0,s.$dqsa)("#vstar-reviews .user-verified.pending").forEach(t=>{t.insertAdjacentHTML("afterbegin",n.A.badgeIconSvg),t.classList.remove("pending")}),r["star"+t]=n.A.ratingIconSvg,r["badge"+e]=n.A.badgeIconSvg,(0,s.gsSession)("set","ttRatingIcons",JSON.stringify(r))})}();let i=document.createElement("style");i.id="trustoo-css",document.head.appendChild(i),n.A.globalStyle=i,d.A.setUserNeed(),Object.assign(n.A,d.A);const r=async function(){const t=(0,s.$dqs)(".pagefly-review-widget-sealapp,.custom-vstar-review-widget");if(t){const e=t.dataset.productId;if(e){const i=t.dataset.productTitle,s=`//${location.host}/cdn/shop/`+t.dataset.productImage;Object.assign(n.A,{productId:e,productName:i,productImageUrl:s})}q.A.customReviewsBlock=t}if(n.A.isProPage){let t=shopifyObj.productId,e=shopifyObj.productImage[0],i=shopifyObj.productName;Review.productId=t,Object.assign(n.A,{productId:t,productImageUrl:e,productName:i});const s=location.href.indexOf("/products/");-1!==s&&(n.A.productHandle=location.href.substring(s+10))}await d.A.getUserNeedData(),(0,s.findTrustooTargetElement)(),(0,s.imgLoadLimit)(["//cdn.vstar.app/static/images/default.png","//cdn.vstar.app/static/images/video_default.png",`//${n.A.staticBaseUrl}/static/images/sprites/trustoo_sprites.png?${n.A.constructTime}`,"//cdn.vstar.app/static/images/player.png"],3),E(),function(){var t=document.createElement("link");t.rel="stylesheet",t.href=`https://${n.A.staticBaseUrl}/static/css/index.css`;var e=document.createElement("link");e.rel="stylesheet",e.href=`https://${n.A.staticBaseUrl}/static/css/trustoo-sprite.min.css`,document.head.appendChild(t),document.head.appendChild(e)}(),function(){let t=[];if(!(0,s.$dqs)(".tt-review-detail-js")){let e=`https://${n.A.staticBaseUrl}/static/js/tt-review-detail.js?`+n.A.constructTime;"local"===n.A.env&&(e=`../../js/tt-review-detail.js?${(new Date).getTime()}`),t.push(e)}t.forEach(t=>{let e=document.createElement("script");e.src=t,e.setAttribute("defer",!0),-1!==t.indexOf("tt-review-detail")&&(e.className="tt-review-detail-js",e.onload=function(){(0,a.insertReviewDetail)()}),document.head.appendChild(e)})}()};d.A.executeDelay&&await(0,s.setDelay)(d.A.executeDelay),r()}}()})();
//# sourceMappingURL=seal-review.min.js.map